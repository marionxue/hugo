[
    {
        "title": "友情链接",
        "uri": "friend",
        "content": "tg  border collapse collapse border spacing 0 border color  aabcfe    tg td font family Arial  sans serif font size 14px padding 10px 5px border style solid border width 1px overflow hidden word break normal border color  aabcfe color  669 background color  e8edff    tg th font family Arial  sans serif font size 14px font weight normal padding 10px 5px border style solid border width 1px overflow hidden word break normal border color  aabcfe color  039 background color  b9c9fe    tg  tg xldj border color inherit text align left   tg  tg 0lax text align left vertical align top                              ybyang2 Feisky Cizixs     Reliable Insights",
        "objectID": "friend",
        "subtitle": "我的一些朋友",
        "nocomment": true,
        "unrelated": true,
        "postmeta": false
    },
    {
        "description": "英语学习终极秘诀 - 把你的英语用起来",
        "uri": "learn-english",
        "content": "Sam                            smile        Sam                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Sam                                                                                                                                                                                                                                                                                                                                                                                                      PK                                                                                                                              boss      boss                       GRE                  boss     boss                                                                                                                                                                                                                                                                                                                                ABC                                                                                                                                                           newbie                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              boss                                                                                                                                       pdf epub          Podcast   A Day life Jeff                                                   Download          pdf epub mobi                       blush",
        "objectID": "learn-english",
        "title": "英语学习终极秘诀",
        "subtitle": "把你的英语用起来",
        "date": "2018-05-25T06:46:19.000Z",
        "draft": false,
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ],
        "postmeta": false,
        "nocomment": true
    },
    {
        "title": "2017 年的小目标",
        "uri": "posts/2017-targets",
        "content": "9      2016               1                                                 2                                  3                             4                5              6              7  500           8   CEO          9               10                                 2017             1                  2                     3             4        6        4",
        "objectID": "posts/2017-targets",
        "date": "2017-07-26T19:09:28.000Z",
        "draft": false,
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Kubernetes API 扩展",
        "uri": "posts/api-aggregation",
        "content": "Aggregated     API server         API server      monolithic                    API server              Kubernetes                 API server                  API server     core API server         kubectl            1 7           kube apiserver                               API          APIService          Kubernetes API     URL             API    e g   apis myextension mycompany io v1               APIService               Pod       extension apiserver     APIService                   extension apiserver                  1        API             API            API           cfssl                    wget https   pkg cfssl org R1 2 cfssl_linux amd64   chmod  x cfssl_linux amd64   mv cfssl_linux amd64  usr local bin cfssl   wget https   pkg cfssl org R1 2 cfssljson_linux amd64   chmod  x cfssljson_linux amd64   mv cfssljson_linux amd64  usr local bin cfssljson   wget https   pkg cfssl org R1 2 cfssl certinfo_linux amd64   chmod  x cfssl certinfo_linux amd64   mv cfssl certinfo_linux amd64  usr local bin cfssl certinfo   export PATH  usr local bin  PATH       go       go  u github com cloudflare cfssl cmd      ls  GOPATH bin cfssl  cfssl cfssl bundle cfssl certinfo cfssljson cfssl newkey cfssl scan    GOPATH bin        cfssl                      cat                     CA  Certificate Authority     CA        mkdir  root ssl   cd  root ssl   cfssl print defaults config   config json   cfssl print defaults csr   csr json   config json          ca config json            87600h   cat   aggregator ca config json  CN   Common Name kube apiserver                    User Name                     O   Organization kube apiserver                      Group      CA         cfssl gencert  initca aggregator ca csr json   cfssljson  bare aggregator ca   ls aggregator ca  aggregator ca config json aggregator ca csr aggregator ca csr json aggregator ca key pem aggregator ca pem    kubernetes       aggregator          aggregator csr json      CN    aggregator    hosts      127 0 0 1    192 168 123 250    192 168 123 248    192 168 123 249    10 254 0 1    kubernetes    kubernetes default    kubernetes default svc    kubernetes default svc cluster    kubernetes default svc cluster local      key      algo    rsa    size   2048     names        C    CN    ST    Shanghai    L    Shanghai    O    k8s    OU    System           hosts                    IP                etcd     kubernetes master                etcd    kubernetes master       IP   kubernetes       IP     kube apiserver     service cluster ip range        IP   10 254 0 1           IP               aggregator         cfssl gencert  ca aggregator ca pem  ca key aggregator ca key pem  config aggregator ca config json  profile aggregator aggregator csr json   cfssljson  bare aggregator   ls aggregator  aggregator csr aggregator csr json aggregator key pem aggregator pem                       pem     Master      etc kubernetes ssl          cp   pem  etc kubernetes ssl 2        API kube apiserver           requestheader client ca file  etc kubernetes ssl aggregator ca pem   requestheader allowed names aggregator   requestheader extra headers prefix X Remote Extra    requestheader group headers X Remote Group   requestheader username headers X Remote User   proxy client cert file  etc kubernetes ssl aggregator pem   proxy client key file  etc kubernetes ssl aggregator key pem Note          CN             requestheader allowed names      aggregator        kube apiserver    systemctl daemon reload   systemctl restart kube apiserver    kube proxy     Master      kube proxy            enable aggregator routing true 3     Extending Kubernetes API aggregation layer Configure aggregation layer   TLS",
        "objectID": "posts/api-aggregation",
        "subtitle": "使用聚合层扩展 Kubernetes API",
        "date": "2018-06-19T06:15:06.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "calico Router reflection(RR) 模式介绍及部署",
        "uri": "posts/calico-rr",
        "content": "1       endpoint             endpoint  heart  AS                     BGP              ibgp AS     BGP Speaker          ibgp ebgp        ebgp AS     BGP Speaker          ibgp      ebgp        workloadEndpoint Calico                 endpoint hostEndpoints Calico         node     2       Calico          IP                  workload endpoint wl     nodeA          nodeB      B                                                                                                            ConA         ConB                                                                         wl A     wl B                       node A                 node B                     type1  lan                                                 type2  different network                                               Routers                                       ConA      ConB      nodeA   wl A       nodeA             iptables         nodeB     nodeA   nodeB                    node B                 nodeA   nodeB                                    node B        nodeA                node      BGP              node            bird        BGP Speaker     node    BGP                       node       node              X X X X   IP                              node       workload endpoint         3  BGP   BGP                  AS Autonomous System             AS                                                    16    ID      64512   65535   1023                  calico     AS  64512            calicoctl config asNumber      calicoctl config set asNumber 64512       BGP speaker    ibgp ebgp ebgp          ebgp    BGP         BGP speaker    BGP                BGP speaker             BGP speaker              calico   node             bird  node                            BGP Speaker                    Router reflection RR     BGP Speaker                 BGP Speaker          BGP Speaker    bgp        bgp mesh       bgp         O n 2           BGP Speaker             Calico                                             calicoctl config set nodeTonodeMesh off   calicoctl config set nodeTonodeMesh BGP Speaker RR    RR                 BGP Speaker         Router Reflector  RR      BGP Speaker    bgp        BGP Speaker      RR                     RR        BGP Speaker    BGP                     Calico       Global Peer    RR     Global Peer     BGP Speaker        Calico         node     Global peer    BGP                  RR    Global Peers     Calico   Calico         RR              node  4  RR              IP                             10 10 31 190   kube master     10 10 31 193   kube node1     10 10 31 194   kube node2     10 10 31 168   node1     node1               docker run   privileged   net host  d    e IP      e IP6      e ETCD_ENDPOINTS     v      e ETCDCACERT_FILE      e ETCDCERTFILE      e ETCDKEYFILE     calico routereflector v0 4 0         etcd                             ipv4      etcd           calico bgp v1 rr_v4  ipv6      etcd           calico bgp v1 rr_v6        json     ip        cluster_id           curl         etcd   IPv4 entries   curl   cacert   cert   key  L https    2379 v2 keys calico bgp v1 rrv4   XPUT  d value     ip          clusterid          IPv6 entries   curl   cacert   cert   key  L https    2379 v2 keys calico bgp v1 rrv6   XPUT  d value     ip          clusterid                curl   cacert   cert   key  L https   10 10 31 190 2379 v2 keys calico bgp v1 rrv4 10 10 31 168  XPUT  d value     ip     10 10 31 168     clusterid     1 0 0 1        calico                  calicoctl config set nodeToNodeMesh off              calicoctl nodes   output wide            calicoctl config asNumber   RR    Global Peers     Calico     calicoctl create  f   scope  global spec  asNumber  EOF        ipv4   ipv6               BGP      TCP 179            node1         ss  tnp grep 179 ESTAB 0 0 10 10 31 168 179 10 10 31 196 55967 users    bird  pid 10601 fd 8   ESTAB 0 0 10 10 31 168 56393 10 10 31 193 179 users    bird  pid 10601 fd 9   ESTAB 0 0 10 10 31 168 41164 10 10 31 194 179 users    bird  pid 10601 fd 10     node1             docker exec 52e584f5bcf3 cat  config bird cfg Generated confd router id 10 10 31 168  Watch interface up down events  protocol device   scan time 2    Scan interfaces every 2 seconds   Template BGP clients template bgp bgp_template   debug off  description  Connection BGP peer   multihop  import all    Import routes  don t know upstream topology therefore trust ToR RR  export all    Export all  source address 10 10 31 168    local address use TCP connection graceful restart    comment kernel section graceful restart                  RR to RR full mesh               RR 10 10 31 168 Skipping ourselves               RR global peer               RR global peer calico nodes  Peering Calico node node1 protocol bgp Global101031193 bgp_template   local 64512  neighbor 10 10 31 193 64512  rr client  rr cluster id 1 0 0 1    Peering Calico node node2 protocol bgp Global101031194 bgp_template   local 64512  neighbor 10 10 31 194 64512  rr client  rr cluster id 1 0 0 1    Peering Calico node node3 protocol bgp Global101031196 bgp_template   loca",
        "objectID": "posts/calico-rr",
        "subtitle": "通过 calico RR 模式来使 K8S 支撑容纳更多的 node",
        "date": "2018-02-01T11:03:49.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes",
            "docker"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Envoy 熔断器的原理和使用",
        "uri": "posts/circuit-breaking",
        "content": "circuit breaking                                                                                                                                                                            Envoy                    Envoy                                1        Envoy                                              Envoy   clusters        circuit_breakers    Envoy                   circuit_breakers  thresholds  priority  DEFAULT max_connections  1000 max_requests  1000 priority  HIGH max_connections  2000 max_requests  2000 thresholds                             priority                   DEFAULT   HIGH                                   HIGH                           POST      max_connections   Envoy                           1024           HTTP 1 1      HTTP 2               max_requests                                    1024           HTTP 2       HTTP 1 1               2             HTTP 1 1     HTTP 2             HTTP 1 1                 HTTP 2                            HTTP1 1                                HTTP 1 1         max_connections  HTTP 2         max_requests                                                     1000    second       2    HTTP 1                 2000                                     max_connections         10 x 2000       10                                                             3                                                                                                                     Envoy                                             max_retries                                                                                max_retries                                     10                                   10",
        "objectID": "posts/circuit-breaking",
        "subtitle": "使用熔断器来预防服务出现雪崩效应",
        "date": "2018-07-13T09:22:49.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "envoy",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "keywords": [
            "杨传胜的博客",
            "virtualservice",
            "service mesh",
            "istio"
        ],
        "uri": "posts/conflictingvirtualservicehost",
        "content": "Istio       VirtualService                                                reviews     reviews default svc cluster local  Istio           VirtualService            FQDN                    FQDN                 VirtualService                                   IP     Web     VirtualService                       FQDN                    1                                             1      VirtualService        FQDN     reviews foo svc cluster local   reviews bar svc cluster local         apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  vs1 namespace  foo spec  hosts  reviews     apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  vs2 namespace  bar spec  hosts  reviews        2      VirtualService        FQDN    reviews default svc cluster local                     apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  vs3 namespace  default spec  hosts  reviews     apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  vs4 namespace  default spec  hosts  reviews                            3                        VirtualService           Web             apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  vs5 namespace  foo spec  hosts  google com http  match  uri  prefix   search route  destination  host  search foo svc cluster local apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  vs6 namespace  foo spec  hosts  google com http  match  uri  prefix   mail route  destination  host  mail foo svc cluster local                  VirtualService  2                                          make the hostnames unique         VirtualService                    VirtualServices           reviews   ratings            2      apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  vs3 namespace  default spec  hosts  reviews     apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  vs4 namespace  default spec  hosts  ratings           VirtualService   merge the conflicting virtualServices         VirtualService                VirtualService       VirtualService        3                         google com     VirtualService  apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  vs5 namespace  foo spec  hosts  google com http  match  uri  prefix   search route  destination  host  search foo svc cluster local match  uri  prefix   mail route  destination  host  mail foo svc cluster local",
        "objectID": "posts/conflictingvirtualservicehost",
        "title": "Istio 中 VirtualService 的注意事项",
        "subtitle": "VirtualService 最佳定义准则",
        "description": "本文将会告诉你在 Istio 中定义 VirtualService 的一些注意事项和定义准则。",
        "date": "2018-12-15T10:28:30.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Kubernetes 中的容器运行时",
        "uri": "posts/container-runtime",
        "content": "Container Runtime   Kubernetes                           Kubelet    Container Runtime Interface  CRI                             Container Runtime Interface  CRI     Kubelet 1 5   kubelet 1 6                   Kubelet Container Runtime API         Pod     API       Sandbox   Container   API                     CRI      1 4               v1 5             v1 6                  frakti cri o   alpha    v1 7       cri containerd   alpha      frakti   cri o      beta     1  CRI    CRI    gRPC     RuntimeService   ImageService                      v1 10   pkg kubelet apis cri v1alpha2 runtime v1 7 v1 9  pkg kubelet apis cri v1alpha1 runtime v1 6  pkg kubelet api v1alpha1 runtime Kubelet    CRI        Runtime          CRI          kubelet          kubelet   container runtime remote   container runtime endpoint unix    var run crio crio sock    2         Container Runtime      Container Runtime       CRI gRPC Server    RuntimeService   ImageService   gRPC Server          unix socket Linux    unix socket    Windows    tcp                         Container Runtime     3        Container Runtime              CRI                 Docker            kubelet    pkg kubelet dockershim                 Runtime HyperContainer     Kubernetes v1 6       hypervisor   docker                         NFV     Runc       cri o   cri containerd cri containerd     kubernetes v1 7  cri o     Kubernetes v1 6          runc   intel clear container Rkt      Mirantis       libvirt          qcow2    Infranetes       IaaS         GCE AWS   cri containerd   Containerd      1 0        dockershim   docker daemon     cri containerd   containerd    1 1       cri containerd     Containerd         CRI     Containerd     CRI       Kubelet CRI      Image Service   Runtime Service                   CNI     Pod       4  CRI Tools                Container Runtime          cri tools            crictl      docker              Kubelet      Container Runtime               critest  CRI                Container Runtime       CRI               libpod           podman     crictl           oci              buildah",
        "objectID": "posts/container-runtime",
        "subtitle": "容器运行时接口解析",
        "date": "2018-04-03T06:50:43.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes",
            "docker"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "控制 Egress 流量",
        "uri": "posts/control-egress-traffic",
        "content": "Istio                           Istio        Pod     iptables                 Sidecar                     URL                                  Istio                     ServiceEntry                Istio                 IP        1                    Istio     sleep                                     Sidecar               kubectl apply  f samples sleep sleep yaml       sleep              Sidecar    kubectl apply  f 2  Istio              Istio ServiceEntry     Istio                        httpbin org    www baidu com              1       ServiceEntry            HTTP          cat 2         ServiceEntry       VirtualService         HTTPS          cat Note      HTTP     ServiceEntry     GateWay                     Pod                 Cluster    GateWay   ServiceEntry                        istioctl         httpbin ext         sleep   Pod Name    kubectl pod  l app sleep NAME READY STATUS RESTARTS AGE sleep 5bc866558c 89shb 2 2 Running 0 49m        istioctl pc routes sleep 5bc866558c 89shb   name 80  o json      name    80    virtualHosts        name    httpbin org 80    domains      httpbin org    httpbin org 80      routes        match      prefix           route      cluster    outbound 80  httpbin org    timeout    0 000s    maxGrpcTimeout    0 000s      decorator      operation    httpbin org 80                 Pod sleep 5bc866558c 89shb       httpbin org         HTTP          outbound 80  httpbin org outbound             Cluster    istioctl pc clusters sleep 5bc866558c 89shb   fqdn httpbin org  o json      name    outbound 80  httpbin org    type    ORIGINAL_DST    connectTimeout    1 000s    lbPolicy    ORIGINALDSTLB    circuitBreakers      thresholds                type          ORIGINAL_DST                                      IP                 IP table REDIRECT    eBPF                                      IP    httpbin org                                    IP    Envoy                 Service discovery ServiceEntry Resolution           ServiceEntry Resolution            ServiceEntry   resolution                  Envoy             NONE       Envoy    ORIGINAL_DST       resolution              STATIC       Envoy    STATIC      endpoints        IP           DNS       Envoy    STRICT_DNS            DNS    IP           endpoints                    DNS    hosts              endpoints               IP     lbPolicy          ORIGINALDSTLB                        Load balancing          bookinfo             istioctl pc routes   name 80  o json   istioctl pc clusters   fqdn httpbin org  o json                                    bookinfo        Pod                                   Pod                 Cluster         HTTPS ServiceEntry        HTTPS     ServiceEntry   Envoy            HTTP         Note      HTTPS     ServiceEntry     GateWay                     Pod                Cluster    GateWay   ServiceEntry                istioctl       baidu               ServiceEntry      VirtualService       istioctl delete virtualservice baidu          istioctl pc listeners sleep 5bc866558c 89shb   address 0 0 0 0   port 443  o json      name    0 0 0 0_443    address      socketAddress      address    0 0 0 0    portValue   443       filterChains        filters            name    envoy tcp_proxy    config      cluster    outbound 443  www baidu com    stat_prefix    outbound 443  www baidu com          name                      Envoy                       listener Filter    envoy tcp_proxy      TCP      TCP                                     Cluster     Cluster    istioctl pc clusters sleep 5bc866558c 89shb   fqdn www baidu com  o json      name    outbound 443  www baidu com    type    STRICT_DNS    connectTimeout    1 000s    hosts        socketAddress      address    www baidu com    portValue   443         circuitBreakers      thresholds              dnsLookupFamily    V4_ONLY                       0 0 0 0                          443                              Cluster       Cluster         DNS               www baidu com             kubectl exec      sleep Pod          kubectl exec  it  SOURCE_POD  c sleep bash       HTTPS          curl https   www 163 com curl   51  SSL  no alternative certificate subject name matches target host name  www 163 com    curl https   www taobao com curl   51  SSL  no alternative certificate subject name matches target host name  www taobao com    curl https   192 192 192 192 curl   51  SSL  certificate subject name  baidu com  does not match target host name  192 192 192 192                NONE            www baidu com       www 163 com   www taobao com     https                                        TLS VirtualService           VirtualService                      VirtualService               TLSRoute  tls      TLS   HTTPS    TLS         https  tls                Gateway     HTTPS TLS            HTTPS    TLS     ServiceEntry          TLSRoute  sniHosts             SNI              SNI                com        foo example com   example com  route              TLS                       100    Envoy    TCP                            Envoy         istioctl pc listeners sleep 5bc866558c 89shb   address ",
        "objectID": "posts/control-egress-traffic",
        "subtitle": "服务网格内部的 ServiceEntry 配置深度解析以及 Egress 流量的访问策略管理",
        "date": "2018-08-16T05:40:27.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh",
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "CRI-O 简介",
        "uri": "posts/cri-o",
        "content": "https   www yangcs net posts container runtime                                            CRI O  1  CRI O            Container Runtime          Red Hat                                   Kubernetes          skunkworks         CRI O            CRI      2017 Kubecon Austin         Walsh       CRI O                  Unix                             Red Hat   CRI O     Mrunal Patel              Red Hat   2016       OpenShift                    Intel   SUSE     CRI O   CRI          OCI   Docker                    GPG               Container Network Interface CNI             CNI                OpenShift                     CoW            overlay aufs          Btrfs  2  CRI O        CRI O                                    CRI O      Clear Containers                                      Kubernetes         Kubernetes                   Kubernetes             CRI O      CRI O       runc        OCI                 Kubernetes         CRI O               Linux                        CRI O                                                Kubernetes    kubelet      pod  kubelet    CRI Container runtime interface         CRI O daemon  CRI O    containers image                                     containers storage      COW               rootfs    CRI O    oci runtime tool      OCI       json           OCI Generate tools          CRI O            CRI                     runc              conmon      conmon      pid   1         pty                                    CNI            CNI        CRI O              conmon    Patel    conmon      C                conmon         TTY         out of memory        conmon        systemd               CRI O       systemd                sytemd     cgroup         systemd      systemctl                    conmon   CRI daemon             CRI O                                 Docker         Docker                    Kubernetes                            3      CRI O 1 0  2017 10       Kubernetes 1 7    CRI O 1 8 1 9         Kubernetes   1 8  1 9            Kubernetes     CRI O   Openshift 3 7     beta     Patel     Openshift 3 9             3 10               Docker                        Kata Containers       VM         kube spawn            NFS  GlusterFS                      casync    libtorrent                               CRI O     GitHub         CRI O     4     CRI O Alternative Runtimes Kubernetes Lightweight Container Runtime Kubernetes CRI O Support Kubernetes CRI O 1 0",
        "objectID": "posts/cri-o",
        "subtitle": "轻量级容器运行时 CRI-O 解析",
        "date": "2018-04-03T08:11:38.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes",
            "docker"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "使用自定义指标进行弹性伸缩",
        "uri": "posts/custom-metrics-hpa",
        "content": "Kubernetes 1 8               CPU             Metrics API   Kubernetes                           kubectl top                    Horizontal Pod Autoscale                        kubectl top node   kubectl top pod             kubectl top node NAME CPU cores  CPU  MEMORY bytes  MEMORY  192 168 123 248 245m 12  2687Mi 34  192 168 123 249 442m 22  3270Mi 42  192 168 123 250 455m 22  4014Mi 52    kubectl top pod NAME CPU cores  MEMORY bytes  details v1 64b86cd49 52g82 0m 11Mi podinfo 6b86c8ccc9 5qr8b 0m 7Mi podinfo 6b86c8ccc9 hlxm7 0m 12Mi podinfo 6b86c8ccc9 qxhng 0m 6Mi 1  Resource Metrics API    Metrics API         node   pod             API                    node 10                Metrics API      API                apis metrics k8s io         Kubernetes API                                 Metrics API   k8s io metrics                  Metrics API            Metrics API          Metrics Server          2  Metrics Server Metrics Server    Resource Metrics API  Metrics Server                    Kubernetes 1 8          Deployment          kube up sh                     Kubernetes            Kubernetes 1 7                    deployment yamls        Metrics Server         Kubelet     Summary API               API server      Metrics Server Kubernetes                  Kubernetes 1 7                      Metrics Server        3  custom metrics api   API                  Kubernetes             API Service     kubernetes incubator custom metrics apiserver          Kubernetes           4  HPA                                  Kubernetes         Cluster Autoscaler             Horizontal Pod Autoscaler        rs   rc    pod  Cluster Autoscaler   Horizontal Pod Autoscaler                     Cluster Autoscaler                          HPA         IaaS PaaS          Kubernetes   1 2      HPA      1 6           kubelet                   1 6          API server Heapseter    kube aggregator          Kubernetes 1 7                       API         Kubernetes API        API          Prometheus            HPA                   hpa                  Resource Metrics API         CPU        5            Kubernetes 1 9         HPA v2                     Metrics Server             demo       CPU        Pod                     Prometheus     custom metrics apiserver          custom metrics apiserver        demo           HPA           API go 1 8     k8s prom hpa      cd  GOPATH   git clone https   github com stefanprodan k8s prom hpa    Metrics Server Kubernetes Metrics Server                       Heapster      Metrics Server        kubernetes summary_api        node   pod   CPU         summary API         Kubelet cAdvisor     Metrics Server       API      Metrics Server                kube controller manager         horizontal pod autoscaler use rest clients       true    kube controller manager         master     kube apiserver         master http   172 20 0 113 8080    kube system        metrics server    kubectl create  f   metrics server                   Pod   CPU             nodes       kubectl   raw   apis metrics k8s io v1beta1 nodes    jq      pods       kubectl   raw   apis metrics k8s io v1beta1 pods    jq      CPU                     golang         HPA    default         podinfo    kubectl create  f   podinfo podinfo svc yaml   podinfo podinfo dep yaml      http   PODINFOSVCIP 9898     podinfo                   HPA    CPU         80        200Mi         10      apiVersion  autoscaling v2beta1 kind  HorizontalPodAutoscaler metadata  name  podinfo spec  scaleTargetRef  apiVersion  extensions v1beta1 kind  Deployment name  podinfo minReplicas  2 maxReplicas  10 metrics  type  Resource resource  name  cpu targetAverageUtilization  80 type  Resource resource  name  memory targetAverageValue  200Mi    HPA    kubectl create  f   podinfo podinfo hpa yaml       HPA      metrics server           CPU            kubectl hpa NAME REFERENCE TARGETS MINPODS MAXPODS REPLICAS AGE podinfo Deployment podinfo 2826240   200Mi  15    80  2 10 2 5m      CPU        rakyll hey          install hey   go  u github com rakyll hey  do 10K requests hey  n 10000  q 10  c 5 http   PODINFOSVCIP 9898              HPA event    kubectl describe hpa podinfo Events  Type Reason Age Message                               Normal SuccessfulRescale 7m horizontal pod autoscaler New size  4  reason  cpu resource utilization  percentage request  above target Normal SuccessfulRescale 3m horizontal pod autoscaler New size  8  reason  cpu resource utilization  percentage request  above target    podinfo                kubectl delete  f   podinfo podinfo hpa yaml   podinfo podinfo dep yaml   podinfo podinfo svc yaml    Custom Metrics Server     HPA      custom metrics                Prometheus                    Prometheus          custom metrics apiserver      k8s prometheus adapter     metrics     Kubernetes       API     monitoring         kubectl create  f   namespaces yaml   Prometheus v2     monitoring         kubectl create  f   prometheus    Prometheus adapter     TLS       certs    custom metrics apiserver    kubectl create  f   custom metrics api     Prometheus             kubectl ",
        "objectID": "posts/custom-metrics-hpa",
        "subtitle": "通过 Prometheus adaptor 来自定义监控指标",
        "date": "2018-06-19T09:02:52.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Device Mapper系列 (1)：Device Mapper 技术",
        "uri": "posts/devicemapper-theory",
        "content": "1  Device Mapper    Device Mapper   linux                    framework              docker   devicemapper                    thin provisioning           docker           Device Mapper        devicemapper           Device Mapper  Device Mapper     AUFS ext4 NFS                File System     Linux                                                                                         Linux           LVM2 Linux Volume Manager 2 version  EVMS Enterprise Volume Management System  dmraid Device Mapper Raid Tool                     Device Mapper        block            file  Device Mapper   Linux 2 6 9     Linux         Linux    2 6 9           Device Mapper                  docker          RHEL   CentOS     docker            overlay  devicemapper           docker                                             Docker                         2            Device Mapper                                                                            device mapper    dmsetup              device mapper                                               IO                 IO             Device Mapper      3  Device Mapper      Device Mapper    Linux                                   mapped device      map table       target device                                                                                                                    Device Mapper                                                                                                                               Target                                512               128            128 512 64K                Device Mapper                Target Driver       IO                             Raid                     Linux                  Device Mapper    IO                                         4  Docker    Device Mapper      Docker   devicemapper           copy on write      thin provisioning       snapshot                    CoW copy write                      aufs   cow                            branch      branch         branch                             CoW                    branch           branch                                         file1                file1                                                       file1      file1                  wh               file1            file1                    devicemapper        block      Snapshot                                                                                                                           Thin provisioning               Thin provisioning                                                                                          N   N           32              2GB                                                                                                                                                                                   Thin Provisioning                                                 Fat Provisioning      Thin Provisioning                                                   10TB                                 2TB                 2TB               10TB                     1 5                                           Docker       Thin Provisioning         UnionFS               Docker     Thin Provisioning   Snapshot                 Thin Provisioning   Snapshot  5       DOCKER     DEVICEMAPPER Docker    DeviceMapper",
        "objectID": "posts/devicemapper-theory",
        "subtitle": "Device Mapper 原理剖析",
        "date": "2018-01-21T09:28:41.000Z",
        "draft": false,
        "toc": true,
        "categories": "docker",
        "tags": [
            "docker"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Istio 的高级边缘流量控制（一）",
        "uri": "posts/egress-gateway-1",
        "content": "Istio       TLS                   HTTP                    Envoy               Egress Gateway     Istio         Istio       TLS                           Egress Gateway          Istio 0 8     ingress   Egress gateway      Ingress Gateway                              Egress Gateway                   Egress Gateway     Istio                        Egress     1       use case                                                                                                                                   IP                            Egress Gateway      IP     Egress Gateway                                     2         before you begin               Istio      sleep                             sidecar           sleep         kubectl apply  f samples sleep sleep yaml           sleep            sidecar    kubectl apply  f 3     Egress Gateway     Istio     HTTP      egress gateway for http traffic         ServiceEntry                 1    edition cnn com      ServiceEntry    kubectl apply  f   2     ServiceEntry         HTTPS     http   edition cnn com politics    kubectl exec  it  SOURCE_POD  c sleep    curl  sL  o  dev null  D   http   edition cnn com politics HTTP 1 1 301 Moved Permanently     location  https   edition cnn com politics     HTTP 1 1 200 OK Content Type  text html  charset utf 8     Content Length  151654                Istio       TLS       TLS                3    edition cnn com   80        Egress Gateway          TLS        kubectl apply  f            TLS            TLS                       4       DestinationRule   VirtualService         Egress Gateway            kubectl apply  f         gateway gateway       mesh    VirtualService             edition cnn com 80         Egress Gateway             subset   cnn   Cluster          Cluster         DestinationRule      Cluster    kubectl apply  f      Egress Gateway    Istio     HTTP    5       HTTP     http   edition cnn com politics    kubectl exec  it  SOURCE_POD  c sleep    curl  sL  o  dev null  D   http   edition cnn com politics HTTP 1 1 301 Moved Permanently     location  https   edition cnn com politics     HTTP 1 1 200 OK Content Type  text html  charset utf 8     Content Length  151654            2         6     istio egressgateway pod                  kubectl logs   kubectl pod  l istio egressgateway  n istio system  o jsonpath    items 0  metadata name    istio proxy  n istio system   tail                      2018 06 14T11 46 23 596Z   GET  politics HTTP 1 1  301   0 0 3 1  172 30 146 87   curl 7 35 0   ab7be694 e367 94c5 83d1 086eca996dae   edition cnn com   151 101 193 67 80            80     HTTP        Egress Gateway   443     HTTPS        edition cnn com   4       cleanup     Gateway VirtualService DestinationRule   ServiceEntry    kubectl delete gateway istio egressgateway   kubectl delete serviceentry cnn   kubectl delete virtualservice direct cnn through egress gateway   kubectl delete destinationrule egressgateway for cnn 5       reference     Egress gateway",
        "objectID": "posts/egress-gateway-1",
        "subtitle": "通过 Egress Gateway 引导 Istio 的出口 HTTP 流量",
        "date": "2018-11-26T06:43:51.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh",
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Istio 的高级边缘流量控制（二）",
        "uri": "posts/egress-gateway-2",
        "content": "Egress Gateway    Istio     HTTP       443     HTTPS        Egress Gateway        edition cnn com  Istio       TLS                HTTP                            HTTP       Egress Gateway        Egress Gateway    TLS                     1  ServiceEntry   serviceentry        edition cnn com      ServiceEntry                   kubectl apply  f   2  Gateway   gateway    edition cnn com   443        Egress Gateway          TLS        kubectl apply  f   3  VirtualService   DestinationRule   virtualserviceanddestinationrule       DestinationRule   VirtualService         Egress Gateway            kubectl apply  f           http   edition cnn com      HTTP     http   edition cnn com politics    kubectl exec  it  SOURCE_POD  c sleep    curl  sL  o  dev null  D   http   edition cnn com politics HTTP 1 1 200 OK     content length  150793           Istio       TLS           301 Moved Permanently     Note            80     HTTP        Egress Gateway     Egress Gateway    TLS      443     HTTP             sidecar      TLS     4       cleanup          Istio        kubectl delete gateway istio egressgateway   kubectl delete serviceentry cnn   kubectl delete virtualservice direct cnn through egress gateway   kubectl delete destinationrule originate tls for edition cnn com   kubectl delete destinationrule egressgateway for cnn 5       reference     Egress gateway",
        "objectID": "posts/egress-gateway-2",
        "subtitle": "通过 Egress gateway 发起 TLS 连接",
        "date": "2018-11-28T10:19:56.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh",
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "在服务网格内部调用外部 Web 服务",
        "uri": "posts/egress-https",
        "content": "Web         VADIM EISENBERG                 2018   8   9            Istio 1 0        v1alpha3      API        Istio               Web                 service mesh                                                                                                                              Web                                     Istio Bookinfo               Web    Google Books APIs                     mesh external service entries   Istio       HTTPS                     TLS               1         initial setting           Web                 Istio   Kubernetes         Istio Bookinfo                details                          details                                       Istio 1 0             TLS    Bookinfo        Istio       samples bookinfo               Bookinfo                        Bookinfo                                              2  Bookinfo    HTTPS    Google    Web      bookinfo with https access to a google books web service            v2     details         Google Books APIs                        details              DONOTENCRYPT     false      HTTPS     HTTP             kubectl apply  f samples bookinfo platform kube bookinfo details v2 yaml   dry run  o yaml   kubectl set env   local  f    DONOTENCRYPT false   o yaml   kubectl apply  f               details V2     Bookinfo            Google Book      Istio                      details              details v2    kubectl apply  f samples bookinfo networking virtual service details v2 yaml           VirtualService                              ingress   IP                   web                Error fetching product details                                                                details               productpage       productpage                                                                                     Google Book Web          Istio sidecar    Envoy proxies                                mesh external service entry      Google    Web     HTTPS      enable https access to a google books web service           mesh external ServiceEntry                           VirtualService     SNI              kubectl apply  f                    ServiceEntry    kubectl serviceentries NAME AGE googleapis 8m     ServiceEntry    kubectl delete serviceentry googleapis serviceentry  googleapis  deleted    ServiceEntry      Web                    Error fetching product details    ServiceEntry     Istio             Istio operators                                                         Google    Web     HTTPS        cleanup of https access to a google books web service    kubectl delete serviceentry googleapis   kubectl delete virtualservice googleapis   kubectl delete  f samples bookinfo networking virtual service details v2 yaml   kubectl delete  f samples bookinfo platform kube bookinfo details v2 yaml 3    Istio     TLS   tls origination by istio                       Google API                          Books API                                             URL             URL www googleapis com books v1 volumes q isbn 0486424618    URL   Books API      books      volumes q isbn 0486424618   ISBN         HTTPS      HTTP                        sidecar                    Istio      SNI Server Name Indication                    www googleapis com      Istio      HTTP                          HTTP       Istio         HTTPS       TLS                                Istio                      Istio                                     HTTPS                                          HTTPS               Pod         HTTP          sidecar Envoy      sidecar      TLS       pod                     HTTPS                    Sidecar                 Bookinfo   details           Ruby net http     uri   URI parse  https   www googleapis com books v1 volumes q isbn     isbn  http   Net  HTTP new uri host  uri port      unless ENV  DONOTENCRYPT        true  http use_ssl   true end         HTTPS    443      URI parse     URI  https                 DONOTENCRYPT                HTTP            details v2   deployment       container           DONOTENCRYPT        true   env  name  DONOTENCRYPT value   true          TLS         Web        Bookinfo   Google    Web       TLS      bookinfo with tls origination to a google books web service  1     details v2      HTTP       Google Books API    bookinfo details v2 yaml      DONOTENCRYPT       true    kubectl apply  f samples bookinfo platform kube bookinfo details v2 yaml 2      details            details v2    kubectl apply  f samples bookinfo networking virtual service details v2 yaml 3    www google apis      mesh external ServiceEntry       DestinationRule      TLS       kubectl apply  f   Note       443      http             HTTP       Bookinfo    443      HTTP       TLS                   TLS             4          Web                     5     details v2   sidecar           HTTP       kubectl logs   kubectl pods  l app details  l version v2  o jsonpath    items 0  metadata name    istio proxy   grep googleapis  2018 08 09T11 32 58 171Z   GET  books v1 volumes q isbn 0486424618 HTTP 1 1  200   0 1050 264 264      Ruby   b993bae7 4288 9241 8",
        "objectID": "posts/egress-https",
        "subtitle": "HTTPS 流量的出口规则",
        "date": "2018-11-21T09:09:25.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh",
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "在服务网格内部调用外部 TCP 服务",
        "uri": "posts/egress-tcp",
        "content": "TCP         VADIM EISENBERG                2018   7   23            Istio 1 0        v1alpha3      API        Istio                                  Web             Istio             HTTPS        Web                    Istio             TCP                       Bookinfo                   MySQL                     ratings                 ServiceEntry                      1  Bookinfo                  bookinfo sample application with external ratings database       Kubernetes           MySQL          Bookinfo           Bookinfo                              setting up the database for ratings data            MySQL               MySQL           Compose MySQL     mysqlsh MySQL Shell    MySQL             1     MYSQLDBHOST   MYSQLDBPORT         export MYSQLDBHOST    export MYSQLDBPORT               host   port             localhost   3306  2                                  admin                   Compose Mysql                curl  s https   raw githubusercontent com istio istio master samples bookinfo src mysql mysqldb init sql   mysqlsh   sql   ssl mode REQUIRED  u admin  p   host  MYSQLDBHOST   port  MYSQLDBPORT                            mysql                 curl  s https   raw githubusercontent com istio istio master samples bookinfo src mysql mysqldb init sql   mysql  u root  p   host  MYSQLDBHOST   port  MYSQLDBPORT 3         bookinfo        test ratings       SELECT       mysqlsh   sql   ssl mode REQUIRED  u admin  p   host  MYSQLDBHOST   port  MYSQLDBPORT  e  CREATE USER  bookinfo  IDENTIFIED     GRANT SELECT test ratings  bookinfo                               mysql             mysql  u root  p   host  MYSQLDBHOST   port  MYSQLDBPORT  e  CREATE USER  bookinfo  IDENTIFIED     GRANT SELECT test ratings  bookinfo                       Bookinfo             admin           Bookinfo                   bookinfo            SELECT                                        history  d     bash                        bash                     mysql          mysql_history                MySQL                           4                       mysqlsh   sql   ssl mode REQUIRED  u bookinfo  p   host  MYSQLDBHOST   port  MYSQLDBPORT  e  select   test ratings   Enter password                          ReviewID   Rating                           1   5     2   4                                                    mysql             mysql  u bookinfo  p   host  MYSQLDBHOST   port  MYSQLDBPORT  e  select   test ratings   Enter password                          ReviewID   Rating                           1   5     2   4                         5           1     Bookinfo ratings                    mysqlsh   sql   ssl mode REQUIRED  u admin  p   host  MYSQLDBHOST   port  MYSQLDBPORT  e  update test ratings set rating 1  select   test ratings   Enter password  Rows matched  2 Changed  2 Warnings  0                         ReviewID   Rating                           1   1     2   1                                                    mysql             mysql  u root  p   host  MYSQLDBHOST   port  MYSQLDBPORT  e  update test ratings set rating 1  select   test ratings   Enter password                          ReviewID   Rating                           1   1     2   1                                   admin                root        bookinfo     test ratings       UPDATE                       Bookinfo        Bookinfo             initial setting of bookinfo application                           Istio   Kubernetes         Istio Bookinfo                 DestinationRule          ratings                1   5            review             ratings            MongoDB               MySQL                   Istio 1 0             TLS              Bookinfo                        Bookinfo                Bookinfo             use the database for ratings data in bookinfo application  1       MySQL      ratings       deployment                               yaml      Istio       samples bookinfo platform kube bookinfo ratings v2 mysql yaml          name  MYSQLDBHOST value  mysqldb name  MYSQLDBPORT value   3306  name  MYSQLDBUSER value  root name  MYSQLDBPASSWORD value  password       IP                        Kubernetes                      secret             deployment spec                                     password               2         deployment yaml               ratings    v2 mysql    kubectl apply  f samples bookinfo platform kube bookinfo ratings v2 mysql yaml deployment  ratings v2 mysql  created 3      reviews             v3             reviews        ratings           ratings                     ratings v2 mysql         VirtualService                  VirtualService   Istio       samples bookinfo networking virtual service ratings mysql yaml                   DestinationRule               kubectl apply  f samples bookinfo networking virtual service ratings mysql yaml                             VirtualService                 VirtualService         reviews v3   ratings v2 mysql       MySQL      ratings v2 mysql     Bookinfo          MySQL       Istio                  Kubernetes                       Web      access the webpage      ingress IP                  ",
        "objectID": "posts/egress-tcp",
        "subtitle": "TCP 流量的出口规则",
        "date": "2018-11-23T06:18:48.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh",
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Istio 出口流量的 TLS",
        "uri": "posts/egress-tls-origination",
        "content": "Istio                                               Kubernetes       HTTP   HTTPS                       Istio               URL                    ServiceEntry                             Istio          TLS  1                 HTTP                                                   Istio                                              HTTP    Istio             HTTPS                      HTTP    Istio             2                    Istio      sleep                             sidecar           sleep         kubectl apply  f samples sleep sleep yaml           sleep            sidecar    kubectl apply  f 3     HTTP   HTTPS                           cnn com            hosts               cnn com              www cnn com    edition cnn com   1       ServiceEntry         HTTP   HTTPS       kubectl apply  f   2      HTTP           kubectl exec  it  SOURCE_POD  c sleep    curl  sL  o  dev null  D   http   edition cnn com politics HTTP 1 1 301 Moved Permanently     location  https   edition cnn com politics     HTTP 1 1 200 OK Content Type  text html  charset utf 8     Content Length  151654                                curl    L        curl                             301 Moved Permanently   http   edition cnn com politics   HTTP                  HTTPS   https   edition cnn com politics                              200 OK           curl                                           http   edition cnn com politics                 URL             politics                           cnn com                        cnn com                                                    Istio    TLS                             kubectl delete serviceentry cnn 4        TLS                    ServiceEntry               edition cnn com         VirtualService                    DestinationRule      TLS     ServiceEntry   kubectl apply  f     1 ServiceEntry   Envoy route       VirtualService   kubectl apply  f     2 ServiceEntry   VirtualService   Envoy route           VirtualService         edition cnn com            Envoy             HTTPS                            istio    443                  HTTP          Envoy          istioctl pc clusters  SOURCE_POD   fqdn edition cnn com   port 443  o json      name    outbound 443  edition cnn com    type    STRICT_DNS    connectTimeout    1 000s    hosts        socketAddress      address    edition cnn com    portValue   443         circuitBreakers      thresholds              dnsLookupFamily    V4_ONLY      DestinationRule                 istio          TLS       HTTPS              kubectl apply  f   5                  pod         sidecar                                                                                                                             HTTPS TLS          TLS                           HTTPS       HTTP                                         SNI                  TLS         SNI             HTTPS                                    cnn com  6           Istio         kubectl delete serviceentry cnn   kubectl delete virtualservice rewrite port for edition cnn com   kubectl delete destinationrule originate tls for edition cnn com    sleep       kubectl delete  f samples sleep sleep yaml",
        "objectID": "posts/egress-tls-origination",
        "subtitle": "在网格内部直接通过 HTTP 协议访问外部加密服务",
        "date": "2018-11-16T07:56:49.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh",
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "使用 envoy-docker-shim 替代 docker-proxy",
        "uri": "posts/envoy-docker-shim",
        "content": "Istio         Istio       Envoy      Lyft        C       L7             CNCF               GitHub       Istio service mesh      data plane         Envoy                                                     Envoy      Envoy                Envoy                                        Envoy Docker Shim                Envoy                Jimmy Song     Envoy                             1  Envoy Docker Shim Envoy Docker Shim              Envoy     Docker   docker proxy           Docker          Envoy                     Envoy Docker Shim                                envoy docker server       Docker              Envoy         API  envoy docker shim               docker proxy                     endpoint          Envoy        host         Docker      resync   shell                                             Envoy     HTTP   TCP         UDP           docker proxy              SCTP     2            Envoy Docker Shim        dockerd          userland proxy path  path to envoy docker shim      envoy docker shim    docker proxy      Envoy                  iptables false      Iptables     Docker          Envoy     Docker             iptables false Docker                                         4    7                       Docker        systemctl daemon reload   systemctl restart docker               envoy docker server    go github com Nitro envoy docker shim cmd envoy docker server    envoy docker shim    go github com Nitro envoy docker shim cmd envoy docker shim    envoy docker shim       git clone https   github com Nitro envoy docker shim     resync      usr local bin        cd envoy docker shim   cp scripts resync  usr local bin    envoy docker server   resync    examples      envoy docker server service      Unit  Description Envoy Docker Shim PartOf docker service  Service  ExecStart  GOPATH bin envoy docker server ExecStartPost  usr local bin resync ExecReload  usr local bin resync KillMode process Restart on failure Type simple  Install  WantedBy multi user target                envoy docker server                  envoy docker server         resync             envoy docker server service        etc systemd system               cp examples envoy docker server service  etc systemd system    systemctl start envoy docker server    Envoy      examples          envoy yaml                 Envoy      1 6   1 7                   Docker       Envoy                   Envoy    docker run  d   name envoyproxy   restart always   net host   cap add NETADMIN  e ENVOYBASEID 100  e ENVOYPORT 9902  e ENVOYUILISTEN_PORT 8081 gonitro envoyproxy 1 7 0 27960f3 tracing   Envoy          UI                      url http   host_ip 8081     UI        Envoy Docker Shim            docker proxy               iptables     Envoy     Docker           3                                     envoy docker shim                                            Docker           Zipkin   Jaeger                Sidecar          EnvironmentName                                                  ServiceName      Envoy                       nginx   EnvironmentName       prod         nginx prod  ProxyMode      Envoy            http            tcp                tcp        docker run  d  p 80 80  p 443 443  l EnvironmentName proxy  l ServiceName nginx  l ProxyMode tcp nginx alpine    Envoy UI       nginx       nginx proxy",
        "objectID": "posts/envoy-docker-shim",
        "subtitle": "Docker 端口映射的新姿势",
        "date": "2018-06-22T08:22:07.000Z",
        "draft": false,
        "toc": true,
        "categories": "docker",
        "tags": [
            "docker"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Envoy 中的 xDS REST 和 gRPC 协议详解",
        "uri": "posts/envoy-xds-protocol",
        "content": "Envoy    xDS REST   gRPC           https   github com envoyproxy data plane api blob master XDS_PROTOCOL md               Envoy                                 API      xDS Envoy      subscription                        gRPC   streaming     REST JSON URL          DiscoveryRequest                      DiscoveryResponse                     1                                     ConfigSource    path     Envoy    inotify Mac OS X    kqueue                  Envoy       DiscoveryResponse                   protobuf JSON YAML             core ConfigSource            path           apiconfigsource             ads                                     ACK NACK                  xDS API                Note ACK   TCP               TCP                              ACK                                      NACK   ACK        UDP                                                                                                           NACK                                  100  101  103 105      102  104          NACK          2  gRPC                  xDS API        ApiConfigSource                      xDS                gRPC      xDS                   API                          ADS                      core ApiConfigSource            api_type           cluster_names        grpc_services        refresh_delay             request_timeout                URL    xDS API                     LDS   envoy api v2 Listener RDS   envoy api v2 RouteConfiguration CDS   envoy api v2 Cluster EDS   envoy api v2 ClusterLoadAssignment SDS  envoy api v2 Auth Secret    URL             type googleapis com         CDS     type googleapis com envoy api v2 Cluster   Envoy                                URL  ACK NACK        Envoy        DiscoveryRequest                         URL          version_info EDS         version_info  node    id  envoy   resource_names  foo bar type_url  type googleapis com envoy api v2 ClusterLoadAssignment response_nonce                     DiscoveryResponse            version_info  X resources  foo ClusterLoadAssignment proto encoding bar ClusterLoadAssignment proto encoding type_url  type googleapis com envoy api v2 ClusterLoadAssignment nonce  Envoy     DiscoveryResponse                                            nonce               version_info       X          ack                             DiscoveryRequest   V versioninfo R resourcenames N responsenonce T typeurl  DiscoveryResponse    V versioninfo R resources N nonce T typeurl  Note        Nonce                                                Nonce                                      Nonce                                    nonce                      versioninfo           Envoy                        ACK NACK               Envoy         X     errordetail                      error_detail                  nack         DiscoveryRequest   API           Y                                           ADS                         Envoy API       EDS RDS           ConfigSources                   Envoy         DiscoveryResponse         Envoy           DiscoveryResponse            ACK NACK   DiscoveryRequest                                      Envoy                           DiscoveryRequests                DiscoveryRequest                            DiscoveryRequest            DiscoveryRequest    resourcenames                      Cluster   Listener         resourcenames    Envoy                     Cluster CDS   Listener LDS             RouteConfigurations RDS   ClusterLoadAssignments EDS         CDS LDS    Envoy                    LDS CDS                               LDS CDS              Listener   Cluster         RDS   EDS            Envoy                       DiscoveryRequest        node id          EDS RDS                        Envoy            EDS RDS DiscoveryResponse                  Listener   Cluster           EDS   RDS       Envoy           EDS      Envoy                   Cluster        CDS     RDS   Listeners               LDS         EDS RDS  Envoy                        ConfigSource                                                                                                  resource_names                      EDS     foo bar             Envoy       DiscoveryRequest      resourcenames       DiscoveryRequest     ACK NACK           DiscoveryResponse     Envoy           versioninfo        DiscoveryRequests                           Envoy   EDS    X        foo         CDS            bar          X       DiscoveryRequest        foo bar        resource_names                 Envoy     X                                      Y        version_info   X                     Y                       nonce Envoy         DiscoveryRequest        DiscoveryResponse                nonce   DiscoveryRequest    DiscoveryResponse        Envoy     DiscoveryResponse        nonce      nonce                          Envoy                                               DiscoveryRequests                Envoy             DiscoveryRequest     DiscoveryResponse                Envoy   xDS API                                  CDS EDS         X    RouteConfiguration       X   CDS EDS      Y          RouteConfigu",
        "objectID": "posts/envoy-xds-protocol",
        "subtitle": "通过示例详解 Envoy 的 xDS REST 和 gRPC 协议",
        "date": "2018-10-10T14:23:51.000Z",
        "toc": true,
        "draft": false,
        "categories": "service mesh",
        "tags": [
            "envoy",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "暴露 Istio Service Mesh 中的 Gateway",
        "uri": "posts/expose-gateway-of-istio",
        "content": "Istio                        Ingress Gateway                                             Ingress Gateway      HostNetwork                  HostNetwork      Ingress Gateway           ingressgateway   Pod      Pod     HostNetwork true   dnsPolicy     ClusterFirst        Default   Ingress Gateway           DNS      pilot                         dnsPolicy       ClusterFirstWithHostNet              Kubernetes DNS            ingressgateway deployment         apiVersion  extensions v1beta1 kind  Deployment metadata  name  istio ingressgateway namespace  istio system     spec      template  metadata      spec  affinity  nodeAffinity      requiredDuringSchedulingIgnoredDuringExecution  nodeSelectorTerms  matchExpressions  key  kubernetes io hostname operator  values  192 168 123 248                    dnsPolicy  ClusterFirstWithHostNet hostNetwork  true restartPolicy  Always                     Gateway   URL                              Ingress Gateway                                                              Deployment       1                                 Envoy               Ingress Gateway           Envoy          Ingress Gateway                           Ingress Gateway                     Service Name        Gateway                                                                   Haproxy Nginx          Envoy    Envoy   Istio Service Mesh      data plane          Envoy  Envoy         Envoy                Dockerfile      Envoy          examples front proxy       git clone https   github com envoyproxy envoy   cd envoy examples front proxy    front envoy yaml                static_resources  listeners  address  socket_address  address  0 0 0 0 port_value  80 filter_chains  filters  name  envoy tcp_proxy   config  statprefix  ingresstcp cluster  ingressgateway access_log  name  envoy fileaccesslog config  path   dev stdout address  socket_address  address  0 0 0 0 port_value  443 filter_chains  filters  name  envoy tcp_proxy config  statprefix  ingresstcp cluster  ingressgateway_tls access_log  name  envoy fileaccesslog config  path   dev stdout clusters  name  ingressgateway connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  istio ingressgateway istio system   port_value  80 name  ingressgateway_tls connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  istio ingressgateway istio system port_value  443 admin  accesslogpath    dev null  address  socket_address  address  0 0 0 0 port_value  8001   envoy tcpproxy                                                               envoy tcpproxy      TCP         listener Filter   istio ingressgateway istio system    Ingress Gateway        DNS               Envoy                Dockerfile frontenvoy   front envoy yaml     Docker           Dockerfile      envoyproxy envoy latest RUN apt get update    apt get  q install  y   curl CMD  usr local bin envoy  c  etc front envoy yaml   service cluster front proxy     etc front envoy yaml      front envoy yaml         Kubernetes       ConfigMap                ConfigMap    kubectl  n istio system create cm front envoy   from file front envoy yaml            push                                                             Deployment      front envoy deploy yaml       apiVersion  extensions v1beta1 kind  Deployment metadata  name  front envoy spec  replicas  1 template  metadata  labels  app  front envoy spec  affinity  nodeAffinity  requiredDuringSchedulingIgnoredDuringExecution  nodeSelectorTerms  matchExpressions  key  kubernetes io hostname operator  values  192 168 123 248                containers  name  front envoy image  yangchuansheng front envoy ports  containerPort  80 volumeMounts  name  front envoy mountPath   etc front envoy yaml subPath  front envoy yaml hostNetwork  true volumes  name  front envoy configMap  name  front envoy                      yaml          kubectl  n istio system create  f front envoy deploy yaml                          URL                                         Kubernetes                    keepalived                 Ingress             Ingress",
        "objectID": "posts/expose-gateway-of-istio",
        "subtitle": "使用 Envoy 作为 Ingress Gateway 的前端代理",
        "date": "2018-09-17T05:14:55.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "扩展 Envoy 的管理界面",
        "uri": "posts/extending-the-envoy-admin-interface",
        "content": "Extending Envoy Admin Interface        Envoy                                          Envoy                            Envoy                        stats   tracing stats      statsd             prometheus           tracing        Open Tracing            Envoy                                Haproxy            Envoy          Haproxy      Haproxy       UI                                                         ACL                     UI                                                  Envoy                  clusters    configdump                   clusters             Cluster   Endpoint     configdump                                             Envoy                              Envoy                      Haproxy                                                           UI                          Envoy                                                        UI                Envoy                             clusters    config_dump                             open issue   Github                              Matt Klein    comment             Listener                      Listener        Envoy                             Envoy                                                     UI                Envoy                    Envoy                              admin  accesslogpath   var log envoy envoyadminaccess log address  socketaddress    address  0 0 0 0  portvalue  5000      Envoy                 URL  5000    Envoy                                      Envoy     5000                                            Envoy             CORS                        CSRF         Matt Klein      Github comment                      CORS                                       VirtualHost      Listener   Cluster   VirtualHost      5000                                  CORS                          Access Control Allow Origin            java                                                                                            static_resources  clusters  name  localadmincluster connect_timeout  30s type  STATIC lbpolicy  ROUNDROBIN hosts     socketaddress    address  0 0 0 0  portvalue  5000     listeners  name  localadminlistener address  socketaddress    address  0 0 0 0  portvalue  5001   filter_chains  filters  name  envoy httpconnectionmanager config  statprefix  ingresshttp codec_type  AUTO route_config  name  localadminroute virtual_hosts  name  local_service domains        responseheadersto_add  header  key   Access Control Allow Origin  value      routes  match    path    clusters    route    cluster  local_admin   match    path    config_dump    route    cluster  local_admin   http_filters  name  envoy router                  clusters    config_dump                                                                                                                   Note             Listener          HTTPs                           configdump        Haproxy   UI       clusters                                  Envoy                                                  Envoy        configdump                        Cluster Listener   Route                                     Cluster                                                                                                               Envoy                                          Twitter              Twitter   mitchfriedman5 Email  mitchfriedman5 gmail com",
        "objectID": "posts/extending-the-envoy-admin-interface",
        "subtitle": "提高 Envoy 管理界面的安全性",
        "date": "2018-10-25T08:34:20.000Z",
        "draft": false,
        "categories": "service mesh",
        "tags": [
            "envoy",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Kubernetes 使用集群联邦实现多集群管理",
        "uri": "posts/federation",
        "content": "Host Node          Available Zone          Region          Cloud Service Provider       K8s                                    K8s                                                    Region                                         Fail                                                                     Federation               Federation           Region          Kubernetes                      1  Kubernetes            kuberntes              kubernetes                API server         Kubernetes API      etcd                 Kubernetes                     kubernetes     Federation          federation apiserver    kube apiserver           REST API federation controller manager    kube controller manager               kubefed Federation                Federation   API Server     Federation     K8s Cluster       Federation   API Server       API     Federation API Server            K8s Cluster          API                K8s Federation           Cluster                    K8s Cluster             K8s Cluster                  K8s Cluster          Cluster                                      K8s Cluster                 K8s                  K8s Federation             K8s            Federation                  Kubernetes          kube dns               DNS       DNS    service       kubernetes     Kubernetes        kubernetes POD        POD                 POD                      kubernetes                  mysql          mysql POD         kubernetes              DNS       mysql                                    POD        Kubernetes                     kubernetes                            kubernetes                 kubernetes                   kubernetes                                 kubernetes                           kubernetes                                                                                                                                                   2                                                                                                                   k8s 1 9 Federation   CentOS 7 3   3               K8s  01   k8s 1 9 master node   CentOS 7 3   3              kubefed                                                       kubefed                        curl  LO https   storage cloud google com kubernetes federation release release   RELEASE VERSION  federation client linux amd64 tar gz   tar  xzvf federation client linux amd64 tar gz   federation release page             RELEASE VERSION                     PATH                       cp federation client bin kubefed  usr local bin   chmod  x  usr local bin kubefed    context            DCE         DCE     context           context                    kubeconfig      export KUBE_APISERVER  https   192 168 123 250 6443           kubectl config set cluster kubernetes     certificate authority  etc kubernetes ssl ca pem     embed certs true     server   KUBE_APISERVER              kubectl config set credentials admin     client certificate  etc kubernetes ssl admin pem     embed certs true     client key  etc kubernetes ssl admin key pem           kubectl config set context kubernetes     cluster kubernetes     user admin           kubectl config use context kubernetes     kubeconfig         kube config     Note    kube config                                kubectl config get contexts CURRENT NAME CLUSTER AUTHINFO NAMESPACE kubernetes kubernetes admin    CoreDNS         DNS     1         CoreDNS                            LoadBalancer               LoadBalancer               LoadBalancer        coredns     federation                    helm charts     CoreDNS  CoreDNS       etcd         etcd        etcd       helm charts            federation      node            failure domain beta kubernetes io region  failure domain beta kubernetes io zone  2          LoadBalancer              LoadBalancer                  keepalived cloud provider metalLB          metalLB  metalLB             yaml         kubectl apply  f https   raw githubusercontent com google metallb v0 5 0 manifests metallb yaml      https   metallb universe tf installation           LoadBalancer           IP          configmap                   cat metallb cm yaml apiVersion  v1 kind  ConfigMap metadata  namespace  metallb system name  config data  config    address pools  name  default protocol  layer2 addresses  192 168 1 58 192 168 1 60   kubectl create  f metallb cm yaml           https   metallb universe tf configuration             LoadBalancer            federation       clap  3     helm        helm       curl https   raw githubusercontent com kubernetes helm master scripts get   get_helm sh   chmod 700 get_helm sh     get_helm sh    tiller   serviceaccount   clusterrolebinding   kubectl create serviceaccount   namespace kube system tiller   kubectl create clusterrolebinding tiller cluster rule   clusterrole cluster admin   serviceaccount kube system tiller      helm     tiller   helm init         serviceAccount    kubectl patch deploy   namespace kube system tiller deploy  p    spec    template    spec    serviceAccount   tiller                   kubectl  n kube system pods grep til",
        "objectID": "posts/federation",
        "subtitle": "使用联邦服务进行跨集群服务发现",
        "date": "2018-03-22T09:36:27.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "docker 在本地如何管理 image（镜像）?",
        "uri": "posts/how-manage-image",
        "content": "docker        docker pull docker build docker commit docker load docker import         image    image    docker                 docker pull       image           1          docker     image         var lib docker       image                dockerd                    graph   g  var lib docker Root Docker runtime 2                image        docker pull                      image                   alpine         Note    sha256         abcdef           sha256      docker hub        alpine          alpine             docker io library alpine latest alpine 3 7        alpine 3 7             docker io library alpine 3 7 alpine  sha256 abcdef           digest    sha256 abcdef      alpine             docker io library alpine sha256 abcdef    docker hub                                                  user1 alpine    user1       alpine              docker io user1 alpine latest user1 alpine 3 7   user1 alpine  sha256 abcdef                     docker io user1 alpine 3 7   docker io user1 alpine  sha256 abcdef          registry            docker hub                            localhost 5000 alpine          registry localhost 5000       alpine                localhost 5000 library alpine latest localhost 5000 user1 alpine sha256 a123def             registry localhost 5000       user1     digest   sha256 a123def   alpine                            digest       image                                               tag                       tag                     docker        digest           digest       manifes     sha256                      layer         layer   sha256        manifest          layer   sha256    manifest   sha256             digest             digest             3  docker pull          Image manifest Image Config   Filesystem Layers               image           image          docker    image     tag    digest   registry              image     tag    digest       image   manifest     manifest     docker docker    manifest        image       digest sha256     sha256     image   ID    ID             ID   image                       registry                  sha256   media type     image       Image Config           diff_ids    diffid      layer tar    sha256 tar      layer                layer         layer         manifest    layer   sha256   media type          layer                             tar    sha256         Image Config    diff_id                      docker                tar                layer           image             Note    layer    config     diffid   layer   tar    sha256   manifest      digest     media type    media type   tar gzip   digest    layer   tar     gzip         sha256    media type    tar    diffid   digest         dockerd   registry           Registry HTTP API V2  4  image            ubuntu   image       docker   image           ubuntu   image id   digest       image            docker images   digests REPOSITORY TAG DIGEST IMAGE ID CREATED SIZE ubuntu latest sha256 e348fbbea0e0a0e73ab0370de151e7800684445c509d46195aef73e090a49bd6 f975c5035748 3 weeks ago 112MB        Note                     registry         digest       manifest   registry     repositories json repositories json         image     repository        name   image id         image   registry    pull                      overlay2   docker                                         btrfs aufs devicemapper     cat  var lib docker image overlay2 repositories json jq      Repositories      ubuntu      ubuntu latest    sha256 f975c50357489439eb9145dbfa16bb7cd06c02c31aa4df45c77de4d2baa4e232    ubuntu sha256 e348fbbea0e0a0e73ab0370de151e7800684445c509d46195aef73e090a49bd6    sha256 f975c50357489439eb9145dbfa16bb7cd06c02c31aa4df45c77de4d2baa4e232               ubuntu  repository                      registry docker hub      repository         image     image ID       ubuntu latest   ubuntu sha256 e348fbb             image sha256 f975c5          image config  docker                   var lib docker                 CentOS            overlay2     CentOS     docker          manifest   registry    config          image overlay2 imagedb content sha256                  sha256     image id    sha256sum  var lib docker image overlay2 imagedb content sha256 f975c50357489439eb9145dbfa16bb7cd06c02c31aa4df45c77de4d2baa4e232 f975c50357489439eb9145dbfa16bb7cd06c02c31aa4df45c77de4d2baa4e232  var lib docker image overlay2 imagedb content sha256 f975c50357489439eb9145dbfa16bb7cd06c02c31aa4df45c77de4d2baa4e232            image   rootfs     diff_ids       ubuntu latest    image     5   layer                 a94e0d        db584c          cat  var lib docker image overlay2 imagedb content sha256 f975c50357489439eb9145dbfa16bb7cd06c02c31aa4df45c77de4d2baa4e232 jq           rootfs      type    layers    diff_ids      sha256 a94e0d5a7c404d0e6fa15d8cd4010e69663bd8813b5117fbad71365a73656df9    sha256 88888b9b1b5b7bce5db41267e669e6da63ee95736cb904485f96f29be648bfda    sha256 52f389ea437ebf419d1c9754d0184b57edb45c951666ee86951d9f6afd26035e    sha256 52a7ea2bb533dc2a91614795760a67fb807561e8a588204c4858a300074c082b    sha256 db584c622b50c3b8f9b8b94c270cc5fe235e5f23",
        "objectID": "posts/how-manage-image",
        "subtitle": "探索 image 的获取和存储方式",
        "date": "2018-04-02T05:12:18.000Z",
        "draft": false,
        "toc": true,
        "categories": "docker",
        "tags": [
            "docker"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "某个应用的 CPU 使用率居然达到 100%，我该怎么办？",
        "uri": "posts/how-to-deal-with-increasing-of-cpu-usage",
        "content": "CPU                CPU                                              CPU                         CPU                     CPU             CPU           CPU                                  CPU         CPU                     top ps             user  nice   system  iowait   steal                             CPU                             Nginx                      1  CPU              Linux                 CPU                                                     CPU    Linux                   HZ                 Jiffies                       Jiffies      1      HZ                100 250 1000                          boot config                               250          250          grep  CONFIG_HZ    boot config   uname  r  CONFIG_HZ 250           HZ                                                  USERHZ        100     1 100                      HZ                     USERHZ  Linux     proc                             proc stat          CPU                    CPU                     CPU       cat  proc stat   grep  cpu cpu 280580 7407 286084 172900810 83602 0 583 0 0 0 cpu0 144745 4181 176701 86423902 52076 0 301 0 0 0 cpu1 135834 3226 109383 86476907 31525 0 282 0 0 0                         CPU      cpu0 cpu1            cpu         CPU                 CPU              USER_HZ     10 ms 1 100                  CPU                                         man proc             man proc                CPU                                            user       us          CPU               nice         guest     nice       ni              CPU           nice       1 19      CPU         nice         20   19               system       sys          CPU     idle       id                     I O     iowait   iowait       wa         I O   CPU     irq       hi             CPU     softirq       si             CPU     steal       st                              CPU     guest       guest                                 CPU     guest_nice       gnice                              CPU                      CPU                                 proc stat              CPU                   CPU         CPU             CPU                          proc stat               CPU                                                    CPU                        CPU                        3                         CPU                            CPU                        CPU                         Linux                         proc  pid  stat                        52                                             man proc                   CPU             proc stat    proc  pid  stat                                                                               CPU                                                            top   ps          CPU                    top      3         ps                 2       CPU         CPU                     CPU          CPU                   top   ps    top   ps              top          CPU                        ps                      top             3         top top   11 58 59 9 days  22 47  1 user  load average  0 03  0 02  0 00 Tasks  123 total  1 running  72 sleeping  0 stopped  0 zombie  Cpu s   0 3 us  0 3 sy  0 0 ni  99 3 id  0 0 wa  0 0 hi  0 0 si  0 0 st KiB Mem   8169348 total  5606884 free  334640 used  2227824 buff cache KiB Swap  0 total  0 free  0 used  7497908 avail Mem PID USER PR NI VIRT RES SHR S  CPU  MEM TIME  COMMAND 1 root 20 0 78088 9288 6696 S 0 0 0 1 0 16 83 systemd 2 root 20 0 0 0 0 S 0 0 0 0 0 00 05 kthreadd 4 root 0  20 0 0 0 0 0 0 0 0 00 00 kworker 0 0H                  Cpu       CPU                        CPU        CPU                     top          CPU                   1           CPU                                      CPU         CPU               CPU                    CPU               CPU               CPU                       CPU                top             CPU      CPU                               pidstat                 CPU                 pidstat        1         5   CPU             CPU       usr       CPU      system         CPU      guest      CPU      wait        CPU      CPU       Average         5             1             5     pidstat 1 5 15 56 02 UID PID  usr  system  guest  wait  CPU CPU Command 15 56 03 0 15006 0 00 0 99 0 00 0 00 0 99 1 dockerd     Average  UID PID  usr  system  guest  wait  CPU CPU Command Average  0 15006 0 00 0 99 0 00 0 00 0 99   dockerd 3  CPU              top ps pidstat             CPU          100                      CPU                                                   GDB The GNU Project Debugger                    GDB                                  GDB                         GDB                                 GDB                                                                     CPU           perf perf   Linux 2 6 31                                                                   perf    CPU                                   perf top     top           CPU                                      perf top Samples  833 event  cpu clock   Event count  approx    97742399 Overhead Shared Object Symbol 7 28  perf     0x00000000001f78a4 4 72  ",
        "objectID": "posts/how-to-deal-with-increasing-of-cpu-usage",
        "subtitle": "Linux 性能优化实战部分章节",
        "date": "2018-11-30T09:45:57.000Z",
        "draft": false,
        "toc": true,
        "categories": "Linux",
        "tags": [
            "linux"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Hugo 添加站点统计信息",
        "uri": "posts/hugo-add-busuanzi",
        "content": "Bruce                                                                                    Bruce                                                              qi   shi   shi   lan                                       Bruce               geek                                                1                 geek                                js         span                              css                                                                PV            Note PV   Page View                                             1   PV                 UV   Unique Visitor         1              cookie     1                1                      js                                   jQuery          document  ready  var busuanziSiteOffset   parseInt 100000   function fixCount          busuanzicontainersite_pv   css  display       none         busuanzivaluesitepv   html parseInt     busuanzivaluesitepv   html      busuanziSiteOffset                         js                             span                                                                document  ready function     var int   setInterval fixCount  100   var busuanziSiteOffset   parseInt 10000   function fixCount          busuanzicontainersite_pv   css  display       none     clearInterval int       busuanzivaluesitepv   html parseInt     busuanzivaluesitepv   html      busuanziSiteOffset           2  Hugo                                                                           var busuanziSiteOffset   parseInt 10000                       Hugo                                            cat config toml      Params      busuanzi busuanzi   true busuanzisiteoffset   100000         js       header        cat themes beautifulhugo layouts partials head_custom html    isset  Site Params  busuanzi       document  ready function     var int   setInterval fixCount  100   var busuanziSiteOffset       Site Params busuanzisiteoffset    function fixCount          busuanzicontainersite_pv   css  display       none     clearInterval int       busuanzivaluesitepv   html parseInt     busuanzivaluesitepv   html      busuanziSiteOffset              end         PV   UV    cat themes beautifulhugo layouts partials footer html  copy 2017 2018     Site Author name        Site Author website        Site Author name       else        Site Author name       end       end     nbsp  bull  nbsp      Site LastChange Format  January 2 2006     updated     Site Title     nbsp  bull  nbsp  Home    end                     nbsp                        PV    cat themes beautifulhugo layouts partials postmeta html     baseurl     Site BaseURL        Date Format  Mon Jan 2  2006         FuzzyWordCount    Words Read     ReadingTime    Min         Tags     range  Params tags             nbsp    end                                                             3",
        "objectID": "posts/hugo-add-busuanzi",
        "subtitle": "通过不蒜子来统计每个页面的访问量",
        "date": "2018-11-12T07:30:35.000Z",
        "draft": false,
        "toc": true,
        "categories": "hugo",
        "tags": [
            "hugo"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Hugo 集成社交分享插件",
        "uri": "posts/hugo-social-share-plugin",
        "content": "jthis Bhare                                                              UI                                                                         1     share js                                                                       UI        data                                          npm   2     share js            hugo          Jimmy Song   beautifulhugo                                                                    share js          git clone https   github com overtrue share js       css js   fonts     beautiful               hugo        cp share js css share min css  themes beautifulhugo static css    cp share js js social share min js  themes beautifulhugo static js    cp  r share js fonts    themes beautifulhugo static fonts      css                              css         cat  themes beautifulhugo static css share min css  font face font family  socialshare  src url     fonts iconfont eot   src url     fonts iconfont eot  iefix   format  embedded opentype   url     fonts iconfont woff   format  woff   url     fonts iconfont ttf   format  truetype   url     fonts iconfont svg iconfont   format  svg     social share font family  socialshare   important font size 16px font style normal  webkit font smoothing antialiased  webkit text stroke width 0 2px  moz osx font smoothing grayscale   social share   font family  socialshare   important   social share  icon tencent before content   f07a    social share  icon qq before content   f11a    social share  icon weibo before content   f12a    social share  icon wechat before content   f09a    social share  icon douban before content   f10a    social share  icon heart before content   f20a    social share  icon like before content   f00a    social share  icon qzone before content   f08a    social share  icon linkedin before content   f01a    social share  icon diandian before content   f05a    social share  icon facebook before content   f03a    social share  icon google before content   f04a    social share  icon twitter before content   f06a    social share a position relative text decoration none margin 4px display inline block outline none   social share  social share icon position relative display inline block width 42px height 42px font size 25px border radius 50  line height 37px border 2px solid  666 color  666 text align center vertical align middle transition background 0 6s ease out 0s   social share  social share icon hover background  666 color  fff   social share  icon weibo color  ff763b border color  ff763b   social share  icon weibo hover background  ff763b   social share  icon tencent color  56b6e7 border color  56b6e7   social share  icon tencent hover background  56b6e7   social share  icon qq color  56b6e7 border color  56b6e7   social share  icon qq hover background  56b6e7   social share  icon qzone color  FDBE3D border color  FDBE3D   social share  icon qzone hover background  FDBE3D   social share  icon douban color  33b045 border color  33b045   social share  icon douban hover background  33b045   social share  icon linkedin color  0077B5 border color  0077B5   social share  icon linkedin hover background  0077B5   social share  icon facebook color  44619D border color  44619D   social share  icon facebook hover background  44619D   social share  icon google color  db4437 border color  db4437   social share  icon google hover background  db4437   social share  icon twitter color  55acee border color  55acee   social share  icon twitter hover background  55acee   social share  icon diandian color  307DCA border color  307DCA   social share  icon diandian hover background  307DCA   social share  icon wechat position relative color  7bc549 border color  7bc549   social share  icon wechat hover background  7bc549   social share  icon wechat  wechat qrcode display none border 1px solid  eee position absolute z index 9 top  205px left  84px width 200px height 192px color  666 font size 12px text align center background color  fff box shadow 0 2px 10px  aaa transition all 200ms  webkit tansition all 350ms  moz transition all 350ms   social share  icon wechat  wechat qrcode bottom top 40px left  84px   social share  icon wechat  wechat qrcode bottom after display none   social share  icon wechat  wechat qrcode h4 font weight normal height 26px line height 26px font size 12px background color  f3f3f3 margin 0 padding 0 color  777   social share  icon wechat  wechat qrcode  qrcode width 105px margin 10px auto   social share  icon wechat  wechat qrcode  qrcode table margin 0  important   social share  icon wechat  wechat qrcode  help p font weight normal line height 16px padding 0 margin 0   social share  icon wechat  wechat qrcode after content    position absolute left 50  margin left  6px bottom  13px width 0 height 0 border width 8px 6px 6px 6px border style solid border color  fff transparent transparent transparent   social share  icon wechat hover  wechat qrcode display block             social share  social share icon position relative display inline block width 42px height 42px font size 25px border radius 50  line height 37px border 2px solid  6",
        "objectID": "posts/hugo-social-share-plugin",
        "subtitle": "通过 share.js 让你的分享飞起来",
        "date": "2018-11-06T17:22:31.000Z",
        "draft": false,
        "toc": true,
        "categories": "hugo",
        "tags": [
            "hugo"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "通过消除对特权容器的需求来提高 Istio Deployment 的安全性",
        "uri": "posts/increasing-security-of-istio-deployments",
        "content": "Increasing Security Istio Deployments Removing Need Privileged Containers    1 0       Istio                                                                  Pod                                          istio pod network controller  1                    Istio      Pod   iptables             Pod          Istio         Sidecar    iptables                      Pod     iptables           Pod      Pod      init     Istio Pod                        iptables              iptables           NETADMIN capability         NETADMIN               Linux Capability            Pod            Istio            Pod                                                         Pod    OpenShift           Security Context Context  SCC         Pod                    Linux Capabilities  Openshift             SCC                                 Istio          SCC       privileged                  Pod     Istio                   privileged SCC    oc adm policy add scc to user privileged  z default  n                     Pod     root                                  root                 Istio          Kubernetes                Pod       Kubernetes 1 11    Pod      PSP        beta feature    PSP   SCC            Kubernetes              PSP Istio      Pod                2                       Pod   iptables         Pod              istio pod network controller   DaemonSet          Pod                 Pod        iptables                                 Pod     Pod         istio pod network controller        Pod      Istio                  Pod    init         annotation              Sidecar Envoy      iptables               Sidecar                        Envoy Sidecar         root    ID      Istio        Pod     nonroot SCC                 Istio          restricted SCC       Openshift          nonroot SCC   restricted SCC                              privileged SCC      Istio      Pod                       istio pod network controller    privileged       NET_ADMIN capability          Pod   iptables                               Istio                 3                Istio        istio system                        istio pod network controller                Helm    istio pod network controller    helm template  n istio pod network controller   chart istio pod network controller   kubectl apply  f                              kubectl create namespace bookinfo   kubectl label namespace bookinfo istio injection enabled   kubectl annotate namespace bookinfo istio pod network controller initialize true   kubectl apply  f examples bookinfo yaml  n bookinfo                   4     istio pod network controller         Istio Deployment                 Istio         privileged SCC   Pod          Pod     nonroot SCC                                  Red Hat",
        "objectID": "posts/increasing-security-of-istio-deployments",
        "subtitle": "istio-pod-network-controller 介绍",
        "date": "2018-09-21T05:10:18.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "通过 Envoy 实现增量部署",
        "uri": "posts/incremental-deploys",
        "content": "1                                            service1         Envoy      front proxy       docker compose yml           service1a       service1a  build  context    dockerfile  Dockerfile service volumes    service envoy yaml  etc service envoy yaml networks  envoymesh  aliases  service1a environment  SERVICE_NAME 1a expose   80       Envoy                   clusters       name  service1a connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  service1a port_value  80                  match            headers                                                                                             service1  routes  match  prefix    service 1  headers  name   x canary version  value   service1a  route  cluster  service1a match  prefix    service 1  route  cluster  service1 match  prefix    service 2  route  cluster  service2              docker compose down   remove orphans   docker compose   build  d                          service1        curl localhost 8000 service 1 Hello behind Envoy  service 1   hostname  d0adee810fc4 resolvedhostname  172 18 0 2            x canary version Envoy          service 1a    curl  H  x canary version  service1a  localhost 8000 service 1 Hello behind Envoy  service 1a   hostname  569ee89eebc8 resolvedhostname  172 18 0 6 Envoy                               2                        service1             clusters         cluster           25                  match  prefix    service 1  route  weighted_clusters  clusters  name  service1a weight  25 name  service1 weight  75              docker compose down   remove orphans   docker compose   build  d                         25         service 1a                                                                                       service1a        100               service 1a                       service1a        0            3                                                                                                                                                   1  5  10  50",
        "objectID": "posts/incremental-deploys",
        "subtitle": "基于请求头的路由和加权负载均衡",
        "date": "2018-07-02T05:37:37.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "envoy",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "将服务发现与 Envoy 集成",
        "uri": "posts/integrating-service-discovery-with-envoy",
        "content": "Envoy                                Envoy                                  Envoy                                                                                   API          API                 Envoy                           Envoy           SDS                                  Envoy   clusters                  Envoy   endpoints   1                     Envoy v2 xDS APIs                                    CDS         EDS                               Rotor   Rotor            xDS         Kubernetes Consul   AWS                        RDS          LDS      Turbine Labs         Houston       Houston   Rotor                          go control plane   Envoy                    go control plane                                       Pilot        Envoy   Kubernetes          Istio    Istio          Pilot            YAMl             xDS            Istio          Pilot        Istio         Mixer      Envoy     2         CDS     Envoy                                               CDS   API             Envoy       CDS                     version_info   0  resources    type   type googleapis com envoy api v2 Cluster name  some_service connect_timeout  1 0s lbpolicy  ROUNDROBIN type  EDS edsclusterconfig  eds_config  apiconfigsource  api_type  GRPC clusternames   xdscluster                   resources                                    lb_policy                      round_robin        weightedleastrequest               random      connect_timeout                 1                          api_type           Envoy                                Endpoint                          type     EDS      Envoy    EDS API        IP Port             Envoy            CDS                    EDS    3         EDS Envoy     Endpoint           IP                        Envoy    EDS API               Envoy       EDS            version_info   0  resources    type   type googleapis com envoy api v2 ClusterLoadAssignment clustername  someservice endpoints  lb_endpoints  endpoint  address  socket_address  address  127 0 0 2 port_value  1234          Envoy                                 Envoy   CDS   EDS                                                               4                          Envoy   CDS   EDS                        API                                                                                                                                                   Envoy         envoy     serivce                                  1000                        Sidecars                                                                                                          5                                                       RDS",
        "objectID": "posts/integrating-service-discovery-with-envoy",
        "subtitle": "为 Envoy 配置 CDS 和 EDS",
        "date": "2018-07-04T10:12:43.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "envoy",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "走进 Descheduler",
        "uri": "posts/introduce-kubernetes-descheduler",
        "content": "kube scheduler   Kubernetes                             Kubernetes                                       Pod                              node       pod                     Pod      kube scheduler                                   Pod                              Pod                              Pod           1  Descheduler       Descheduler     Pod                      Pod           Descheduler     kube scheduler                      Kubernetes                                                   2             Job   CronJob     descheduler            komljen descheduler v0 5 0 4 ga7ceb671        yaml                                           git clone https   github com kubernetes incubator descheduler   cd descheduler    image        push                   chart         Helm     descheduler       RBAC       Kubernetes v1 9             helm           descheduler    helm repo add akomljen charts   https   raw githubusercontent com komljen helm charts master charts    helm install   name ds     namespace kube system   akomljen charts descheduler         helm             serviceaccount   clusterrolebinding  Create cluster role   cat 3     Kubernetes                                 Pod                                   descheduler             Pod                        4       Meet Kubernetes Descheduler",
        "objectID": "posts/introduce-kubernetes-descheduler",
        "subtitle": "通过 Descheduler 来实现更高级的调度策略",
        "date": "2018-05-23T10:23:29.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Istio 1.0 部署",
        "uri": "posts/istio-1.0-deploy",
        "content": "2018   8   1          0   Istio      1 0                         0 1                                       ConfigMap    istioctl                 Helm Chart       values yml    helm                     Istio       Kubernetes        v1 9                  kubectl      1     Istio   wget https   github com istio istio releases download 1 0 0 istio 1 0 0 linux tar gz   tar zxf istio 1 0 0 linux tar gz   cp istio 1 0 0 bin istioctl  usr local bin  2     Helm    Istio       Istio       git clone https   github com istio istio git   cd istio       Helm        Istio   Chart              Helm    istio yaml           Tiller                                           helm template install kubernetes helm istio   name istio   namespace istio system   set sidecarInjectorWebhook enabled true   set ingress service type NodePort   set gateways istio ingressgateway type NodePort   set gateways istio egressgateway type NodePort   set tracing enabled true   set servicegraph enabled true   set prometheus enabled true   set tracing jaeger enabled true   set grafana enabled true   istio yaml   kubectl create namespace istio system   kubectl create  f istio yaml         install kubernetes helm istio      Chart                 istio yaml        sidecarInjectorWebhook enabled     true                         isotio system namespace               kubectl  n istio system pods  o go template    range  items     metadata name      n     end    istio citadel f5779fbbb brbxd istio cleanup secrets jjqg5 istio egressgateway 6c5cc7dd86 l2c82 istio galley 6bf8f6f4b7 twvzl istio ingressgateway fbfdfc5c7 fg9xh istio pilot 85df58955d g5bfh istio policy 74c48c8ccb wd6h6 istio sidecar injector cf5999cf8 h9smx istio statsd prom bridge 55965ff9c8 2hmzf istio telemetry cb49594cc gfd84 istio tracing 77f9f94b98 9xvzs prometheus 7456f56c96 xcdh4 servicegraph 5b8d7b4d5 lzhth     istio ca      istio citadel  istio cleanup secrets     job         Istio       CA       sa deploy    svc        egressgateway ingress    ingressgateway                        3  Prometheus Grafana Servicegraph   Jaeger     Pod          NodePort Ingress    kubectl proxy                Ingress            Prometheus Grafana Servicegraph   Jaeger      Ingress    cat ingress yaml apiVersion  extensions v1beta1 kind  Ingress metadata  name  prometheus namespace  istio system spec  rules  host  prometheus istio io http  paths  path    backend  serviceName  prometheus servicePort  9090 apiVersion  extensions v1beta1 kind  Ingress metadata  name  grafana namespace  istio system spec  rules  host  grafana istio io http  paths  path    backend  serviceName  grafana servicePort  3000 apiVersion  extensions v1beta1 kind  Ingress metadata  name  servicegraph namespace  istio system spec  rules  host  servicegraph istio io http  paths  path    backend  serviceName  servicegraph servicePort  8088 apiVersion  extensions v1beta1 kind  Ingress metadata  name  tracing namespace  istio system spec  rules  host  tracing istio io http  paths  path    backend  serviceName  tracing servicePort  80   kubectl create  f ingress yaml                hosts   Ingree_host prometheus istio io  Ingree_host grafana istio io  Ingree_host servicegraph istio io  Ingree_host tracing istio io    Ingree_host     Ingress Controller       IP     http   grafana istio io    Grafana        http   servicegraph istio io    ServiceGraph                 http   servicegraph istio io force forcegraph html   explored above  interactive D3 js visualization  http   servicegraph istio io dotviz   static Graphviz visualization  http   servicegraph istio io dotgraph   provides DOT serialization  http   servicegraph istio io d3graph   provides JSON serialization D3 visualization  http   servicegraph istio io graph   provides generic JSON serialization     http   tracing istio io     Jaeger          http   prometheus istio io     Prometheus     Note          Prometheus operator        Grafana     addons grafana dashboards      Dashboard          Prometheus operator   Grafana        istio system        Prometheus          Istio    4  Mesh Expansion Istio        Kubernetes                   VM         Istio         Mesh Expansion           Istio         istioctl register servicename machine ip portname port   istioctl  n onprem register mysql 1 2 3 4 3306   istioctl  n onprem register svc1 1 2 3 4 http 7000 5     Istio 0 8   Helm Chart",
        "objectID": "posts/istio-1.0-deploy",
        "subtitle": "使用 Helm 部署 Istio 服务",
        "date": "2018-08-01T07:33:46.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Istio 服务网格中的网关",
        "uri": "posts/istio-ingress",
        "content": "TLS                        gateway              sidecar gateway                                Google Maps API                                                             Egress gateway                     Istio            Gateway                                                     v1alpha3        1  Gateway    Gateway     HTTP   TCP                                         Gateway         Gateway                            Pod        Gateway                            Gateway Controller                                      Kubernetes Ingress API       Ingress API      Istio        Ingress        HTTP                         HTTP                          annotation                            Istio Gateway     L4 L6     L7            Ingress        Gateway       L4 L6               TLS          L7                         Gateway     VirtualService             Istio         Gateway   HTTP   TCP                Gateway       Load Balancer       host bookinfo com   https            apiVersion  networking istio io v1alpha3 kind  Gateway metadata  name  bookinfo gateway spec  servers  port  number  80 name  http protocol  HTTP hosts  bookinfo com         Gateway                   host      VirtualService                  gateways            Gateway    apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  bookinfo spec  hosts  bookinfo com gateways  bookinfo gateway   2     Istio      Ingress          Gateway   HTTP 80               Istio Gateway   cat 3          Ingress                httpbin     URL                      curl             httpbin example com        etc hosts       hosts                                hosts            Istio Gateway      NodePort            80     443                        Gateway          80   443                   Ingress Gateway   Deployment   80     443       hostPort          Node      Gateway                kubectl  n istio system edit deployment istio ingressgateway apiVersion  extensions v1beta1 kind  Deployment metadata  name  istio ingressgateway namespace  istio system     spec      template      spec  affinity  nodeAffinity      requiredDuringSchedulingIgnoredDuringExecution  nodeSelectorTerms  matchExpressions  key  kubernetes io hostname operator  values  192 168 123 248                containers  name  ISTIOMETAPOD_NAME     containerPort  80 hostPort  80 protocol  TCP containerPort  443 hostPort  443 protocol  TCP                  Gateway   Pod                           hosts  192 168 123 248 httpbin example com      VirtualService    cat 4        Gateway VirtualService   httpbin       istioctl delete gateway httpbin gateway   istioctl delete virtualservice httpbin   kubectl delete   ignore not found true  f samples httpbin httpbin yaml 5        Ingress    Gateway",
        "objectID": "posts/istio-ingress",
        "subtitle": "使用 Istio 控制 Ingress 流量",
        "date": "2018-08-02T05:29:08.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "在 Istio 中调试 503 错误",
        "uri": "posts/istio-mtls-debugging-a-503-error",
        "content": "Istio  mTLS  debugging 503 error                        Istio                                                                      Istio                                   httpbin                  curl                     httpbin                                httpbin           kubectl create ns foo   kubectl apply  f  get HTTP 1 1   User Agent  curl 7 35 0   Host  httpbin 8000   Accept      Note Istio sidecar    istio proxy   Envoy        15000                   HTTP                                            Pod sleep 5b597748b4 77kj5   sidecar     c istio proxy     curl curl localhost 15000 stats                     grep httpbin                 grep pending        DestinationRule                          kubectl  n foo delete DestinationRule httpbin destinationrule networking istio io  httpbin  deleted   kubectl  n foo exec  it  c sleep sleep 5b597748b4 77kj5    curl  v http   httpbin 8000 get             Istio      Sidecar       TLS             kubectl MeshPolicy default  o yaml apiVersion  authentication istio io v1alpha1 kind  MeshPolicy metadata      spec  peers  mtls       kubectl  n istio system DestinationRule default  o yaml apiVersion  networking istio io v1alpha3 kind  DestinationRule metadata      spec  host     local  trafficPolicy  tls  mode  ISTIO_MUTUAL                  TLS                             TLS                         httpbin                         TLS                         TLS                                       sleep pod              httpbin pod                       TLS    mTLS   Istio                     DestinationRule        default                    TLS                    DestinationRule                  TLS                                                                                                                              TLS      ISTIO_MUTUAL                     TLS       TLS                       DestinationRule     TLS      cat",
        "objectID": "posts/istio-mtls-debugging-a-503-error",
        "subtitle": "记一次 mTLS 趟坑经历",
        "date": "2018-10-11T07:59:54.000Z",
        "draft": false,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Istio 流量管理实现机制深度解析",
        "uri": "posts/istio-traffic-management-impl-intro",
        "content": "Istio      service mesh                                                      Istio     service mesh           Envoy             sidecar            Istio                                                                                Istio                            Pilot   Envoy             Pilot     Istio                 Pilot Pilot             Pilot Architecture    Isio           Pilot                    Pilot                                                         Pilot                            Pilot            Pilot    Kubernetes       Kubernetes API       kubernetes   service   pod                    Pilot            Pilot      Mesos  Cloud Foundry  Consul                                    Pilot           API Pilot          Envoy           API                     sidecar            API Istio                         sidecar                   API         Sidecar     Istio       Istio       Envoy        Linkerd  Nginmesh                     API      Sidecar                  Istio           Service mesh    Linkerd       Istio               Linkerd           sidecar                            API                     sidecar                              sidecar                                          API       sidecar           Golang     Sidecar MOSN Modular Observable Smart Netstub  SOFAMesh   Golang     Sidecar                             sidecar     Istio   Envoy         Envoy V2 API      API    Istio                        DSL    Pilot        DSL Domain Specific Language    DSL                                     DSL            Pilot       Pilot                  API     Envoy                          Pilot     DSL     K8S API Server    Custom Resource  CRD                 Service Pod   Deployment                 Kubectl                                                              Istio                     Istio                     Istio Github old pilot repo                 Pilot                 Pilot Design Overview     Istio oldpilotrepo                                   Pilot               Istio                        Discovery Services     docker     gcr io istio release pilot     pilot discovery             Service provider  kubernetes  consul           K8S API Server         K8S CRD Resource                                     API           sidecar   K8S API Server    Pilot     CRD Resource            Pilot     CRD        Virtualservice                   Header                      DestinationRule                                     TLS    ServiceEntry     ServiceEntry     Istio                     Istio                Gateway                             EnvoyFilter       Envoy          Envoy      Lua            EnvoyFilter    Lua          Envoy                         Envoy     EnvoyFilter                               Pilot agent   envoy            docker    gcr io istio release proxyv2    Pilot agent       K8S API Server          Envoy             Envoy       Envoy              xDS     Pilot           Agent            Envoy                      Agent     Envoy              Envoy Envoy   Pilot agent          Envoy    Pilot agent                         Pilot              API   xDS     pilot               route      listener       cluster       endpoint  Envoy                                        kubectl   istioctl    Istio        K8S   CRD          kubectl           Istioctl     Istio   CRD            Istioctl                     API      Pilot          API        Sidecar                                API       Envoy v2 API Data Plane API Protocol Buffer Definition     v2 grpc                 Istio       Envoy v1 API           V2 API V1                            API              Host                                                                                 EDS         Endpoint                IP Port      Downstream           Envoy            Upstream            Envoy               Listener                   unix domain socket               Envoy                      Envoy   Listener                                  listener        Cluster        Envoy                  Envoy                                         Envoy                         XDS      Istio      API     xDS      Pilot            sidecar             Mesh            xDS    DS    discovery service          xDS                            x              discover service                   LDS  Listener Discovery Service    envoy api v2 Listener CDS  Cluster Discovery Service    envoy api v2 RouteConfiguration EDS  Endpoint Discovery Service    envoy api v2 Cluster RDS  Route Discovery Service    envoy api v2 ClusterLoadAssignment XDS              xDS                                                                                      CDS EDS     cluster X      RDS           Cluster X         Cluster Y   CDS EDS   Mesh   Envoy    Cluster Y            Cluster Y         Envoy     Cluster Y                                                                                       xDS                            CDS EDS    Y Cluster       RDS   X       Y            Envoy                    xDS             CDS      Cluster           EDS      Cluster  ",
        "objectID": "posts/istio-traffic-management-impl-intro",
        "subtitle": "从整体上理解 Pilot 和 Envoy 的流量管理机制",
        "date": "2018-10-09T12:00:17.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Istio 流量管理",
        "uri": "posts/istio-traffic-management",
        "content": "Istio   0 8             API   networking istio io v1alpha3          config istio io v1alpha2 API    API                                                API                  Istio             Note       istioctl   kubectl                kubectl                 istioctl         1  Bookinfo        Bookinfo                           Istio                                                ISBN                    Bookinfo               productpage  productpage        details   reviews               details                 reviews                        ratings      ratings  ratings                      reviews      3      v1        ratings     v2       ratings        1   5                 v3       ratings        1   5                                  Istio       Bookinfo    Bookinfo                               Istio                                           reviews           2     Bookinfo       Istio                                Istio                        Envoy sidecar                                                     Bookinfo             Envoy sidecar                      sidecar                    Hook         Istio                                        Istio                          Istio                         Sidecar              kubectl apply  f 9080 TCP 3h kubernetes ClusterIP 10 254 0 1 443 TCP 149d productpage ClusterIP 10 254 199 214 9080 TCP 3h ratings ClusterIP 10 254 102 147 9080 TCP 3h reviews ClusterIP 10 254 249 86 9080 TCP 3h   kubectl pods NAME READY STATUS RESTARTS AGE details v1 6456dbdb9 crqnw 2 2 Running 0 3h productpage v1 6f6887645c 52qhn 2 2 Running 0 3h ratings v1 648cf76d8f g65s5 2 2 Running 0 3h reviews v1 7dcbc85bb5 j748n 2 2 Running 0 3h reviews v2 65fd78f5df r8n6r 2 2 Running 0 3h reviews v3 95c85969c zmpfx 2 2 Running 0 3h    Ingress   IP               ingressgateway       NodePort       kubectl  n istio system svc istio ingressgateway NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE istio ingressgateway NodePort 10 254 160 93 80 31380 TCP 443 31390 TCP 31400 31400 TCP 15011 25059 TCP 8060 36612 TCP 15030 25049 TCP 15031 36810 TCP 3h    ingress IP    export INGRESS_HOST   kubectl  n istio system po  l istio ingressgateway  o go template    range  items     status hostIP    end             export INGRESS_PORT   kubectl  n istio system svc istio ingressgateway  o go template    range  spec ports    if eq  name  http      nodePort    end    end        GATEWAY_URL    export GATEWAYURL  INGRESSHOST  INGRESS_PORT       curl       Bookinfo            curl  o  dev null  s  w    httpcode  n  http     GATEWAYURL  productpage 200             http    GATEWAY_URL productpage        Web                             reviews                            reviews                    Istio           3           Bookinfo            reviews                                                                             Istio                       Note                                                       replace    create                                         v1    istioctl create  f samples bookinfo networking virtual service all v1 yaml   istioctl create  f samples bookinfo networking destination rule all yaml                         istioctl virtualservices  o yaml apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  details     spec  hosts  details http  route  destination  host  details subset  v1 apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  productpage     spec  gateways  bookinfo gateway mesh hosts  productpage http  route  destination  host  productpage subset  v1 apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  ratings     spec  hosts  ratings http  route  destination  host  ratings subset  v1 apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  reviews     spec  hosts  reviews http  route  destination  host  reviews subset  v1                                                      pod              Bookinfo       URL  http    GATEWAY_URL productpage          Bookinfo       productpage          productpage                     reviews v1        ratings          API                                     yaml            VirtualService   DestinationRule  VirtualService                              VirtualService     VirtualService                     K8S      Pod                                                   VirtualService                                             hosts                      route       destination                                                           CIDR     DNS                                                                  app sleep   Pod   php server         v1  apiVersion  networking istio io v1alpha3 kind  VirtualService metadata  name  sleep server route spec  hosts   php server  http  match  sourceLabels  app  sleep route  destination  name  php server subset  v1 route  destination  name  php server subset  v2                                               app sleep   Pod   php server         v2       Bookinfo                   details         details   v1         productpage   ",
        "objectID": "posts/istio-traffic-management",
        "subtitle": "使用 Istio 实现应用的金丝雀部署",
        "date": "2018-08-01T12:59:11.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Kubernetes 网络扩展",
        "uri": "posts/k8s-network-expand",
        "content": "1  Kubernetes          k8s                hostNetwork hostPort NodePort LoadBalancer Ingress      Pod       Service         Pod    Service   backend  HostNetwork          Pod            Pod     hostNotwork true          pod                pod                                              pod        apiVersion  v1 kind  Pod metadata  name  influxdb spec  hostNetwork  true containers  name  influxdb image  influxdb    Pod                        Pod                  Pod                           Pod                       Pod IP          Pod                                                           hostNetwork  true      hostPort          Pod        hostPort                                      IP       Pod      apiVersion  v1 kind  Pod metadata  name  influxdb spec  containers  name  influxdb image  influxdb ports  containerPort  8086 hostPort  8086       Pod         Pod                                Pod              NodePort NodePort   kubenretes                 Kubernetes    service            ClusterIP          service       ClusterIP    IP                       service     service type     nodePort  apiVersion  v1 kind  Pod metadata  name  influxdb labels  name  influxdb spec  containers  name  influxdb image  influxdb ports  containerPort  8086        service      nodePort       30000 32767      API server            service node port range     kind  Service apiVersion  v1 metadata  name  influxdb spec  type  NodePort ports  port  8086 nodePort  30000 selector  name  influxdb          kubernetes         IP    30000          kube proxy         round robin         service      pod        node                     LoadBalancer LoadBalancer     service                     AWS Azure CloudStack GCE    kind  Service apiVersion  v1 metadata  name  influxdb spec  type  LoadBalancer ports  port  8086 selector  name  influxdb         kubectl svc influxdb NAME CLUSTER IP EXTERNAL IP PORT S  AGE influxdb 10 97 121 42 10 13 242 236 8086 30051 TCP 39s        ClusterIP            19 97 121 42 8086                            IP   30051            EXTERNAL IP          VIP               IP   10 13 242 236 8086               Ingress Ingress    kubernetes1 1                  Ingress controller      Ingress    Ingress controller             Ingress controller      Kubernetes     Docker       Docker         nginx   HAProxy                           Kubernetes       Ingress           nginx   HAProxy                              Ingress controller    Kubernetes           Kubernetes Ingress               HTTP         SSL    SSL    TCP   UDP                Ingress controller                  Ingress controller     apiVersion  extensions v1beta1 kind  Ingress metadata  name  influxdb spec  rules  host  influxdb kube example com http  paths  backend  serviceName  influxdb servicePort  8086      URL http   influxdb kube example com ping            80       Ingress controller            Pod       kube proxy       LoadBalancer           80                                                    IP                                     k8s                         k8s                 dns          k8s dns          2            k8s      172 28 0 0 16 k8s service    10 96 0 0 12       192 168 0 0 16 k8s        kubectl cs NAME STATUS MESSAGE ERROR scheduler Healthy ok controller manager Healthy ok etcd 0 Healthy   health    true     kubectl nodes  owide NAME STATUS AGE VERSION EXTERNAL IP OS IMAGE KERNEL VERSION node1 Ready 13d v1 7 11 CentOS Linux 7  Core  3 10 0 514 el7 x86_64 node2 Ready 13d v1 7 11 CentOS Linux 7  Core  3 10 0 514 el7 x86_64 node3 Ready 13d v1 7 11 CentOS Linux 7  Core  3 10 0 514 el7 x86_64                IP                                                  192 168 2 173   calico gateway        dns         192 168 1 62   node3           k8s    dao 2048       kubectl svc egrep  NAME 2048  NAME CLUSTER IP EXTERNAL IP PORT S  AGE dao 2048 10 98 217 155 80 TCP 13m                                       192 168 0 0 16             tcp      k8s service                                                                          dao 2048 default svc cluster local       k8s                                                                                     dns     ingress udp pod         udp53        192 168 1 62              k8s dns     dns                              dns   192 168 1 62                                                   10 98 217 155        svc     clusterip                                                                k8s            net ipv4 ip_forward 1                         k8s    10 96 0 0 12          192 168 2 173   192 168 2 173     ip route add 10 96 0 0 12 via 192 168 2 173              kube proxy             svc           kubele       k8s                                                        calico Iface                                                         k8s                 k8s                                     3       dns          dns             dns      hostNetwork  true    k8s             dns      cd   dns udp  ll    total 20K  rw r  r    1 root root 1 2K Feb 12 05 13 default backend yaml  rw r  r    1 root root 140 Feb",
        "objectID": "posts/k8s-network-expand",
        "subtitle": "通过边界网关和边界 DNS 直接访问 k8s 中的服务",
        "date": "2018-02-11T10:40:33.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes",
            "docker"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Kube-router 实战",
        "uri": "posts/kube-router",
        "content": "Kube router                calico   kube proxy         Kubernetes                              1       Kube router                               Kubernetes watch API              Kubernetes                        API             API                                            Kube router  3                           Kube router           wathcer  func  kr  KubeRouter  Run   error       err   kr startApiWatchers     startApiWatchers       endpoint namespace pod node networkpolicy service     wather      wathcer           Broadcaster  func NewBroadcaster    Broadcaster   return  Broadcaster     func  b  Broadcaster  Add listener Listener    b listenerLock Lock   defer b listenerLock Unlock   b listeners   append b listeners  listener    func  b  Broadcaster  Notify instance interface      b listenerLock RLock   listeners    b listeners b listenerLock RUnlock   _  listener    range listeners   go listener OnUpdate instance             controller NetworkPolicyController NetworkRoutingController NetworkServicesControllers     controller               func NewNetworkServicesController clientset  kubernetes Clientset   config options KubeRouterConfig   NetworkServicesController  error        nsc    NetworkServicesController       watchers EndpointsWatcher RegisterHandler  nsc  watchers ServiceWatcher RegisterHandler  nsc         controller         func Run       Sync      control loop runs ever perfom sync periodic interval     func OnUpdate     Sync      receiving update watched API object  namespace  node  pod  network policy etc    Sync       re concile state changes   Cleanup        cleanup changes  to iptables  ipvs  network etc  done system   2          IPVS LVS            run service proxy Kube router    Linux     IPVS     K8s    Service      Kube router                        kube dummy if         k8s   watch APi      svc   ep     svc   cluster_ip      kube dummy if        lvs   virtual server     realserver   ip     ep       IP       Kubernetes         Kube router IPVS                    IP                           run router     kube router       IP         masquerade all          SNAT            Kubernetes network services prox IPVS LVS Kernel Load Balancing Docker Containers Using IPVS LVS                      run router Kube router    BGP     Go   GoBGP                        Kubernetes API                kube router                         kube router       CNI               bridge        kube rouetr           BGP     Kubernetes           Kubernetes pod networking beyond BGP            run firewall            Kubernetes API                 pod           ipset    iptables    pod                             Kube router    networking k8s io NetworkPolicy         V1 GA semantics         beta          kube router             Enforcing Kubernetes network policies iptables 3     kube router    kube proxy                 kube router   service proxy             calico                   v           k8s    kube router      apiserver        daemonset    kube router    kube apiserver   kubelet      allow privileged true                  IP                                        k8s master   192 168 123 250   node1     k8s node   192 168 123 248   node2     k8s node   192 168 123 249   node3                kube proxy       kube proxy           iptables       systemctl stop kube proxy   kube proxy   cleanup iptables      daemonset    kube router        DR       kubectl   namespace kube system create configmap kube proxy   from file kubeconfig conf  root  kube config   wget https   raw githubusercontent com cloudnativelabs kube router master daemonset kubeadm kuberouter all features dsr yaml   kubeadm kuberouter all features dsr yaml      run router       run firewall        false   kubectl create  f kubeadm kuberouter all features dsr yaml          lvs      ipvsadm  Ln IP Virtual Server version 1 2 1  size 4096  Prot LocalAddress Port Scheduler Flags    RemoteAddress Port Forward Weight ActiveConn InActConn TCP 10 254 0 1 443 rr persistent 10800    192 168 123 250 6443 Masq 1 0 0   ipvsadm  S  n  A  t 10 254 0 1 443  s rr  p 10800  a  t 10 254 0 1 443  r 192 168 123 250 6443  m  w 1      kube router      lvs   nat              kube router   kubectl run whats my ip   image cloudnativelabs whats my ip   replicas 3        kubectl expose deploy whats my ip   target port 8080   port 8080            kubectl pods  owide NAME READY STATUS RESTARTS AGE IP NODE whats my ip 845d4ff4f6 d2ptz 1 1 Running 0 23h 172 20 135 8 192 168 123 249 whats my ip 845d4ff4f6 jxzzn 1 1 Running 0 23h 172 20 166 130 192 168 123 250 whats my ip 845d4ff4f6 szhhd 1 1 Running 0 34s 172 20 104 9 192 168 123 248   kubectl svc NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE kubernetes ClusterIP 10 254 0 1 443 TCP 45d whats my ip ClusterIP 10 254 108 117 8080 TCP 16s    lvs        ipvsadm  Ln IP Virtual Server version 1 2 1  size 4096  Prot LocalAddress Port Scheduler Flags    RemoteAddress Port Forward Weight ActiveConn InActConn TCP 10 254 0 1 443 rr persistent 10800    192 168 123 250 6443 Masq 1 0 0 TCP 10 254 175 147 8080 rr    172 20 104 9 8080 Masq 1 0 0    172 20 1",
        "objectID": "posts/kube-router",
        "subtitle": "使用 Kube-router 作为 Kubernetes 负载均衡器",
        "date": "2018-04-20T04:36:40.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes",
            "lvs"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "KubeRBS 助力 Kubernetes 自动回滚，让你晚上睡得更香",
        "uri": "posts/kuberbs-for-automatic-kubernetes-rollbacks-so-you-can-sleep-better-at-night",
        "content": "Kubernetes                                                                                                                                                                           kuberbs Kubernetes Rollback System                  Kubernetes   Deployment                                     Deployment                 kuberbs      Stackdriver   Datadog                                 kuberbs     Operator        CRD          Deployment                    apiVersion   doit intl com v1  kind  Rbs metadata  name  my rbs example spec  watchperiod  5 metricssource  stackdriver namespaces  name  default deployments  deployment  name  hello kubernetes app  Stack driver metric metric  logging googleapis com user hello kubernetes app errors threshold  1 deployment  name  kubernetes app 2 DataDog metric metric  gcp container cpu usage_time    threshold  85 name  kube system deployments  deployment  name  kube dns metric  logging googleapis com user dig threshold  30               CRD    Rbs            deployment                      kuberbs   ConfigMap    apiVersion  v1 data  KUBERBS_CHECKMETRICSINTERVAL   10  KUBERBS_APIKEY     KUBERBS_APPKEY     KUBERBS_DEBUG   false  kind  ConfigMap metadata  labels  app  kuberbs name  kuberbs config namespace  kube system               KubeRBS            video mp4  https   drive yangcs net   video KubeRBS 20in 20Action 21 mp4  poster  https   ws1 sinaimg cn large 006tNbRwgy1fxnqmu6le9j30pu0dct9t jpg",
        "objectID": "posts/kuberbs-for-automatic-kubernetes-rollbacks-so-you-can-sleep-better-at-night",
        "subtitle": "浅析 KubeRBS 的原理和使用方法",
        "date": "2018-11-28T03:43:54.000Z",
        "draft": false,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "深入理解 Kubernetes API Server（一）",
        "uri": "posts/kubernetes-api-server-part-1",
        "content": "Kubernetes API Server  Part    Andrew Chen Dominik Tornow             Kubernetes                                                                Kubernetes                  Alloy                                Alloy                              Specification language                                                                                                       API Server                Kubernetes API         Kubernetes                      1          API Server   the term apiserver   API Server                           API Server Kubernetes API   Kubernetes                           1 API Server Kubernetes API   Kubernetes      Kubernetes API                       Kubernetes          Kubernetes             Kubernetes       API Server    Kubernetes API   Kubernetes          2  API Server      the apiserver  Kubernetes API Server   Kubernetes              Kubernetes API Server    Kubernetes                   Kubernetes       Pod ReplicaSet   Deployment     Kubernetes       2 Kubernetes API Server   Kubernetes    Kubernetes API Server                              git     Kubernetes API Server      rev   Kubernetes API Server               Kubernetes API Server            Kubernetes        mod   Kubernetes                                    Kubernetes API Server                          5            3 Kubernetes API Server      Kubernetes API Server                CRUD  Create Read Update Delete                                                           API Server                                           read last write                                 Stale reads                                        Out of order reads                                                           4       token      token   fencing and freshness tokens            rev             token fencing tokens                               token freshness tokens           read last write       5    token                rev   mod      token          rev   mod         rev   mod         API Server                     optimistic locking       5         rev    n      rev    n 1          API Server        rev        n 1    6     token                rev   mod       token   token                     token          3         structural specification  Kubernetes API Server     Kubernetes       rev     Kubernetes      kind name namespace   mod             kind name   namespace         API Server          Kubernetes             kind name   namespace      4         behavioral specification         Kubernetes API Server                                                            7                the write interface                           Command            API Server                        API Server                      Event                    8 API Server         8     API Server                                  API Server        Kubernetes API Server             API Server                                          event sourcing   state   reduce apply  events             create command        Kubernetes       API Server       mod      API Server   rev                 API Server                                      Created Event event   object         Kubernetes            update command          API Server    Kubernetes          mod      API Server   rev          mod       rev                  mod      token                      Updated Event event   object        Kubernetes            delete command        API Server     Kubernetes           mod       mod                  mod      token                      Deleted Event event   object          Kubernetes            the read interface  Kubernetes API                                            object related interface                                    kind name   namespace                 token   min     API Server      min     API Server           Kubernetes                event related interface                               Watch         kind name   namespace                 token   min     API Server      API Server                Watch List         kind name   namespace                 token   min     API Server      API Server                     example                         Kubernetes                  Kubernetes                                                                    pods  rev    request object list kind  pods   namespace  default   e request watch list kind  pods   namespace  default   rev  pods    apply pods  e               Kubernetes API Server        watch                                                        API Server             5       conclusion        Kubernetes API Server                                Kubernetes API Server      Kubernetes           token      token               Kubernetes API   Kubernetes       6       about this post         CNCF Google   SAP                   Kubernetes",
        "objectID": "posts/kubernetes-api-server-part-1",
        "subtitle": "Kubernetes API Server 的架构和行为规范",
        "date": "2018-11-19T05:42:03.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "keywords": [
            "杨传胜的博客",
            "kubernetes",
            "apiserver"
        ],
        "uri": "posts/kubernetes-design-and-development-explained",
        "content": "Kubernetes Design Development Explained     8   29    31                                    Kubernetes                                                         Kubernetes  1              declarative over imperative          Kubernetes                Pod         Kubernetes        Kubernetes API                    API                                             API                                                                 Kubernetes           API            REST API                                                                                                       API    Pod simple pod yaml apiVersion  v1 kind  Pod metadata  name  nginx spec  containers  name  nginx image  internal mycorp com 5000 mycontainer 1 7 9   kubectl create  f simple pod yaml pod  nginx  created             API Server      kubectl pods NAME READY STATUS RESTARTS AGE nginx 1 1 Running 0 17s                                       Pod       kubectl delete  f https   k8s io examples pods simple pod yaml pod  nginx  deleted                  why declarative over imperative        API                                                                               API                                                                     API           API Server                                                 API                                                                                                                                   API   Kubernetes                      2           API   no hidden internal apis        Kubernetes                 Kubernetes                              API       Kubernetes               API       Kubernetes        API            Kubernetes API             Kubernetes                  Kubernetes API                                                                       Kubernetes API Server       Pod           Kubernetes                  Pod               Kubernetes API Server       Pod               Pod                          Pod       Pod              Pod                           Pod    Kubernetes API                    API        Pod      NodeName        Pod         Kubelet         Kubernetes agent      Kubernetes API                 Pod   NodeName              Pod                      kubelet     Pod         Pod            API Server        Pod                  Pod        kubelet                                 API   why no hidden internal apis  Kubernetes               API       Kubernetes        API       Kubernetes                   Kubernetes                                      API                             API              Kubernetes      3               meet user where they are  Kubernetes API                       Secret   ConfigMap Secret                                      ComfigMap                                           Kubernetes                Kubernetes              Kubernetes API Server    Secret   ConfigMap                            Kubernetes        Kubernetes                       Kubernetes                  Kubenretes                   Secret   ConfigMap              Kubernetes     Secret   ConfigMap             Pod            Secret           Secret                        meet user where they are                 Kubernetes                   Kubernetes                           4              workload portability        Kubernetes                        Kubernetes             Kubernetes           volume                        Kubernetes                       API Server     Google Cloud Persistent Disk     Pod         apiVersion  v1 kind  Pod metadata  name  sleepypod spec  volumes  name  data gcePersistentDisk  pdName  panda disk containers  name  sleepycontainer image  gcr io google_containers busybox command  sleep  6000  volumeMounts  name  data mountPath   data     Pod      Kubernetes          GCE PD     Pod                                  Pod               GCE PD                     YAML          Google Cloud Persistent Disk     Pod       Google Cloud Kubernetes                  GCE PD      Kubernetes                                                       Pod yaml                            Pod         GCE PD          Pod        Kubernetes     PersistentVolumeClaim PVC   PersistentVolume PV API                        PersistentVolumeClaim                                     PVC       10 GB                   GCE PD  apiVersion  v1 kind  PersistentVolumeClaim metadata  name  mypvc spec  accessModes  ReadWriteOnce resources  requests  storage  100Gi Kubernetes         Pod         PersistentVolume                                        Kubernetes                                 why workload portability                Kubernetes                                    Kubernetes                                Kubernetes                                 Kubernetes                                                      Kubernetes endpoint      5       conclusion           Kubernetes                             Kubernetes                             Note                                                                                                       AI                DevOps                       ",
        "objectID": "posts/kubernetes-design-and-development-explained",
        "title": "Kubernetes 设计与开发原则",
        "description": "本文将通过揭示其底层的设计原则，帮助您更深入地了解 Kubernetes。",
        "date": "2018-12-04T09:35:59.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Kubernetes DNS 高阶指南",
        "uri": "posts/kubernetes-dns",
        "content": "DNS   Kubernetes         Kubernetes    kube dns   CoreDNS                     DNS        Service             FQDN Fully Qualified Domain Name                        DNS                Kubernetes     DNS                                NFV Network Function Virtualization             Pod              DNS                             1           DNS              Kubernetes                   Pod3          Pod          DNS               k8s DNS                  NFV                                                                                                                                           Control Network   Data Network                Kubernetes   Control Network         Cluster Network                     Pod1 Pod2            Data Network                    Kubernetes                                                Pod        Kubernetes      DNS                      DNS Server                   Pod1 Pod2          DNS Server  2        DNS            Pod    DNS    Kubernetes v1 9         Alpha      v1 10     Beta          v1 10          v1 9                     apiserver   kubelet     CustomPodDNS          feature gates CustomPodDNS true                     Pod   dnsPolicy        None        Pod Spec         dnsConfig     dnsConfig       DNS      dnsPolicy     Pod       DNS                   DNS  dnsConfig dnsConfig           Pod      DNS                                             dnsPolicy    Pod          DNS       dnsConfig               DNS     Pod                     nameservers searches options                  etc resolv conf                DNS                     Google               Kubernetes              dnsConfig        dnsConfig     PodSpec         Pod              Network Namespace                          yaml     apiVersion  v1 kind  Pod metadata  name  ubuntu setting namespace  default spec  containers  image  hwchiu netutils command  sleep  360000  imagePullPolicy  IfNotPresent name  ubuntu restartPolicy  Always dnsConfig  nameservers  1 2 3 4 searches  ns1 svc cluster local my dns search suffix options  name  ndots value   2  name  edns0      yaml    Pod                    DNS                  kubectl exec ubuntu setting cat  etc resolv conf nameserver 10 254 0 2 nameserver 1 2 3 4 search default svc cluster local svc cluster local cluster local ns1 svc cluster local my dns search suffix options ndots 2 edns0      nameserver      1 2 3 4   search     ns1 svc cluster local my dns search suffix             options              ndots 2 edns0  dnsConfig                 DNS                  dnsPolicy      dnsConfig        Pod      DNS      dnsPolicy      Pod      DNS                       None Default ClusterFirst ClusterFirstHostNet                 None None       Pod     DNS      dnsPolicy          Kubernetes     Pod                 DNS          dnsPolicy      None      Pod          DNS       dnsConfig         DNS                   apiVersion  v1 kind  Pod metadata  name  ubuntu none namespace  default spec  containers  image  hwchiu netutils command  sleep  360000  imagePullPolicy  IfNotPresent name  ubuntu restartPolicy  Always dnsPolicy  None dnsConfig  nameservers  1 2 3 4 searches  ns1 svc cluster local my dns search suffix options  name  ndots value   2  name  edns0      yaml    Pod                    DNS                dnsConfig                  yaml                     DNS       kubectl exec ubuntu none cat  etc resolv conf nameserver 1 2 3 4 search ns1 svc cluster local my dns search suffix options ndots 2 edns0 Default Default    Pod     DNS            DNS             Pod   DNS                            apiVersion  v1 kind  Pod metadata  name  ubuntu default namespace  default spec  containers  image  hwchiu netutils command  sleep  360000  imagePullPolicy  IfNotPresent name  ubuntu restartPolicy  Always dnsPolicy  Default          Node     DNS       cat  etc resolv conf Dynamic resolv conf 5  file glibc resolver 3  generated resolvconf 8  NOT EDIT FILE HAND    CHANGES WILL OVERWRITTEN nameserver 10 0 2 3       Node     DNS              10 0 2 3           Pod    DNS       kubectl exec ubuntu default cat  etc resolv conf nameserver 10 0 2 3          DNS          Pod    DNS          Node         ClusterFirst        Default ClusterFirst                kube dns   CoreDNS               Pod    DNS     Note ClusterFirst             Pod       PodPolicy      dnsPolicy     ClusterFirst                apiVersion  v1 kind  Pod metadata  name  ubuntu clusterfirst namespace  default spec  containers  image  hwchiu netutils command  sleep  360000  imagePullPolicy  IfNotPresent name  ubuntu restartPolicy  Always dnsPolicy  ClusterFirst      yaml    Pod                  DNS         kubectl exec ubuntu clusterfirst cat  etc resolv conf nameserver 10 254 0 2 search default svc cluster local svc cluster local cluster local options ndots 5            k8s DNS         ClusterFirst             Pod     HostNetwork true   ClusterFirst          Default  HostNetwork               apiVersion  v1 kind  Pod metadata  name  ubuntu hostnetwork policy default namespace  default spec  containers  image  hwchiu netutils command  sl",
        "objectID": "posts/kubernetes-dns",
        "subtitle": "为你的 Pod 自定义 DNS",
        "date": "2018-08-27T10:11:52.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Kubernetes 准入控制介绍",
        "uri": "posts/kubernetes-extensible-admission",
        "content": "1               Admission Controller   Kubernetes API Server             Admission                     service mesh         Istio      Kubernetes       Admission           sidecar      Kubernetes                 Kubernetes     authn authz         admission       authn authz   Kubernetes            filter        http    header               body    authn authz                                              Admission     API Server       handler           API resource                        API server                             URL           API                                                        PodNodeSelector         PodSecurityPolicy           ResourceQuota     Namespace                        Mutation                             API         Validation                       API                                               Mutation    Admission   Mutation                           Admission              Admission                    Mutating Admission Plugin          PodNodeSelector     Namespace     annotation namespace annotations  scheduler alpha kubernetes io node selector                  pod spec nodeselector                Namespace    pod                     taints          Admission              Validating          Admisson            API                   mutators                                    Validation Admission Plugin         PodNodeSelector            pod   spec nodeSelector        Namespace               Mutating      PodNodeSelector                spec nodeSelector          PodNodeSelector              API                          API Server                                  endpoint handler       API Server            http                   request body       versioned object  versioned object     internal object                      versioned             internal             versioned object      Admission Controller     admit                     Pod         Service Account    API Server internal object validation                      Service Name           63    Admission Controller validate                 internal object     versioned object          etcd  2           Kubernetes 1 10             admission control             admission control       Admission                                                        Kubernetes 1 10         admission control             enable admission plugins     disable admission plugins                                                                            Alpha     API              API                           3  Admission Webhook    Kubernetes          Admission                             Kbernetes                     Admission        webhook        MutatingAdmissionWebhook               ValidatingAdmissionWebhook               Admission Webhook    Kubernetes                                Mutation     Validation        kube apiserver       k8s io apiserver 1 9     apiserver    metrics  service catalog  kube projects             Admission Webhook                                                         Initializers        Apha                        Admission    webhook  Webhook Admission       Webhook Admission         API server                                        pod       Istio      pod      sidecar       pod                   tag     SHA                      Namespace               CustomResource                            A    B           LimitRanges                      tag     SHA                   SHA                  Webhook Admission        API        API servers kube apiserver       API servers                      Webhook Admission                  Webhook Admission Server      Webhook Admission Server          server          Server     URL                HTTP    API server                  Webhook Admission Server        apiVersion  admissionregistration k8s io v1beta1 kind  ValidatingWebhookConfiguration metadata  name  namespacereservations admission online openshift io webhooks  name  namespacereservations admission online openshift io   clientConfig    service  namespace  default name  kubernetes path   apis admission online openshift io v1alpha1 namespacereservations caBundle  KUBE CA HERE   rules    apiGroups     apiVersions     operations  CREATE resources  namespaces failurePolicy  Fail     name   Webhook     mutating Webhooks              clientConfig                      Webhook Admission Server        rules        API server           Admission                Namespace                     serviceinstances servicecatalog k8s io   create            failurePolicy      Webhook Admission Server                     Ignore            Fail                                caBundle      API server    Webhook        TLS        MutatingWebhookConfiguration        caBundle  Note    initializerConfiguration ValidatingWebhookConfiguration   MutatingWebhookConfiguration   rule          operations field   resources          subresource     resource subresource           Webhook Admission                  API                                                API servers        Webhook Admission Server      Webhook Admission Server           API server",
        "objectID": "posts/kubernetes-extensible-admission",
        "subtitle": "通过 Adminssion Webhook 扩展准入控制",
        "date": "2018-09-22T03:17:11.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": " 修复 Service Endpoint 更新的延迟",
        "uri": "posts/kubernetes-fixing-delayed-service-endpoint-updates",
        "content": "Kubernetes      Deployment                      Deployment     30               Deployment         Service                                                                      Deployment           Pod      Pod    curl             liveness       readiness Endpoints                                                Service        Deployment                      Pods                         Service      Endpoint        Service      Pod      Endpoint                              Deployment        watch           Service   Endpoint    watch kubectl describe endpoints  endpoint name                 Pod      30                     Pod   IP Port       Endpoint               Pod   IP Port         Endpoint                                                                 Endpoint     kube controller manager       kube controller manager                   I0412 22 59 59 914517 1 request go 638  Throttling request took 2 489742918s  request  GET https   10 3 0 1 443 api v1 namespaces  some namespace  endpoints  some endpoints                                          kube controller manager               Kube controller manager               Controller                    Endpoint Controller      Pod                  Endpoint  Endpoint Controller         workers            Endpoint          Endpoint                workers                                                     Endpoint                   kube controller manager        concurrent endpoints syncs     Endpoint Controller   workers                                      kube api qps     kube api burst kube controller manager                Controller    Endpoint Controller   kube apiserver                      20                                                  kube api qps       300     kube api burst       325                     Pod   Endpoint          Note   kube api qps     kube api burst        kube apiserver   etcd                                             Kubernetes  Fixing Delayed Service Endpoint Updates",
        "objectID": "posts/kubernetes-fixing-delayed-service-endpoint-updates",
        "subtitle": "Kube-controller-manager 调优",
        "date": "2018-06-15T14:02:11.000Z",
        "draft": false,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Kubernetes 的奇技淫巧",
        "uri": "posts/kubernetes-fucking-trick",
        "content": "Kubernetes                            User             Kubernetes                    Kubernetes                       Kubernetes                                     Kubernetes                  Kubernetes                                                        Kubernetes                Kubernetes                        kubectl      kubectl                                                             kubectl                         bash           shell      bash Linux                   echo  source      bashrc   source    bashrc                   bash completion         zsh           shell   zsh                 echo  source      zshrc   source    zshrc     kubectl    kubectl            kubectl               o json     o yaml                                                      go template        go template   golang            template                   pods      pod   uid              kubectl pods   all namespaces  o go template    range  items     metadata uid     end    2ea418d4 533e 11e8 b722 005056a1bc83 7178b8bf 4e93 11e8 8175 005056a1bc83 a0341475 5338 11e8 b722 005056a1bc83       kubectl pods  o yaml apiVersion  v1 items  apiVersion  v1 kind  Pod metadata  name  nginx deployment 1751389443 26gbm namespace  default uid  a911e34b f445 11e7 9cda 40f2e9b98448     apiVersion  v1 kind  Pod metadata  name  nginx deployment 1751389443 rsbkc namespace  default uid  a911d2d2 f445 11e7 9cda 40f2e9b98448     apiVersion  v1 kind  Pod metadata  name  nginx deployment 1751389443 sdbkx namespace  default uid  a911da1a f445 11e7 9cda 40f2e9b98448     kind  List metadata     resourceVersion        pods        List        pods    items     value          items        range  items                      items         metadata uid                            end                                             printf           n               kubectl pods   all namespaces  o go template   template    range  items    printf   s n   metadata uid    end              kubectl pods   all namespaces  o go template   template    range  items     metadata uid      n     end         printf                                       kubectl pods   all namespaces  o go template   template    range  items    printf     20s   50s   30s  n   metadata namespace  metadata name  metadata uid    end     default  details v1 64b86cd49 85vks  2e7a2a66 533e 11e8 b722 005056a1bc83   default  productpage v1 84f77f8747 7tkwb  2eb4e840 533e 11e8 b722 005056a1bc83   default  ratings v1 5f46655b57 qlrxp  2e89f981 533e 11e8 b722 005056a1bc83            go template          range                   kubectl pods   all namespaces  o go template   template    range  items    range  spec containers    printf   s n   image    end    end    istio examples bookinfo details v1 1 5 0 istio examples bookinfo productpage v1 1 5 0 istio examples bookinfo ratings v1 1 5 0                          IP   kubectl no  o go template    range  items    if  spec unschedulable     metadata name      spec externalID      n     end    end         go template                            kubectl  n kube system pods coredns 64b597b598 7547d  o custom columns NAME  metadata name hostip  status hostIP NAME hostip coredns 64b597b598 7547d 192 168 123 250       go template file                                     template            cat   test tmpl kd   kubectl describe          kgdepallw   kubectl deployment   all namespaces   watch Kubeval               Kubernetes manifest       manifest                          Kubernetes                         Kubeval        Kubernetes YAML JSON            Kubernetes                         kubeval nginx yaml document nginx yaml contains invalid Deployment      spec replicas  Invalid type  Expected  integer  given  string Kedge    Kubernetes             Kubernetes manifest                                                 Kedge                 kedge       Kubernetes manifest          Web server Kedge example name  httpd deployments  containers  image  centos httpd services  name  httpd type  LoadBalancer portMappings  8080 80 Converted Kubernetes artifact file s  apiVersion  v1 kind  Service metadata  creationTimestamp  null labels  app  httpd name  httpd spec  ports  name  httpd 8080 port  8080 protocol  TCP targetPort  80 selector  app  httpd type  LoadBalancer status  loadBalancer     apiVersion  extensions v1beta1 kind  Deployment metadata  creationTimestamp  null labels  app  httpd name  httpd spec  strategy     template  metadata  creationTimestamp  null labels  app  httpd name  httpd spec  containers  image  centos httpd name  httpd resources     status            Ops   SRE       10     k8s         Kubernetes",
        "objectID": "posts/kubernetes-fucking-trick",
        "subtitle": "打造高效的命令行终端",
        "date": "2018-06-11T04:35:48.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "http://ycs.ylck.me/kubernetes4.png"
            }
        ]
    },
    {
        "title": "Kubernetes 资源管理概述",
        "uri": "posts/kubernetes-resource-management",
        "content": "Cizixs      1           kubernetes                  node   pod node                 pod                  node        pod                cpu memory gpu     disk ssd     network bandwidth ip ports                                               kubernetes                                                CPU                                CPU                                                            CPU         pod                        kubernetes                           CPU                                                                                                                                                                                                        pod                                            CPU        pod     CPU      CPU                pod                                kubernetes                      pod                                         pod                                         2  kubernetes           pod               kubernetes                              CPU   memory          spec containers   resource limits request cpu memory                    request                 pod                 pod        limits  limits   requests                         cpu   memory  CPU            CPU                          proc cpuinfo                           kubernetes                0 5                  CPU       CPU                  0 5 1           CPU             500m      0 5      1 Core   1000m                                                                       E P T G M K          1000              Ei Pi Ti Gi Mi Ki           2 10   1024       100M           100Mi     3                                  pod                pods                           sshd udev      kubernetes       kubelet docker                                   pod                        kube reserved cpu 100mmemory 100Mi ephemeral storage 1Gi        kubernetes       CPU memory         system reserved cpu 100mimemory 100Mi ephemeral storage 1Gi         CPU memory                    pod              eviction              kubelet                   100     pod                                  Note        allocatable                         pod            kubelet              allocatable       node     status               status  allocatable  cpu   2  ephemeral storage   35730597829  hugepages 2Mi   0  memory  3779348Ki pods   110  capacity  cpu   2  ephemeral storage  38770180Ki hugepages 2Mi   0  memory  3881748Ki pods   110  4  kubernetes                 kubernetes           pod             requests     limits            pod               Requests   Limits               resources  requests  memory   64Mi  cpu   250m  limits  memory   128Mi  cpu   500m  Requests             kubernetes     pod                                      pod                 pod            CPU                                                          pods                                   pods                                  CPU           10             pod     Limits   pod                   cgroups                       docker run        memory           cgroups        sys fs cgroup memory    memory limitinbytes      Note    limit                             pod           requests   limits             pod                                            pod     requests                                                         limit range             pod                  kubernetes     LimitRange              namespace     request   limit            apiVersion   v1  kind   LimitRange  metadata  name  you shall have limits spec  limits  type   Container  max  cpu   2  memory   1Gi  min  cpu   100m  memory   4Mi  default  cpu   500m  memory   200Mi  defaultRequest  cpu   200m  memory   100Mi       namespace     pod        requests   limits                           100Mi     200Mi CPU     200m     500m       pod            kubernetes     pod         LimitRange     namespace    pod                       resource quota                   kubernetes                           pod                                               kubernetes                      namespace                     namespace kubernetes                   resource quota                    namespace                    cpu memory         kubernetes         pod services          resource quota kubernetes        namespace                                     16  CPU 32G    pod                    namespace      20  CPU   1G          10   pod 20  rc 5  service              apiVersion  v1 kind  ResourceQuota metadata  name  quota spec  hard  cpu   20  memory  1Gi pods   10  replicationcontrollers   20  resourcequotas   1  services   5  resource quota               GPU    configmaps persistentvolumeclaims                   Resource quota                                                     resource quota                            kubernetes                         controller           5        QoS       Requests   limits                                     pod   QoS                     pod      limits                        pod                           pod                                  pod            ",
        "objectID": "posts/kubernetes-resource-management",
        "subtitle": "聊聊 Kubernetes 的计算资源模型以及如何调度管理资源",
        "date": "2018-08-03T09:34:19.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "keywords": [
            "杨传胜的博客",
            "istio",
            "service mesh",
            "data plane"
        ],
        "uri": "posts/life-of-a-packet-through-istio",
        "content": "Istio                                                                                                                                                    Istio                                     Istio                                                                                                      Istio          video mp4  https   drive yangcs net   video Life 20of 20a 20packet 20through 20Istio 20by 20Matt 20Turner mp4  poster  https   ws4 sinaimg cn large 006tNbRwgy1fy9s96fobzj30pu0dcaal jpg           PPT     Download",
        "objectID": "posts/life-of-a-packet-through-istio",
        "title": "数据包在 Istio 网格中的生命周期",
        "subtitle": "从数据包的角度来剖析 Istio 的架构",
        "description": "通过跟踪一个网络包进入 Istio 网格，完成一系列的交互，然后再从网格出来的整个过程，以此来探索数据包在 Istio 网格中的生命周期。",
        "date": "2018-12-17T08:05:24.000Z",
        "draft": false,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Linux 下 gns3 网络模拟器配置",
        "uri": "posts/linux-gns3-start",
        "content": "1  GNS3    GNS3                       Windows  Linux  MacOS           Cisco               CCNA CCNP CCIE   Cisco                                         Cisco        IOS                           Windows                                            linux                    Archlinux   64     GNS1 5 2    2  GNS3      Python3      GNS3      python3     python3 3         sudo pacman  S python    sip   sip    python                http   www riverbankcomputing com software sip intro    SIP     GNS3                     SIP      SIP       sudo pacman  S sip    pyqt4     sudo pacman  S python pyqt4    pip     pip   python           GNS3         python                 pip    python          sudo pacman  S python pip    GNS3      yaourt          pip              yaourt          gns3 server   gns3 gui          home                home yang  config GNS3        yaourt  S gns3 server    gns3 server        vim  usr lib systemd system gns3 server service  Unit  Description GNS3 server Wants network online target After network target network online target  Service  Type forking User yang Group users ExecStart  usr sbin gns3server   config  home yang  config GNS3 gns3_server conf   local   log  home yang  config GNS3 gns3 log     pid  home yang  config GNS3 gns3 pid   daemon Restart on abort PIDFile  home yang  config GNS3 gns3 pid  Install  WantedBy multi user target   yaourt  S gns3 gui    AttributeError  module  aiohttp web  no attribute  RequestHandler                 pyton    aiohttp   pip install aiohttp  1 1 6    dynamips Dynamips        Cisco 7200 Simulator    Christophe Fillot  2005 8                  PC      emulate Cisco   7200                      Cisco   3600      3620 3640 3660  3700      3725 3745   2600      2610 2650XM 2691          yaourt  S dynamips   GNS3   gns3 server        host      127 0 0 1    vim  home yang  config GNS3 gns3_server conf  Server  host   127 0 0 1 port   3080   snip     gns3 server      systemctl start gns3 server                              gns3           3  GNS3    GNS3         edit   preferences    general                                   console application     telnet       Gnome terminal              edit   preferences    server           console                        telnet                IOS   gns3          dynamips      cisco                       dynamips        cisco                                         ios          http   www networkvn net 2014 06 cisco ios image for gns3 html          ios       FTP      http   sobek su Cisco               dropbox     ios    edit   preferences    dynamips                 IOS routers        IOS                   3                         Apply                3620  3640                      3620 2     3640 4     3660 6                                   Router c3640               cisco                                                                                                                                            solt                            T      Serial    E   Ethernet    FE   fast Ethernet                       SX     550m  LX 10km  ZX 70km     TX       NM network module              NM 1FE TX             NM 16ESW       16          NM 4T       2M                Idle PC               idle pc   dynamips        CPU    20         CPU            idle pc       gns3                 C3640                  start            console           vpcs vpcs        PC                            qemu    tinycore         vpcs                       vpcs                       console    http   sourceforge net projects vpcs                 yaourt  S vpcs        gns3        VPCS              vpcs                   vpcs         VPCS                    Server error http   127 0 0 1 3080  PC1  VPCS instance connected order start vpcs         Fast Ethernet    Docker    GNS3 1 5       Docker                                qemu   vpcs      pc      Docker         ubridge   yaourt  S ubridge      Docker       Preferences   Docker containers   New     Docker                     Existing image                      New image                                        shell                                                                                                     console                                       GNS3                        ip                                           tcpdump    wireshark tcpdump              wireshark                        wireshark       pacman  S wireshark gtk       GNS3                         Capture",
        "objectID": "posts/linux-gns3-start",
        "subtitle": "配置使用思科网络模拟器",
        "date": "2017-01-23T11:42:11.000Z",
        "draft": false,
        "toc": true,
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "LVS负载均衡之持久性连接介绍",
        "uri": "posts/lvs-persistent-connection",
        "content": "1                              lvs             session                     session                                 lvs                       Web                  A      B           B                                                              cookie session                     session           cookie     session                         cookie          session                                                                                A B             LVS                                             LVS                                                session                                          LVS                                                  session       LVS                 IP Port                       session                       A              B      B      A       session                                                                                                  session                           session         session        session                 session                                                            session                    hash        LVS           Source Hashing     hash                  IP           Server       session                 Source Hashing                                   IP                        RS                                                       RS                                              TCP              hash            real server          rr                                                            IP              RS                      director      LVS                            RS                                                 300      300                                           2                        RS                              RS                     SH      lvs                   RS                          2  lvs            1      client          lvs   hash           persistence_timeout          persistencegranularity       persistencetimeout                                    255 255 255 255        client ip      255 255 255 0   client ip                  real server  2                      3   tcp  tcp        tcpfin  lvs     tcp fin      udp  udp      3  lvs             ipvsadm  Ln      persistence_timeout             360s    ipvsadm  Ln IP Virtual Server version 1 2 1  size 4096  Prot LocalAddress Port Scheduler Flags    RemoteAddress Port Forward Weight ActiveConn InActConn TCP 10 254 66 97 8080 rr persistent 10800    172 20 104 7 8080 Masq 1 0 0    172 20 135 6 8080 Masq 1 0 0    172 20 135 7 8080 Masq 1 0 0    ipvsadm  Ln   timeout      tcp tcpfin udp           900 120 300    ipvsadm  Ln   timeout Timeout  tcp tcpfin udp   900 120 300 4  lvs                ipvsadm  Lnc IPVS connection entries pro expire state source virtual destination TCP 01 54 TIME_WAIT 192 168 123 248 35672 10 254 66 97 8080 172 20 135 6 8080 TCP 180 03 NONE 192 168 123 248 0 10 254 66 97 8080 172 20 135 6 8080     client    vip        ipvs           NONE           expire      persistence_timeout                            client ip                   TIMEWAIT      tcp tcpfin udp    tcpfin         NONE    0     TIMEWAIT        NONE         persistencetimeout           TIMEWAIT      NONE         NONE       client             real server  5  lvs             persistence_timeout      ipvsadm  p timeout        360      ipvsadm  A  t 192 168 20 154 80  s rr  p 60            80                     80             real server     80      0                            real server  tcp tcpfin udp      ipvsadm   set               ipvsadm   set tcp tcpfin udp Note tcpfin        persistence_timeout                  tcpfin    6                                LVS                                  RS         LVS        Director                                                 Real Server    Note                      RS               1            PPC Persistent Port Connections                                     RS    client     LVS 80      RS1   client     LVS 23      RS2                  RS               ipvsadm  A  t 172 16 100 1 80  s rr  p 3600   ipvsadm  a  t 172 16 100 1 80  r 172 16 100 10  g  w 2   ipvsadm  a  t 172 16 100 1 80  r 172 16 100 11  g  w 2 2            PCC Persistent Client Connections                                RS    PCC                     0     p                          Real Server             ipvsadm  A  t 172 16 100 1 0  s rr  p 3600   ipvsadm  a  t 172 16 100 1 0  r 172 16 100 10  g  w 2   ipvsadm  a  t 172 16 100 1 0  r 172 16 100 11  g  w 2 3                     PNMPP Persistent Netfilter Marked Packet Persistence       real server      80   443                          PNMPC                                      Real Server        Real Server                                                                           Real Server                         HTTP 80   HTTPS 443                   Real Server                     iptables  t mangle  A PREROUTING  d 172 16 100 1  i eth0  p tcp   dport 80  j MARK   set mark 8   iptables  t mangle  A PREROUTING  d 172 16 100 1  i eth0  p tcp   dport 443  j MARK   set mark 8   ipvsadm  A  f 8  s rr  p 600   ipvsadm  ",
        "objectID": "posts/lvs-persistent-connection",
        "subtitle": "如何根据业务场景来设置 lvs 持久性",
        "date": "2018-04-18T11:18:06.000Z",
        "draft": false,
        "toc": true,
        "categories": "loadbalance",
        "tags": [
            "lvs"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "keywords": [
            "杨传胜的博客",
            "Envoy",
            "Service Mesh"
        ],
        "uri": "posts/migrating-from-nginx-to-envoy",
        "content": "Migrating NGINX Envoy Proxy              Nginx     Envoy Proxy               Nginx          Envoy Proxy             Envoy Proxy   server        Envoy Proxy                                       Envoy Proxy                Nginx         Envoy Proxy    1  Nginx   Envoy Proxy             Nginx                    Nginx wiki         cat nginx conf user www www  pid  var run nginx pid  worker_processes 2  events   worker_connections 2000    http   gzip on  gzipminlength 1100  gzip_buffers 4 8k  gzip_types text plain  logformat main   remoteaddr    remoteuser   timelocal       request   status  bytes_sent      httpreferer    httpuser_agent       gzip_ratio    logformat download   remoteaddr    remoteuser   timelocal       request   status  bytes_sent      httpreferer    httpuser_agent       httprange    senthttpcontentrange    upstream targetCluster   172 18 0 3 80  172 18 0 4 80    server   listen 8080  server_name one example com www one example com  accesslog  var log nginx accesslog main  errorlog  var log nginx errorlog info  location     proxy_pass http   targetCluster   proxy_redirect off  proxysetheader Host  host  proxysetheader X Real IP  remote_addr        Nginx                   Server       gzip                            Nginx     8080        one example com          URL                            Nginx         Envoy Proxy          Envoy       Envoy Proxy                Nginx             Listener         Envoy             Envoy       TCP                              filter           Filter                                                      GZip                          Router                          Envoy             Cluster                                                           Envoy Proxy               Nginx       2  Nginx      Nginx              Nginx            Worker              Nginx   worker                Nginx                       worker_processes 2  events   worker_connections 2000      Envoy Proxy            Worker             Envoy                             concurrency          Worker                                                           IO               Worker               Envoy           Worker          HTTP 2                            Worker                   HTTP 2    Envoy                      Worker                                            Worker                                  Envoy Proxy            HTTP    Nginx          HTTP             mime type        gzip            Envoy Proxy                        3  Server        HTTP      Nginx         8080          one example com   www one example com        server   listen 80  server_name one example com www one example com         Envoy     Listener      Envoy       Envoy                                    Envoy                               8080     static_resources  listeners  name  listener_0 address  socketaddress    address  0 0 0 0  portvalue  8080           server_name               4  Location            Nginx   Location                                                       targetCluster                                   location     proxy_pass http   targetCluster   proxy_redirect off  proxysetheader Host  host  proxysetheader X Real IP  remote_addr           Envoy            Envoy                                              Nginx      server_names                                                              Nginx    upstream     filter_chains  filters  name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp route_config  name  local_route virtual_hosts  name  backend domains   one example com   www one example com  routes  match  prefix      route  cluster  targetCluster http_filters  name  envoy router envoy httpconnectionmanager   Envoy      HTTP            Envoy                 Redis Mongo TCP               Envoy       5  Proxy   upstream        Nginx   upstream                         upstream               upstream targetCluster   172 18 0 3 80  172 18 0 4 80           Envoy       Cluster      Envoy    upstream      Envoy       Cluster Cluster    hosts                    hosts               Cluster                           clusters  name  targetCluster connect_timeout  0 25s type  STRICT_DNS dnslookupfamily  V4_ONLY lbpolicy  ROUNDROBIN hosts      socketaddress    address  172 18 0 3  portvalue  80       socketaddress    address  172 18 0 4  portvalue  80          STRICT_DNS          Envoy              DNS    DNS          IP                               IP    Envoy                                   DNS           Envoy                                      Envoy       6                           Envoy Proxy                                            stdout   stderr                                  HTTP             envoy httpconnectionmanager        access_log                  stdout                                          stdout  access_log  name  envoy fileaccesslog config  path    dev stdout           envoy httpconnectionmanager                     name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp access_log  name  envoy fileaccesslog config  path    dev st",
        "objectID": "posts/migrating-from-nginx-to-envoy",
        "title": "从 Nginx 迁移到 Envoy Proxy",
        "subtitle": "对比 Nginx 与 Envoy Proxy 的核心模块",
        "description": "本文将会带你了解 Envoy Proxy 的核心功能，以及如何将现有的 Nginx 配置文件迁移到 Envoy Proxy 中。",
        "date": "2018-12-14T09:39:06.000Z",
        "draft": false,
        "toc": true,
        "categories": "servicemesh",
        "tags": [
            "envoy"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "现代网络负载均衡与代理（上）",
        "uri": "posts/modern-network-load-balancing-and-proxying-1",
        "content": "Google                                                                                                                                                                                                                        1                                                                                   CPU                                                                                                                                                                                   Kubernetes                                                                        1             1                                                                                                                                                                                                                                                                           DNS IP                                                                                                                                                                                                                                                                                                         vs                                                                                                                                                                                                                                                                                                        L4     session                               L4   L7          OSI      4     7        L7                              OSI                                           4        TCP   UDP                    OSI               L4 TCP          TLS               L7           2  TCP L4          2          L4 TCP                          TCP                      SYN                     TCP              SYN                     L4                      L4            L4    TCP UDP     session                 bytes          session   bytes          L4               bytes               bytes     HTTP Redis MongoDB              L7          L4                 L4                 L7                 L4          gRPC HTTP2         L4              L4              TCP               TCP         2         2                              1     1 RPM       B              50     50 RPS                            B                3000                                                                             L4                                                                                  TLS                   L4                               L7            3 HTTP 2 L7          3       L7 HTTP 2                             HTTP 2 TCP                                     HTTP 2          1       1      2       2                                                 L7                     L7                                       L7       OSI             L4               OSI                       OSI         L7                      HTTP                      Transport Layer Security TLS           TLS     OSI                        TLS    L7  HTTP       HTTP 1   HTTP 2   HTTP                          gRPC REST            L7                             L7             L7                          L7        L4                  HTTP Redis Kafka MongoDB        L7       L7         2                                                                                                                NDS  Zookeeper Etcd Consul    Envoy        API                                                                  ping                     HTTP                                                             L4                                 HTTP 503      L7                                                                                                                                                        power 2 request load balancing                                                      2          2                         session            session                                      session            HTTP cookies                    L7           session              session                  session                    session           TLS       TLS                               L7            TLS                        SNI                                                                                                                                                                                                                                                 DoS                                                  DoS       IP                                                                                                           service mesh data plane vs  control plane                                              L7           3                                 L4   L7                                                                   L4   L7                4                  4                                               Cisco Juniper F5                     Amazon   ALB   NLB    Google          Cloud Load Balancer                 HAProxy NGINX   Envoy              ",
        "objectID": "posts/modern-network-load-balancing-and-proxying-1",
        "subtitle": "详细介绍负载均衡技术的概念、功能和拓扑结构",
        "date": "2018-11-13T05:26:17.000Z",
        "draft": false,
        "toc": true,
        "categories": "loadbalance",
        "tags": [
            "envoy",
            "loadbalance"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "现代网络负载均衡与代理（下）",
        "uri": "posts/modern-network-load-balancing-and-proxying-2",
        "content": "1  L4           L4                    L7                            L7                     L4                L7                      L4         L4                                      L4 L7                         L7           L4               L7                                             L4                                            L4                 DoS       SYN                L7                       L4           bug   L7           L4             L4                                     BGP   ECMP                    L7                       bug      L4                                                      L4                          sidecar         TCP UDP           8                   L4          8                  L4                               2      TCP                                     L4                                                                                                                                                                TCP          Point Presence POP   TCP UDP           9  L4             L4          9                                 TCP                       Network Address Translation NAT                                          NAT                   TCP                           FIN                    NAT  NAT                           IP                     NAT               TCP                      1 2 3 4 80              10 0 0 2 9000     TCP                  1 2 3 4 80                 IP       10 0 0 2 9000          IP             IP          TCP                                                                                                                TCP                TCP                             hash table                                               packets per second PPS                  TCP                                                             TCP                                                                          BBR                     L4               L4           DSR                                                  DSR    10 L4           10               Direct server return DSR       DSR                                                                           DSR                                     HTTP               10           90                            1 10     DSR                                                                  DSR                         DSR                                             TCP                                                DSR            Generic Routing Encapsulation GRE                IP                                                      IP     TCP                                   DSR                                      GRE                                                         DSR                                        NAT   GRE                                    11                 L4                   L4                   DSR                                                                                                           L4               Cisco Juniper F5                                                               11                                                     IP virtual IP VIP                 Border Gateway Protocol BGP       IP                     BGP                      BGP                    BGP                                                         L4                             BGP                                                                                                                                                          BGP                                                                            IP                            IP                        IP            IP                    50                                                                                                                                                                                                                                                 12                    L4                       L4                           21                            12            L4                                                                    NIC               L4                                                     N            BGP            IP          Equal cost multi path routing ECMP               flow                  flow        IP        IP      4        ECMP                                                                    flow                                     N   L4          BGP                IP      ECMP           flow                 L4                              flow         GRE                          DSR                         L4                                                                                                                                                                                 flow                                                                                                                                       ECMP                                    DoS                                BGP                     L4                                       ",
        "objectID": "posts/modern-network-load-balancing-and-proxying-2",
        "subtitle": "介绍各种负载均衡技术的现状、演变和前景",
        "date": "2018-11-13T11:02:55.000Z",
        "draft": false,
        "toc": true,
        "categories": "loadbalance",
        "tags": [
            "envoy",
            "loadbalance"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "keywords": [
            "杨传胜的博客",
            "kubernetes",
            "qos",
            "limits"
        ],
        "uri": "posts/optimizing-kubernetes-resource-allocation-production",
        "content": "Kubernetes                                       buffer                                                                         curl                              Kubernetes      1                                     10                       50                  crash                          20                   Pod      crash         kubectl describe             Kubelet    OOMKilled     Pod                              deployment         YAML                                                     requests   limits  1     requests     limits  Kubernetes     CPU         v1 12    beta                      CPU                  CPU          CPU                               Kubelet                      requests   limits                       QoS   Limits limits                                       Kubelet    Pod        limits                                     limits                 Requests       requests                       requests        Kubernetes            limits             requests                          requests            limits Kubernetes           requests      limits     QoS         Kubernetes                   QoS QoS                      Guaranteed QoS       limits      requests       Guaranteed QoS                             CPU                           Web               QoS     Burstable QoS      CPU      limits   requests     requests 2     requests   limits    limits   requests          Pod                                                                                                        Pod         1     limits                limits look something replicas  1     cpu  100m    1 10th core memory  50Mi   50 Mebibytes             limits                             CPU     Pod                          CPU                                                                                                                                                                    Web                                                                                                                  10                                                                                                                                                                                                                                                CPU       100                                                                           3                  Apache Bench                cAdvisor                                Loader io Loader io                                                                                                        Kubescope cli Kubescope cli             Kubernetes           Docker Daemon               cAdvisor                kubescope cli          1       10 15          10 15                                cAdvisor               Pod           Kubernetes             Pod                Pod   kubescope cli                Docker Daemon                                                  4                                                                                    limits   requests",
        "objectID": "posts/optimizing-kubernetes-resource-allocation-production",
        "title": "优化生产环境中的 Kubernetes 资源分配",
        "subtitle": "想延长你的睡眠时间吗？",
        "description": "本文通过对应用进行负载测试来不断调整 Pod 的 limits 和 requests 配置，以此来增加系统的弹性能力和可预测性。",
        "date": "2018-12-18T08:15:12.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Pod 的生命周期管理",
        "uri": "posts/pods-life",
        "content": "pod                                         1  Pod       Pod phase Pod   status        PodStatus           phase     Pod     phase   Pod                           Pod                     Pod                                    Pod      phase             Pod      deployment daemonset   statefulset    Pod   phase                Pending  Pod    Kubernetes                                Pod                                Running    Pod             Pod                                          Successed  Pod                          Failed  Pod                                       0                Unkonwn             Pod            Pod               Pod                  Pod             Pod         Pod    Pod     PodStatus           PodCondition     PodCondition             type       status    type              PodScheduled Ready Initialized   Unschedulable status                True False   Unknown       kubectl pod    Pod   STATUS            5           Init 0 1   CrashLoopBackOff      Pod           phase       InitContainerStatuses   containerStatuses              overall status pod                       kubectl describe pod  PODNAME         Events       Events                          Pod            container    unhealthy     2  Pod                          Pod                             manifest       deployment  kind  Deployment apiVersion  apps v1beta1 metadata  name  loap spec  replicas  1 template  metadata  labels  app  loap spec  initContainers  name  init image  busybox command    sh     c    echo   date   s   INIT     loap timing   volumeMounts  mountPath   loap name  timing containers  name  main image  busybox command    sh     c    echo   date   s   START     loap timing  sleep 10  echo   date   s   END     loap timing    volumeMounts  mountPath   loap name  timing livenessProbe  exec  command    sh     c    echo   date   s   LIVENESS     loap timing   readinessProbe  exec  command    sh     c    echo   date   s   READINESS     loap timing   lifecycle  postStart  exec  command    sh     c    echo   date   s   POST START     loap timing   preStop  exec  command    sh     c    echo   date   s   PRE HOOK     loap timing   volumes  name  timing hostPath  path   tmp loap    Pod      Running                Pod    kubectl scale deployment loap   replicas 0     tmp loap timing          cat  tmp loap timing 1525334577  INIT 1525334581  START 1525334581  POST START 1525334584  READINESS 1525334584  LIVENESS 1525334588  PRE HOOK 1525334589  END  tmp loap timing             Pod                       Pod                 Infra       Pause         Pod          linux          init                     Init                                Pod                                    4             post start hook       7         liveness   readiness     11            Pod pre stop hook                  30                 Pod               Pod      Note        Pod      pre stop hook     Pod    Down         pre stop hook  3       DEBUG   Pod                 DEBUG                                      spec terminationMessagePath                                             dashboards                     dev termination log            termination demo yaml apiVersion  v1 kind  Pod metadata  name  termination demo spec  containers  name  termination demo container image  alpine command     bin sh   args     c    sleep 10    echo Sleep expired    dev termination log                             kubectl create  f termination demo yaml   sleep 20   kubectl pod termination demo  o go template    range  status containerStatuses     lastState terminated message    end    Sleep expired   kubectl pod termination demo  o go template    range  status containerStatuses     lastState terminated exitCode    end    0 4     Pod hook Kubernetes  Pod s Life    Pod",
        "objectID": "posts/pods-life",
        "subtitle": "探究 Pod 的启动关闭流程以及快速 DEBUG",
        "date": "2018-05-03T12:08:01.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Python3 系列之迭代器 & 生成器",
        "uri": "posts/python3-iterator-and-generator",
        "content": "1                                                                                                                                                                                                     G                              next                                                                                  names   iter   alex    jack    list        print names                     names 1  Traceback  most recent call last   File     line 1  names 1  TypeError   list_iterator  object not subscriptable                print names next    alex     print names next    jack     print names next    list                          print names next    Traceback  most recent call last   File     line 1  print names next    StopIteration 2                                 generator          yield                  yield                                                          yield                          def cash_money amount   amount   0  amount    100 yield 100 print                             atm   cash_money 500      print atm                                                 type atm                                                                          print atm next    100     print atm next           100     print atm next           100     print atm next           Traceback  most recent call last   File     line 1  print atm next    StopIteration                                                                                                     10                                                      5                                                                                                                                                                                                                                                                            atm   cash_money 500      print atm next    100     print atm next           100                                                                                    print                                    print atm next           100                                                                                                                                                                  yield                cat yield   py    usr bin env python encoding  utf 8 import time def consumer name   print            format name   True  baozi   yield print     0      1      format baozi  name   def producer name   c   consumer  A   c2   consumer  B   c next   c2 next   print                range 3   time sleep 1  print            c send i  c2 send i  producer  alex     python3 yield   py A       B                             0    A      0    B              1    A      1    B              2    A      2    B                           send       yield                yield                                                    generator             next                 next                  yield                     generator               yield       return            yield    yield                         yield                yield   return",
        "objectID": "posts/python3-iterator-and-generator",
        "subtitle": "使用迭代器和生成器实现单线程异步并发",
        "date": "2017-07-27T18:38:59.000Z",
        "draft": false,
        "toc": true,
        "categories": "python",
        "tags": [
            "python"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Python3 系列之文件读写",
        "uri": "posts/python3系列之文件读写",
        "content": "1                os 1 1                          import os     os getcwd     tmp      os chdir   home yang test       os getcwd     home yang test                Pyhton             os chdir   user bin   Traceback  most recent call last   File     line 1  FileNotFoundError   Errno 2  No file directory    user bin  1 2            os makedirs   tmp test                   os makedirs                  1 3             os path abspath path                    os path abspath        tmp      os path abspath    test     tmp test  os path isabs path                 True                False     os path isabs      False     os path isabs os path abspath       True os path relpath path  start      start     path                  start                      os path relpath   home yang     tmp       home yang  os path dirname path             path                  os path basename path             path                      path     usr bin vlc      os path basename path   vlc      os path dirname path    usr bin  os path split                                  path     usr bin vlc      os path split path     usr bin    vlc   os path split                                      split        os path sep                   path split os path sep        usr    bin    vlc   1 4              os path getsize path    path           os listdir path                path              os path getsize   usr bin vlc   14712     os listdir   etc     ld so conf d    skel    profile d    fstab    shells    rpc    nscd conf    gai conf    locale gen    ssl    dbus 1    ethertypes    iptables     snip    logrotate conf    man_db conf    pacman conf    wgetrc    cpufreq bench conf    papersize    nanorc    ld so cache                               os path getsize     os listdir        totalSize   0     filename os listdir   etc    totalSize   totalSize   os path getsize os path join   etc   filename       print totalSize  846656 1 5         os path exists path    path                 True     False  os path isfile path    path                True     False  os path isdir path    path                 True     False      os path exists   tmp   True     os path exists   user bin   False     os path isdir   tmp   True     os path isfile   tmp   False     os path isdir   usr bin vlc   False     os path isfile   usr bin vlc   True 2           Python        3     1    open           File     2    File     read     write       3    File     close             2 1          f   open  test txt   w       f write  Hello world                                               f close                           f flush   2 2          r                f   open  test txt                 f read         f readline                                                                                                f tell                  f seek 0  2 3              open  user_info txt       line a readlines                  print line       a close   readlines                                               xreadlines  2 4        F   open  test txt   a       F write  append end       f close   2 5   pprint pformat          pprint pformat                                                   Pthon    pprint pformat                      py                                            import pprint     cats      name    Zophie    desc    chubby      name    Pooka    desc    fluffy        pprint pformat cats      desc    chubby    name    Zophie      desc    fluffy    name    Pooka         file   open  myCats py    w       file write  cats       pprint pformat cats      n   83     file close   import             Python         pprint pformat             py                               import myCats     myCats cats    desc    chubby    name    Zophie      desc    fluffy    name    Pooka        myCats cats 0    desc    chubby    name    Zophie       myCats cats0  Zophie    shelf        shelve      key value               Python            pickle                                          shelve                      Python                                                 import shelve     shelfFile   shelve open  mydata       cats     Zophie    Pooka    Simon       shelfFile  cats     cats     shelfFile close   shelf                                    shelfFile   shelve open  mydata       type shelfFile      shelfFile  cats     Zophie    Pooka    Simon       shelfFile close         shelf    keys     values         shelf                                                list                   shelfFile   shelve open  mydata       list shelfFile keys      cats       list shelfFile values       Zophie    Pooka    Simon        shelfFile close                                             Python             shelve    3                   mcb py                            python mcb py spam                                      python mcb py list                                                       save                        list                                                      sys argv                       shelve              Archlinux       pacman  S python pyperclip                   pacman  S xsel   pacman  S xclip ",
        "objectID": "posts/python3系列之文件读写",
        "subtitle": "通过 Python3 读写文件",
        "date": "2017-01-03T08:51:06.000Z",
        "draft": false,
        "toc": true,
        "categories": "python",
        "tags": [
            "python"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "HTTP 路由解析",
        "uri": "posts/routing-basics",
        "content": "Envoy   HTTP                             Envoy                         Route     Cluster      Listener    1                                                                                  RDS                                 Envoy                                                       CDS API                                            unix       Envoy                                               LDS       2       Envoy            URL                         service1   service2                URL  service1    service2   virtual_hosts  name  backend domains      routes  match  prefix    service 1  route  cluster  service1 match  prefix    service 2  route  cluster  service2     DNS                                    clusters  name  service1 connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  service1 port_value  80 name  service2 connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  service2 port_value  80 3                                                       Listener filter                      API                Envoy                     listeners  address  socket_address  address  0 0 0 0 port_value  80 filter_chains  filters  name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp route_config  name  local_route virtual_hosts  name  backend domains      routes  match  prefix    service 1  route  cluster  service1 match  prefix    service 2  route  cluster  service2 http_filters  name  envoy router config     4                                                  RDS   CDS                                                                               Envoy                                                               5     Envoy",
        "objectID": "posts/routing-basics",
        "subtitle": "通过 HTTP 路由规则来切换流量",
        "date": "2018-06-29T09:57:33.000Z",
        "draft": false,
        "toc": true,
        "categories": "servicemesh",
        "tags": [
            "envoy"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "通过控制平面提供路由",
        "uri": "posts/routing-with-a-control-plane",
        "content": "Envoy                                                                                                    Web                                 routes rb                                                          1     RDS      Envoy                   RDS   API                  RDS                    Envoy        cluster            Envoy                RDS             version_info   0  resources    type   type googleapis com envoy api v2 RouteConfiguration name  local_route virtual_hosts  name  local_service domains        routes  match    prefix        route    cluster  some_service        go control plane Istio Pilot        Houston      RDS   API Envoy               RDS    RDS                                2                       Envoy                                                              Envoy                                                                                                                        ACL                                                                              Istio                 YAML                YAML                                                                                   API                                     Envoy            Envoy              go control plane       xDS                           RDS API                                              ACL                                                                                                                                                                                                                         master                                                                                                                         git",
        "objectID": "posts/routing-with-a-control-plane",
        "subtitle": "路由定义的最佳实践",
        "date": "2018-07-06T06:16:02.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "envoy",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "在你的笔记本上运行 Envoy",
        "uri": "posts/run-envoy-on-your-laptop",
        "content": "1           Kubernetes                 2017    Kubernetes        2018     Service Mesh                  Service Mesh                       Istio    Service Mesh                 Google IBM   Lyft                                                            Istio                       Istio                 Envoy                          Envoy                                                     Envoy                        Envoy                     2                 Envoy            Docker                             Docker Docker Compose Git curl      Docker   Docker Compose        Envoy          curl     Envoy       3     Envoy Envoy         Envoy                                        Envoy          examples front proxy       git clone https   github com envoyproxy envoy   cd envoy examples front proxy               Flask        service py        Envoy        Sidecar                              YAML    service envoy yaml        Dockerfile service                 Envoy                            front envoy yaml     Envoy    Dockerfile frontenvoy          docker compose yaml                                    docker compose         docker compose   build  d   docker compose ps Name Command State Ports frontproxyfront envoy1  bin sh  c  usr local bin      0 0 0 0 8000  80 tcp  0 0 0 0 8001  8001 tcp frontproxyservice11  bin sh  c  usr local bin      80 tcp frontproxyservice21  bin sh  c  usr local bin      80 tcp                      service1   service2  3     Envoy                  Envoy                             Envoy             Envoy             docker compose yaml               front envoy  build  context      dockerfile  front proxy Dockerfile frontenvoy volumes    front envoy yaml  etc front envoy yaml networks  envoymesh expose   80   8001  ports   8000 80   8001 8001                          Dockerfile frontenvoy         front envoy yaml       etc front envoy yaml          etc                  envoymesh   Docker        80               8001                  8000     8001            80     8001                    front envoy yaml     Envoy                       static_resources   admin  static_resources  admin  admin             admin  accesslogpath    dev null  address  socket_address  address  0 0 0 0 port_value  8001 accesslogpath          dev null     admin                                        socket_address      Envoy         8001     admin     static_resources                 Cluster      Listener       Envoy                  Envoy                Envoy                          Envoy                                                                         unix        Listener                    80                      filter_chains       HTTP     listeners  address  socket_address  address  0 0 0 0 port_value  80 filter_chains  filters  name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp route_config  name  local_route   HTTP                                         virtual_hosts  name  backend domains      routes  match  prefix    service 1  route  cluster  service1 match  prefix    service 2  route  cluster  service2 HTTP        service 1    service 1           Cluster  Cluster             Cluster      clusters  name  service1 connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  service1 port_value  80 name  service2 connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  service2 port_value  80   Cluster                         Cluster   Endpoint          Endpoint        Cluster                   Endpoint     DNS          Envoy          Endpoint Endpoint          socket         EDS Endpoint Discovery Service                                   Listener filter                 Envoy                                    HTTP          filter        access_log      filters  name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp access_log  name  envoy fileaccesslog config  path    var log access log  route_config                      docker compose down   docker compose   build  d    curl           docker compose exec front envoy  bin bash                 var log access log              Admin Server Envoy           Admin               http   localhost 8001       Envoy admin        API                                                                                           Admin         certs          certs      clusters   upstream cluster         config_dump         Envoy         cpuprofiler         CPU profiler      healthcheck fail                   healthcheck ok                   help                    hotrestartversion                  listeners      listener         logging                  quitquitquit             reset_counters           1      runtime               runtime_modify               server_info                     stats                    stats prometheus      prometheus                   API        Envoy           v2 API reference  4                 Envoy         Envoy                                              ",
        "objectID": "posts/run-envoy-on-your-laptop",
        "subtitle": "Envoy 入门",
        "date": "2018-06-28T08:54:18.000Z",
        "draft": false,
        "toc": true,
        "categories": "servicemesh",
        "tags": [
            "envoy"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "了解如何在服务网格中进行性能测试",
        "uri": "posts/service-mesh-performance-testing",
        "content": "Understanding Service Mesh Fits Performance Testing    Bob Reselman                                                                                                                      IP                                                                                     Service Mesh                                                                                                                                                                                                          1                                                                                                                                   C         C          C          IP     DNS         C                                                                                                ZooKeeper Consul   Etcd                                                                                                                                                                                                                                                                                                                                                                        Linkerd Envoy   Istio                                                                                                            2                                                                            Web      Web                                                                                                                                                                                                                                                                                                                                                                                                                                     B     B     502                               B        502                                                                                                                                                                                                                                                                                                                                                                                                  3                                                                                                                                                      DevOps                                                                                                                          Bob Reselman                           Bob                                          Bob   Cap Gemini                Gateway                    Bob                                      LinkedIn",
        "objectID": "posts/service-mesh-performance-testing",
        "subtitle": "从性能测试的角度来理解服务网格",
        "date": "2018-11-11T10:10:14.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "为 Envoy 开启 TLS 验证实战",
        "uri": "posts/setting-up-ssl-in-envoy-practice",
        "content": "Nginx         Nginx                  Nginx    Web                                                       Nginx          http2 grpc       3           Envoy                xDS API         Nginx                          reload   Nginx              Nginx Plus        Envoy                                                                 Envoy           Envoy                    Envoy                       Envoy                        Envoy            1                Envoy                                                                                        nginx               Envoy     nginx      network nemspace     Kubernetes   Sidecar       Envoy                                                  Envoy                    Envoy                                            Envoy                           TLS              TLS             Envoy               2       Envoy         hugo                                  hugo       home hugo                   docker compose yml     version   2  services  hugo  image  nginx alpine restart  always volumes   home hugo public  usr share nginx html   networks  default expose   80   8080  service envoy  image  envoyproxy envoy alpine latest restart  always volumes    service envoy yaml  etc envoy envoy yaml   network_mode   service hugo    networks  default  external  name  yang                   nginx   root             Envoy          Envoy            hugo      network namespace                                     Envoy       service envoy yaml  static_resources  listeners  address  socket_address  address  0 0 0 0 port_value  8080   filter_chains  filters  name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp route_config  name  local_route virtual_hosts  name  service domains      routes  match  prefix      route  cluster  local_service http_filters  name  envoy router config     clusters  name  local_service connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin hosts  socket_address  address  127 0 0 1 port_value  80   admin  accesslogpath    dev null  address  socket_address  address  0 0 0 0 port_value  8081   8080      Envoy          80   hugo            3           docker compose yml              version   2  services      front envoy  image  envoyproxy envoy restart  always volumes    front envoy yaml  etc envoy envoy yaml  etc letsencrypt  etc letsencrypt labels  EnvironmentName   proxy  ServiceName   envoy  ProxyMode   tcp  networks  default expose   80   443  ports   80 80   443 443                front envoy yaml  static_resources  listeners  address  socket_address  address  0 0 0 0 port_value  80 filter_chains  filters  name  envoy httpconnectionmanager config  codec_type  auto   statprefix  ingresshttp route_config  virtual_hosts  name  backend domains     yangcs net   www yangcs net  routes  match  prefix      redirect  path_redirect      https_redirect  true http_filters  name  envoy router config     address  socket_address  address  0 0 0 0 port_value  443 filter_chains  tls_context  commontlscontext  alpn_protocols  h2 http 1 1   tls_certificates    certificate_chain  filename    etc letsencrypt live www yangcs net fullchain pem  private_key  filename    etc letsencrypt live www yangcs net privkey pem  filters  name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp route_config  name  local_route virtual_hosts  name  backend domains   yangcs net   www yangcs net  routes  match  prefix      route  cluster  hugo http_filters  name  envoy router config     clusters  name  hugo connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  hugo port_value  8080 admin  accesslogpath    dev null  address  socket_address  address  0 0 0 0 port_value  8001                HttpConnectionManager CodecType                                 TLS       ALPN HTTP                               HTTP 1 1    HTTP 2                   Let s Encrypt                        Envoy                                          docker compose  d Creating front proxyhugo1     done Creating front proxyfront envoy1     done Creating front proxyservice envoy1     done                                       Envoy                curl  I https   www yangcs net HTTP 2 200 server  envoy date  Fri  30 Nov 2018 06 42 52 GMT content type  text html content length  40537 last modified  Thu  29 Nov 2018 05 41 29 GMT etag   5bff7c09 9e59  accept ranges  bytes x envoy upstream service time  0 strict transport security  max age 63072000  includeSubDomains  preload",
        "objectID": "posts/setting-up-ssl-in-envoy-practice",
        "date": "2018-09-26T09:43:00.000Z",
        "subtitle": "通过 Envoy 反向代理 hugo 静态页面",
        "draft": false,
        "categories": "service mesh",
        "tags": [
            "envoy",
            "service mesh",
            "hugo"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "为 Envoy 启用证书验证",
        "uri": "posts/setting-up-ssl-in-envoy",
        "content": "SSL TLS          Envoy                      SSL TLS                       Envoy           TLS                 TLS           web                       TLS    TLS1 2  SNI               Envoy                             TLS                         Envoy           Envoy           Envoy   80        443    1             HTTPS                   CA                        Let s Encrypt                 Let s Encrypt      CA          OpenSSL        example com key         example com crt  Note        Common Name             example com                cd envoy examples front proxy   2048         openssl genrsa  out example com key 2048           CSR    openssl req  new  key example com key  out example com csr asked enter information will incorporated certificate request  enter called Distinguished Name DN  quite few fields leave blank fields will default value  enter      field will left blank  Country Name  2 letter code   XX  CN State Province Name  full name     CA Locality Name  eg  city   Default City  Shanghai Organization Name  eg  company   Default Company Ltd  Daocloud Organizational Unit Name  eg  section     Envoy Division Common Name  eg  name server s hostname     example com Email Address    chuansheng yang daocloud io Please enter following  extra  attributes sent certificate request challenge password     optional company name       X509        openssl x509  req  days 365  in example com csr  signkey example com key  out example com crt 2    Envoy           Dockerfile frontenvoy     ADD   example com crt  etc example com crt ADD   example com key  etc example com key    front envoy yaml        filters        tls_context      tls_context  commontlscontext  tls_certificates  certificate_chain  filename    etc example com crt  private_key  filename    etc example com key                 TLS    443  address  socket_address  address  0 0 0 0 port_value  443                         domains   example com  Envoy                                 SNI   example com   www example com       Envoy                    docker compose yaml      443            8080       80     services  front envoy      expose   80   443  ports   80 80   443 443             docker compose down   remove orphans   docker compose   build  d         curl                           curl                cacert            Envoy     DNS      example com            connect to         localhost              localhost      example com    curl   cacert example com crt   connect to localhost  H  Host  example com  https   localhost service 1 Hello behind Envoy  service 1   hostname  56e8a5bff6bd resolvedhostname  172 18 0 2      curl         connect to         etc hosts         127 0 0 1 example com               curl   cacert example com crt https   example com service 1 3    80        443          80           443        443                     address  socket_address  address  0 0 0 0 port_value  80 filter_chains  filters  name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp route_config  virtual_hosts  name  backend domains   example com  routes  match  prefix      redirect  path_redirect      https_redirect  true http_filters  name  envoy router config             docker compose down   remove orphans   docker compose   build  d      HTTP      service1      301        curl  I  H  Host  example com  http   localhost service 1 HTTP 1 1 301 Moved Permanently location  https   example com  date  Tue  03 Jul 2018 06 32 13 GMT server  envoy content length  0 OK          front proxy yaml           static_resources  listeners  address  socket_address  address  0 0 0 0 port_value  80 filter_chains  filters  name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp route_config  virtual_hosts  name  backend domains   example com  routes  match  prefix      redirect  path_redirect      https_redirect  true http_filters  name  envoy router config     address  socket_address  address  0 0 0 0 port_value  443 filter_chains  filters  name  envoy httpconnectionmanager config  codec_type  auto statprefix  ingresshttp route_config  name  local_route virtual_hosts  name  backend domains   example com  routes  match  prefix    service 1  route  cluster  service1 match  prefix    service 2  route  cluster  service2 http_filters  name  envoy router config     tls_context  commontlscontext  tls_certificates  certificate_chain  filename    etc example com crt  private_key  filename    etc example com key  clusters  name  service1 connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  service1 port_value  80 name  service2 connect_timeout  0 25s type  strict_dns lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  service2 port_value  80 admin  accesslogpath    dev null  address  socket_address  address  0 0 0 0 port_value  8001",
        "objectID": "posts/setting-up-ssl-in-envoy",
        "subtitle": "加密客户端和 Envoy 代理之间的所有流量",
        "date": "2018-07-03T06:43:33.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "envoy",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "SRE 弹性能力：使用 Envoy 对应用进行速率限制",
        "uri": "posts/sre-resiliency-bolt-on-sidecar-rate-limiting-with-envoy-sidecar",
        "content": "https   medium com dm03514 tech blog sre resiliency bolt on sidecar rate limiting with envoy sidecar 5381bd4a1137    dm03514                                       Envoy                                                         Envoy               1                                                                                                                                                                                                        API                         IP         web                 Envoy     HTTP                             Service Client                                                              Envoy                                         Envoy     7                     HTTP                      vegata                                    500                      grokking go       load test echo  GET http   localhost 8080 slow    vegeta attack  rate 500  duration 0   tee results bin   vegeta report             API     slow            3500                                       Envoy           500             2  Envoy      Envoy                    TCP IP HTTP GRPC HTTP2                                              Envoy                                                 Envoy                                                     Envoy          Matt Klein                Envoy        Envoy      Lyft        C                                         Istio service mesh                   NGINX HAProxy                     Envoy                                                                         Envoy                                                              3                   GitHub                     Envoy     API                                          Envoy                                        API                                          vegeta              API              Envoy           vegeta                Envoy    Sidecar                                        Envoy                                     HTTP            Envoy     API                  Envoy                API              API               Envoy           Envoy        API                      Envoy             API                              Envoy    API                                             cluster Cluster    Envoy                          API        Cluster          clusters  name  api connect_timeout  1s type  strict_dns lbpolicy  roundrobin hosts  socket_address  address  localhost port_value  8080                  localhost 8080    fakapi                 Envoy   API               localhost 8080  virtual_host virtual_host                         API     name  api domains      routes  match  prefix      route  cluster  api             Envoy             Envoy               static_resources  listeners  name  listener_0 address  socketaddress    address  0 0 0 0  portvalue  10000  filter_chains  filters  name  envoy httpconnectionmanager config  statprefix  ingresshttp codec_type  AUTO route_config  name  remote_api virtual_hosts  name  api domains      routes  match  prefix      route  cluster  api http_filters  name  envoy router clusters  name  api connect_timeout  1s type  strict_dns lbpolicy  roundrobin hosts  socket_address  address  localhost port_value  8080 admin  accesslogpath    dev null  address  socket_address  address  0 0 0 0 port_value  9901                     Envoy               Envoy            Envoy       Grafana         Lyft        Envoy         load test LOADTESTTARGET http   localhost 10000 LOADTESTRATE 500 echo  GET http   localhost 10000 slow    vegeta attack  rate 500  duration 0   tee results bin   vegeta report      Envoy              API                                               Lyft                                                    docker compose             Ratelimit                domain      descriptor     key   value    cat examples ratelimit config config yaml domain  apis descriptors  key  generic_key value  default rate_limit  unit  second requestsperunit  500      docker compose       docker compose yml                     README     docker compose down    docker compose    Envoy                    Envoy                          API             Envoy                                       500                  Envoy           static_resources  listeners  name  listener_0 address  socketaddress    address  0 0 0 0  portvalue  10000  filter_chains  filters  name  envoy httpconnectionmanager config  useremoteaddress  true statprefix  ingresshttp codec_type  AUTO route_config  name  remote_api virtual_hosts  name  api domains      routes  match  prefix      route  cluster  api rate_limits  stage  0 actions   generickey   descriptorvalue   default    http_filters  name  envoy rate_limit config  domain  apis stage  0 name  envoy router clusters  name  api connect_timeout  1s type  strict_dns lbpolicy  roundrobin hosts  socket_address  address  localhost port_value  8080 name  ratelimitcluster type  strict_dns connect_timeout  0 25s lbpolicy  roundrobin http2protocoloptions     hosts  socket_address  address  localhost port_value  8081 ratelimitservice  grpc_service  envoy_grpc  clustername  ra",
        "objectID": "posts/sre-resiliency-bolt-on-sidecar-rate-limiting-with-envoy-sidecar",
        "subtitle": "使用速率限制服务来减轻客户端对 API 资源的消耗",
        "date": "2018-11-01T09:55:47.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "envoy",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Device Mapper系列 (2)：Thin Provisioning 实践",
        "uri": "posts/thin-provisioning",
        "content": "1  Thin Provisioning Snapshot             Device Mapper                                 Device Mapper   Thin Provisioning Snapshot                           data img    meta data img    dd if  dev zero of  tmp data img bs 1K count 1 seek 10M 1 0 records 1 0 records 1024 bytes  1 0 kB  copied  0 000621428 s  1 6 MB s   dd if  dev zero of  tmp meta data img bs 1K count 1 seek 1G 1 0 records 1 0 records 1024 bytes  1 0 kB  copied  0 000140858 s  7 3 MB s       seek                       10G   output   bloksize               bs   1           10G                            1k                                    ls             12K   4K    ls  lsh  tmp data img 12K  rw r  r    1 root root 11G Aug 25 23 01  tmp data img   ls  slh  tmp meta data img 4 0K  rw r  r    1 root root 101M Aug 25 23 17  tmp meta data img                  loopback     loop2015   loop2016              losetup  dev loop2015  tmp data img   losetup  dev loop2016  tmp meta data img   losetup  a  dev loop2015   64768  103991768   tmp data img   dev loop2016   64768  103991765   tmp meta data img                  Thin Provisioning   Pool   dmsetup       dmsetup create hchen thin pool     table  0 20971522 thin pool  dev loop2016  dev loop2015   128 65536 1 skipblockzeroing                    Thin Provisioning   man page   dmsetup create       thin pool     hchen thin pool         pool            table     pool       0      sector    20971522       sector           sector   512       20971522      10GB  dev loop2016   meta                 dev loop2015   data       128          sector   65536       sector   water mark       threshold 1           skipblockzeroing              0                     Device Mapper         ll  dev mapper hchen thin pool lrwxrwxrwx  1 root root 7 Aug 25 23 24  dev mapper hchen thin pool       dm 4                         Thin Provisioning   Volume    dmsetup message  dev mapper hchen thin pool 0  create_thin 0    dmsetup create hchen thin volumn 001     table  0 2097152 thin  dev mapper hchen thin pool 0              create_thin          0      Volume   device   id                Volumn        mount         hchen thin volumn 001 2097152    1GB         mount                mkfs ext4  dev mapper hchen thin volumn 001 mke2fs 1 42 9  28 Dec 2013  Discarding device blocks  done Filesystem label  OS type  Linux Block size 4096  log 2  Fragment size 4096  log 2  Stride 16 blocks  Stripe width 16 blocks 65536 inodes  262144 blocks 13107 blocks  5 00   reserved super user First data block 0 Maximum filesystem blocks 268435456 8 block groups 32768 blocks per group  32768 fragments per group 8192 inodes per group Superblock backups stored blocks  32768  98304  163840  229376 Allocating group tables  done Writing inode tables  done Creating journal  8192 blocks   done Writing superblocks filesystem accounting information  done           mount                       mkdir  p  mnt base   mount  dev mapper hchen thin volumn 001  mnt base   echo  hello world  base     mnt base id txt   cat  mnt base id txt hello world  base                snapshot        dmsetup message  dev mapper hchen thin pool 0  create_snap 1 0    dmsetup create mysnap1     table  0 2097152 thin  dev mapper hchen thin pool 1    ll  dev mapper mysnap1 lrwxrwxrwx  1 root root 7 Aug 25 23 49  dev mapper mysnap1       dm 5                 hchen thin pool     create_snap           id        dev id             dev id    snapshot 0    dev id                        mysnap1   device      mount               mkdir  p  mnt mysnap1   mount  dev mapper mysnap1  mnt mysnap1   ll  mnt mysnap1  total 20  rw r  r    1 root root 25 Aug 25 23 46 id txt drwx        2 root root 16384 Aug 25 23 43 lost found   cat  mnt mysnap1 id txt hello world  base            mnt mysnap1 id txt       snap1 txt        echo  I snap1      mnt mysnap1 id txt   echo  I snap1     mnt mysnap1 snap1 txt   cat  mnt mysnap1 id txt hello world  base snap1   cat  mnt mysnap1 snap1 txt snap1           mnt base               ls  mnt base id txt lost found   cat  mnt base id txt hello world  base                     2  Docker   devicemapper           Docker              docker   loopback       losetup  a  dev loop0   64768  38050288   var lib docker devicemapper devicemapper data   dev loop1   64768  38050289   var lib docker devicemapper devicemapper metadata       data 100GB metadata 2 0GB   ls  alsh  var lib docker devicemapper devicemapper 506M  rw         1 root root 100G Sep 10 20 15 data 1 1M  rw         1 root root 2 0G Sep 10 20 15 metadata          thin pool           hash    device             ll  dev mapper dock  lrwxrwxrwx  1 root root 7 Aug 25 07 57  dev mapper docker 253 0 104108535 pool       dm 2 lrwxrwxrwx  1 root root 7 Aug 25 11 13  dev mapper docker 253 0 104108535 deefcd630a60aa5ad3e69249f58a68e717324be4258296653406ff062f605edf       dm 3             device id Docker              cat  var lib docker devicemapper metadata deefcd630a60aa5ad3e69249f58a68e717324be4258296653406ff062f605edf device_id   24 size   10737418240    512    20971520   sector               snapshot                dev id   1024     dmsetup mess",
        "objectID": "posts/thin-provisioning",
        "subtitle": "Thin Provisioning Snapshot 演练",
        "date": "2018-01-22T08:00:22.000Z",
        "draft": false,
        "toc": true,
        "categories": "docker",
        "tags": [
            "docker"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "深入理解 Kubernetes 资源限制：CPU",
        "uri": "posts/understanding-resource-limits-in-kubernetes-cpu-time",
        "content": "Understanding resource limits kubernetes  cpu time    Mark Betz            Kubernetes                           ResourceRequirements       Pod                         linux control group cgroup               Requests   Limits          Requests             Pod              Limits      Linux                                        CPU                                                                        1  CPU                  CPU                              CPU                  cgroup                                                 CPU               yaml  resources  requests  memory  50Mi cpu  50m limits  memory  100Mi cpu  100m      m              1 Core   1000m                 50 1000   5                 100 1000   10      2000m         CPU           2    2 0      Docker   cgroup                           CPU requests   Pod    kubectl run limit test   image busybox   requests  cpu 50m    command     bin sh  c  while true  sleep 2  done  deployment apps  limit test  created    kubectl            Pod     50m   CPU requests    kubectl pods limit test 5b4c495556 p2xkr  o jsonpath    spec containers 0  resources   map requests map cpu 50m           Docker                  docker ps   grep busy   cut  d     f1 f2321226620e   docker inspect f2321226620e   format     HostConfig CpuShares    51           51     50      Linux cgroup   Docker    CPU        1024      shares    Kubernetes       1000   shares    shares      CPU               CPU          1024          cgroup       B A   shares    1024 B   shares    512        1024  1204 512  66    CPU      B     33    CPU    shares                        66    CPU          CPU            B   B   CPU         33             cgroup C     shares    1024           1024  1204 512 1024  40  B      20                              shares             CPU                      shares              cgroup                                  cgroup                                                             CPU                 Docker           cgroup          CPU       Docker          cpu cpuacct cgroup    ps ax   grep  bin sh 60554   Ss 0 00  bin sh  c true  sleep 2  done   sudo cat  proc 60554 cgroup     4 cpu cpuacct  kubepods burstable pode12b33b1 db07 11e8 b1e1 42010a800070 3be263e7a8372b12d2f8f8f9b4251f110b79c2a3bb9e6857b2f1473e640e8e75   ls  l  sys fs cgroup cpu cpuacct kubepods burstable pode12b33b1 db07 11e8 b1e1 42010a800070 3be263e7a8372b12d2f8f8f9b4251f110b79c2a3bb9e6857b2f1473e640e8e75 total 0 drwxr xr x 2 root root 0 Oct 28 23 19   drwxr xr x 4 root root 0 Oct 28 23 19         rw r  r   1 root root 0 Oct 28 23 19 cpu shares Docker     HostConfig CpuShares       cgroup   cpu shares              sudo cat  sys fs cgroup cpu cpuacct kubepods burstable podb5c03ddf db10 11e8 b1e1 42010a800070 64b5f1b636dafe6635ddd321c5b36854a8add51931c7117025a694281fb11444 cpu shares 51             CPU requests          cgroup                requests           cgroup         soft limit       Kubernetes           cpu shares    Kubernetes                               CPU limits           kubectl run limit test   image busybox   requests  cpu 50m    limits  cpu 100m    command     bin sh  c  while true  sleep 2  done  deployment apps  limit test  created       kubectl              kubectl pods limit test 5b4fb64549 qpd4n  o jsonpath    spec containers 0  resources   map limits map cpu 100m  requests map cpu 50m         Docker          docker ps   grep busy   cut  d     f1 f2321226620e   docker inspect 472abbce32a5   format     HostConfig CpuShares      HostConfig CpuQuota      HostConfig CpuPeriod    51 10000 100000        CPU requests     Docker     HostConfig CpuShares      CPU limits                 HostConfig CpuPeriod   HostConfig CpuQuota Docker                   cpu couacct cgroup         cpu cfsperiodus   cpu cfsquotaus           sudo cat  sys fs cgroup cpu cpuacct kubepods burstable pod2f1b50b6 db13 11e8 b1e1 42010a800070 f0845c65c3073e0b7b0b95ce0c1eb27f69d12b1fe2382b50096c4b59e78cdf71 cpu cfsperiodus 100000   sudo cat  sys fs cgroup cpu cpuacct kubepods burstable pod2f1b50b6 db13 11e8 b1e1 42010a800070 f0845c65c3073e0b7b0b95ce0c1eb27f69d12b1fe2382b50096c4b59e78cdf71 cpu cfsquotaus 10000                                       Pod      100m cpu limits               limits         cpu requests   cpu limits                  Requests      cpu shares    cpu shares     CPU       1024                                 1024                    cpu shares     512                CPU        cpu shares          CPU                   shares              CPU         2010                                      linux                     CPU                         1 10     100000                                    CPU               CPU                  us  cfsperiodus        1    ms   1   s  cfsquotaus       1ms       cfsquotaus      1           CPU                 1       1 CPU  250ms   250ms CPU      echo 250000   cpu cfsquotaus    quota   250ms      echo 250000   cpu cfsperiodus    period   250ms    2     2 CPU      500ms   1000ms CPU              echo 1000000   cpu cfsquotaus    quota   1000ms      echo 500000   cpu cfsperi",
        "objectID": "posts/understanding-resource-limits-in-kubernetes-cpu-time",
        "subtitle": "剖析 CPU 资源限制背后的 cgroup 实现原理",
        "date": "2018-11-10T05:32:30.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Device Mapper系列 (3)：Docker 中使用 devicemapper 存储驱动",
        "uri": "posts/use-devicemapper",
        "content": "1       devicemapper       RHEL  CentOS   Oracle Linux           Docker EE   Commercially Supported Docker Engine  CS Engine             Product compatibility matrix  devicemapper   CentOS  Fedora  Ubuntu   Debian      Docker CE         Docker                              2    Docker  devicemapper Docker      devicemapper                loop lvm                                               out of the box             loop lvm       2 1       direct lvm   CentOS7   Docker 17 06        Docker      direct lvm                       lvm                           direct lvm                                   direct lvm               usr lib docker storage setup docker storage setup                      man docker storage setup                                                                                   dm directlvmdevice        direct lvm                 dm directlvmdevice   dev xvdf      dm thinppercent        data thin pool           95   dm thinppercent 95     dm thinpmetapercent        metadata thin pool           1   dm thinpmetapercent 1     dm thinpautoextendthreshold              100    disable     50    lvmthin   LVM thin provisioning       80   dm thinpautoextendthreshold 80     dm thinpautoextendpercent             100    disable       20   dm thinpautoextendpercent 20     dm directlvmdeviceforce                                false   dm directlvmdeviceforce true       etc docker daemon json            Docker                   storage driver    devicemapper    storage opts      dm directlvm_device  dev xdf    dm thinp_percent 95    dm thinp_metapercent 1    dm thinpautoextendthreshold 80    dm thinpautoextendpercent 20    dm directlvmdeviceforce false                    Stable Edge      direct lvm                                     dev xvdf                   Docker daemon      1         Docker       Docker daemon  2   LVM2    LVM2      Linux              RHEL   CentOS  device mapper persistent data  lvm2        Ubuntu   Debian  thin provisioning tools  lvm2        3          pvcreate  dev xvdf Physical volume   dev xvdf  successfully created  4       docker        vgcreate docker  dev xvdf Volume group  docker  successfully created 5       thinpool                    docker        95                            lvcreate   wipesignatures y  n thinpool docker  l 95 VG Logical volume  thinpool  created    lvcreate   wipesignatures y  n thinpoolmeta docker  l 1 VG Logical volume  thinpoolmeta  created  6         thinpool       lvconvert  y     zero n    c 512K     thinpool docker thinpool     poolmetadata docker thinpoolmeta WARNING  Converting logical volume docker thinpool docker thinpoolmeta thin pool s data metadata volumes metadata wiping  WILL DESTROY CONTENT LOGICAL VOLUME  filesystem etc   Converted docker thinpool thin pool  7    lvm profile               vi  etc lvm profile docker thinpool profile 8      thinpoolautoextendthreshold   thinpoolautoextendpercent          thinpoolautoextend_threshold                         100   disabled   thinpoolautoextend_threshold   80                           100      thinpoolautoextend_percent   20      docker thinpool profile           etc lvm profile docker thinpool profile         activation   thinpoolautoextend_threshold 80 thinpoolautoextend_percent 20   9      lvm       lvchange   metadataprofile docker thinpool docker thinpool Logical volume docker thinpool changed  10           lv          lvs  o seg_monitor LV VG Attr LSize Pool Origin Data  Meta  Move Log Cpy Sync Convert Monitor thinpool docker twi a t    95 00g 0 00 0 01 monitored 11    Docker       mkdir  var lib docker bk   mv  var lib docker    var lib docker bk 12         devicemapper       cat  etc docker daemon json    storage driver    devicemapper    storage opts      dm thinpooldev  dev mapper docker thinpool    dm usedeferredremoval true    dm usedeferreddeletion true             Note  Always set dm usedeferredremoval true dm usedeferreddeletion true prevent unintentionally leaking mount points      2                            devicemapper          lsblk                       lsblk NAME MAJ MIN RM SIZE RO TYPE MOUNTPOINT xvda 202 0 0 8G 0 disk   xvda1 202 1 0 8G 0 part   xvdf 202 80 0 10G 0 disk   vg  docker data 253 0 0 90G 0 lvm     docker 202 1 1032 pool 253 2 0 10G 0 dm   vg  docker metadata 253 1 0 4G 0 lvm   docker 202 1 1032 pool 253 2 0 10G 0 dm       lsblk                         Docker 202 1 1032 pool   pool     data   metadata      pool           Docker            inode  pool 3     devicemapper 3 1    thin pool        lvm             Volume Group            volume                lvs   lvs  a     volume               nagios                    lvm       thin pool                  journalctl  fu dm event service           thin pool                  etc docker daemon json       dm minfreespace                   10               10                 storage driver options Engine daemon reference  3 2                 lv            vg                   thin pool                        loop lvm         direct lvm         loop lvm           loop lvm              device_tool                     a     ",
        "objectID": "posts/use-devicemapper",
        "subtitle": "配置 Docker 使用 devicemapper",
        "date": "2018-01-22T08:17:11.000Z",
        "draft": false,
        "toc": true,
        "categories": "docker",
        "tags": [
            "docker"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "初试 Kubernetes 集群中使用 Contour 反向代理",
        "uri": "posts/use-envoy-as-a-kubernetes-ingress",
        "content": "Kubernetes         Web                      L7                      Kubernetes Ingress Controller        Envoy   Matt Klein   Lyft                        Envoy                CNCF                                 Heptio       Contour    Envoy    Kubernetes   Ingress Controller               Kubernetes                     Heptio Contour                                Envoy    Kubernetes          Ingress                                   Envoy                                                1                   manifest         git clone https   github com heptio contour   cd contour deployment deployment grpc v2    Deployment YAML     apiVersion  extensions v1beta1 kind  Deployment metadata  labels  app  contour name  contour namespace  heptio contour spec  selector  matchLabels  app  contour replicas  1 template  metadata  labels  app  contour annotations  prometheus io scrape   true  prometheus io port   9001  prometheus io path    stats  prometheus io format   prometheus  spec  affinity  nodeAffinity  requiredDuringSchedulingIgnoredDuringExecution  nodeSelectorTerms  matchExpressions  key  kubernetes io hostname operator  values   192 168 123 249  hostNetwork  true containers  image  gcr io heptio images contour master imagePullPolicy  Always name  contour command    contour   args  serve   incluster   envoy http port 80   envoy https port 443 image  docker io envoyproxy envoy alpine v1 7 0 name  envoy ports  containerPort  80 name  http containerPort  443 name  https command    envoy   args    config path  config contour yaml   service cluster cluster0   service node node0   log level info   v2 config only volumeMounts  name  contour config mountPath   config initContainers  image  gcr io heptio images contour master imagePullPolicy  Always name  envoy initconfig command    contour   args    bootstrap     config contour yaml   volumeMounts  name  contour config mountPath   config volumes  name  contour config emptyDir     dnsPolicy  ClusterFirst serviceAccountName  contour terminationGracePeriodSeconds  30                   1          hostNetwork     Pod           Node                    contour        Listener      80   443    Envoy           80   443        kubectl apply  f    namespace  heptio contour  created serviceaccount  contour  created customresourcedefinition apiextensions k8s io  ingressroutes contour heptio com  created deployment extensions  contour  created clusterrolebinding rbac authorization k8s io  contour  created clusterrole rbac authorization k8s io  contour  created service  contour  created 2  Ingress                   Ingress     deployment                       kubectl apply  f    example workload kuard yaml             kubectl po svc ing  l app kuard NAME READY STATUS RESTARTS AGE kuard bcc7bf7df 6h55x 1 1 Running 0 4m kuard bcc7bf7df 9sdnr 1 1 Running 0 4m kuard bcc7bf7df ws57j 1 1 Running 0 4m NAME CLUSTER IP EXTERNAL IP PORT S  AGE svc kuard 10 254 85 181 80 TCP 4m NAME HOSTS ADDRESS PORTS AGE ing kuard   192 168 123 249 80 4m           Contour       IP     DNS               3  Contour      Contour      Ingress       IngressRoute         CRD                                                                                              Ingress            Ingress   IngressRoute             Envoy     CDS                     JSON                   Envoy            Ingress            Contour     Ingress     Envoy             Ingress          Envoy                                  Ingress       Envoy            Envoy    xDS       CDS SDS   RDS     Kubernetes   Contour        Ingress Service   Endpoint                       client go   cache informer          watchers                              watch API                   Contour                               DAG      Contour                           TLS                                IngressRoute                      png          Envoy API     Kubernetes API              CDS              Kubernetes    Service       Ingress     TLS     SDS              Kubernetes    Endpoint Envoy    SDS      Cluster       Endpoint              Envoy    Contour   CDS            SDS  RDS              Kubernetes    Ingress                  RDS   Ingress        4         CDS CDS     Kubernetes    Service       Service     Endpoint Pods     Envoy Cluster    Envoy                        RDS     TLS      CDS        Kubernetes    TLS     Ingress                       SDS SDS     Kubernetes    Endpoint                  Contour   Endpoint          SDS     hosts       json      RDS RDS     Kubernetes    Ingress    RDS                   Envoy    Envoy          Ingress   IngressSpec            namespace serviceName_servicePort                 Service           CDS     5  Contour      Contour Ingress controller          Envoy              Contour      Envoy         Envoy                     Sidecar           Pod                    Pod       Contour    Init                   temporary volume   Volume      Envoy       Envoy    Sidecar Contour                  Envoy         Contour                 Contour                   Envoy           Contour     Kubernetes API          Ingress S",
        "objectID": "posts/use-envoy-as-a-kubernetes-ingress",
        "date": "2018-09-28T08:38:15.000Z",
        "subtitle": "一种全新的 Ingress 实现方式——Envoy",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "envoy",
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Vistio—使用 Netflix 的 Vizceral 可视化 Istio service mesh",
        "uri": "posts/vistio-visualize-your-istio-mesh-using-netflixs-vizceral",
        "content": "Jimmy Song              Vizceral   Netflix                                   Vistio     Vizceral   Istio              Istio Mixer              Prometheus Vistio    Prometheus                     Vizceral          Vizceral Open Source  Vizceral                                           Istio Ingress Gateway        Internet   Istio                       Istio                                                                              1    Istio         Vistio    Prometheus Istio 1 0       Demo                                              Prometheus     istio system namespace        http   prometheus istio system 9090      Istio mixer     istiorequestcount metric Kubernetes       standard StorageClass            Helm                             StorageClass                   hostPath                        Istio Bookinfo Demo        Istio                                    Mixer       Prometheus       Prometheus    istiorequestbytes_count            2     Vistio         kubectl    Helm     Vistio         Helm                                  Helm    Vistio       GitHub          Helm                          prometheus url                 git clone https   github com nmnellis vistio git    Helm             Istio 1 0      Vistio                                          Vistio           values with ingress yaml         vim helm vistio values with ingress yaml vistioConfig  graphName  Vistio globalLevel  maxVolume  2000000 clusterConnections  Total requests per second coming ingress controller internet   istiorequestcount     istiorequestbytes_count   destinationservice  istio ingressgateway istio system svc cluster local      sourceworkload  istio ingressgateway  query  sum rate istiorequestbytescount sourceworkload  istio ingressgateway   1m     response_code  prometheusURL  http   prometheus istio system 9090     clusterLevel  Cluster name match  target  name global cluster  istio mesh maxVolume  3000 serviceConnections    istiorequestcount     istiorequestbytes_count   sourceservice     sourceapp query  sum rate istiorequestbytescount 1m     sourceapp destinationservice responsecode  prometheusURL  http   prometheus istio system 9090 source    sourceservice     sourceapp label  source_app        values yaml         vim helm vistio values yaml     Vistio web web  env  Vistio web      Vistio api   url      url                      ingress        updateURL   http   vistio api istio io graph     statefulset yaml         vim helm vistio templates statefulset yaml apiVersion  apps v1beta1 kind  StatefulSet metadata  name  vistio api     spec  replicas      Values api replicaCount    serviceName  vistio template  metadata      spec  volumes  name  config configMap  name  vistio api config    volume vistio db name  vistio db hostPath  path   data vistio   volumeClaimTemplates           volumeClaimTemplates     metadata  annotations  volume beta kubernetes io storage class      Values api storage class    name  vistio db spec  accessModes    ReadWriteOnce resources  requests  storage      Values api storage size             vistio api           data vistio        helm install    Vistio    helm install helm vistio  f helm vistio values with ingress yaml   name vistio   namespace default   kubectl pod vistio api 0 1 1 Running 0 2m vistio web 5c44b7f76d hmjdc 1 1 Running 0 2m 3        Vistio Web API    Vistio Web API   Service vistio api   vistio web    Ingress    cat ingress yaml apiVersion  extensions v1beta1 kind  Ingress metadata  name  vistio web namespace  default spec  rules  host  vistio web istio io http  paths  path    backend  serviceName  vistio web servicePort  8080 apiVersion  extensions v1beta1 kind  Ingress metadata  name  vistio api namespace  default spec  rules  host  vistio api istio io http  paths  path    backend  serviceName  vistio api servicePort  9091   kubectl create  f ingress yaml                hosts   Ingree_host vistio web istio io  Ingree_host vistio api istio io    Ingree_host     Ingress Controller       IP     visito api vistio web    vistio api            http   vistio api istio io graph                   Vistio                       Vistio UI              http   vistio web istio io               4                Istio                 istio mesh                    Istio                                                                                                            5          http   vistio api istio io graph      vistio api                                       vistio api                   vistio api      Prometheus               kubectl logs  f   kubectl pod  l app vistio api  o go template    range  items     metadata name    end      c vistio api    Prometheus     vistio api                   Prometheus           Global Level Query sum rate istiorequestbytescount sourceworkload  istio ingressgateway   1m     response_code  Cluster Level Query sum rate istiorequestbytescount 1m     sourceapp destinationservice responsecode     Issue                Issue https   github com nmnellis vistio issues",
        "objectID": "posts/vistio-visualize-your-istio-mesh-using-netflixs-vizceral",
        "subtitle": "Vistio 部署使用教程",
        "date": "2018-08-03T07:29:37.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "干货与湿货分享第1期",
        "uri": "posts/weekly-1",
        "content": "1  PayPal              PayPal                                                                                                             Howard Durdle          Twitter   Facebook       2  Google Chrome                               Chrome                                                    9   2   Chrome       Material Design       Chrome                              Material Design 2  Android P          Chrome OS           3  HTC         Exodus            U12         HTC                       Exodus                                 HTC           Exodus                                              Exodus     4                               2005      Interstellar Technologies      SpaceX Blue Origins Rocket Labs                                              Interstellar Technologies                    10m    50cm              100km                                    2017       Momo       66                      20km                                                               Interstellar Technologies                5               7 7                                                 FBI                     Xiaolang Zhang                                                          Xiaolang Zhang                    5000                    6                                       CEO                                                                                                                   Gigafactory 3                                                                     1  BaiduPCS Go                                                                      BaiduPCS  go    Go                                                     2  ivideo                        Mac Windows Linux     VIP     3  DocHub          Beego Golang            4  annie        YouTube            youget        Go           YouTube                     5  Painter               json                  6  taro              React                         H5 React Native       7  termtosvg          SVG    8  Jib       Java              Dockerfile             Docker     9       SimpRead                                                                                      Chrome     1   Aesma          115                                                                                             300                                         BT                                                Aesma                                          Aesma       115                                                                    6        10             16       115                             1  DeepLearningBook     DeepLearningBook                                                                                                        800 7 9                               DeepLearningBook      GitHub                       2  Go        Go            Go                 Go                3                                                      4         PyTorch                 PyTorch                       PyTorch                    5                                                                       Java   Python     6  free programming books zh_CN                7  Golang                                                                                           8  Prometheus              Prometheus                                                                                  Prometheus                1  TelegramGroup Telegram                telegram    2                             3  Factory Images Nexus Pixel Devices               Nexus   Pixel",
        "objectID": "posts/weekly-1",
        "date": "2018-07-14T05:31:48.000Z",
        "draft": false,
        "categories": "分享",
        "tags": [
            "share"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "干货与湿货分享第2期",
        "uri": "posts/weekly-2",
        "content": "1                                                                                                   Google AI                          5000                                                                                            Google                              2                                                                                                                                                                                                                                                                                                                                             3  Android          7 18          Android                        43 4        50 4                CEO         Sundar Pichai                 Android                   50            CEO                             Android               Android     iOS              Android                                                  Android                       Android                         4  Google                        32   Google       Mohammad Azam                                           Azam                                                                                                            Azam                           WhatsApp                                                      Azam                   Azam                                 Azam                5                                          11                                                                                                                                          6                                                                                                                                Pony                                                                            1  HexoEditor       Hexo            Markdown        Electron         Moeditor  2  router7     Go                        demo            3  Infinity      Infinity                                                                 4  Camtd   Chrome                      Chrome             Camtd                      Aria2   AriaNg                          5  Yomail                                 Mailbox                 Inbox Spark            Airmail                                                                                                                             YoMail  6  Irreader    RSS     irreader     RSS        RSS             podcast              Podcast            marketing     7       TV              TV                                                       iPhone iPad Android Android TV Windows macOS    1  Linux       linux     top vmstat free                          buff cache memeory swap avail Mem                        Linux                2  Etcd         Etcd   CoreOS    Raft        key value                                           Etcd                              Etcd v3                Etcd                                                       Etcd                  3  Learning SICP                            Harold Abelson Gerald Jay Sussman  1986 7   Hewlett Packard                                                 Scheme Lisp      4  Tcpdump      tcpdump                                            TCP IP                HTTP                tcpdump           wireshark                    5  Envoy         Envoy                        Istio Service Mesh                     ServiceMesher        6       Go              Go            1  Vistio Vizceral   Netflix                                   Vistio     Vizceral   Istio              Istio Mixer              Prometheus Vistio    Prometheus                   2                                   Vuejs        Docker                     Bash  C  C    Go  Haskell  Java  Perl  PHP  Python  Ruby  Rust  3  SOFAMesh                 Scalable Open Financial Architecture    SOFA              SOFAMesh  SOFAMesh     Istio          Service Mesh               Istio                                                      Golang     MOSN    Envoy   Mixer                Pilot                   SOFA RPC Dubbo     4  rio                       README         Docker                      service mesh     5  Nabla containers                       6  golb Go",
        "objectID": "posts/weekly-2",
        "date": "2018-07-21T11:01:26.000Z",
        "draft": false,
        "categories": "分享",
        "tags": [
            "share"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "干货与湿货分享第3期",
        "uri": "posts/weekly-3",
        "content": "1                        2015                                                                                                        Python                    2       Facebook                                         2018   7   18             3000                           Facebook Hong Kong Limited 100                               Facebook                                                        Facebook                                   3                                     7 28                                                                            15                               10   4            MacBook             GSMArena                                                                             Touch Bar                         5                                                                    225     800            1982                                      iPhone Mac iPad iPod Apple Watch   Apple Display        Beats                             0120 27753 5                                                    6               28                     2016         AI     Rekognition                         Rekognition           28                                      Rekognition            ACLU                                   7                                                                                                                                                                                                                          1            100                                              100                                                                                                                                     2  WeRss               RSS WeRss                  RSS                  8                      RSS                         RSS         RSS                     RSS                 WeRss                                     RSS        3                                                                                                                                                     4                                                                   5  go cloud             SDK      go cloud                       API                API          go cloud             API    6  go mysql    MySQL binlog            MySQL        Redis elasticsearch               canal            binlog                          1  follow me install kubernetes cluster    kubernetes                     kubernetes               kubeadm                                                    2  go fundamental programming  Go            Google     Go                         3  Web Series    Web                            React   Vue   4  spark_study Spark         5  The Flask Mega Tutorial zh     Miguel Grinberg   blog https   blog miguelgrinberg com  2017    Flask Mega Tutorial     6  progit2  Pro Git               1  Best App                           2  InterviewMap                                                                    3  night reading go Go               Go                    Golang           YouTube          4  cpp cheat sheet        Google   NASA     C            cheat sheet      5  vjtools      Java           1        wifi                        WiFi                 WiFi                            WiFi      WiFi        WiFi          WiFi                        WiFi                      WiFi                            wifi  2                                                                                                                                             3                                                                                                                                                                    4                                                                      php",
        "objectID": "posts/weekly-3",
        "date": "2018-07-29T09:38:28.000Z",
        "draft": false,
        "categories": "分享",
        "tags": [
            "share"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "干货与湿货分享第4期",
        "uri": "posts/weekly-4",
        "content": "1               8 9                                                                      SPE            2017                                                        2                                                                                                    bug                                                                      3                                                          8 5                       EPC                                                                   21                                                4                      Google                    5                      Google                                    Twitter Facebook            Stability prerequisite China s internet opening up               Google                                                              Google                PK                                       5                                                           8 5              8                                                                                               1  ice                React                        270          BU         2  Feediary           RSS     RSS                                       90       Feediary    RSS                          Feediary       RSS                                             50   RSS                 3  LicketyLink                                                                                                                                                                                                                         4  ShareFiles                   5  Onlim Pnlim                                       Facebook Twitter   Slack            RSS                RSS              6  zhuye_kim   zhuye kim                  7  Cartoonify Cartoonify   Google                                       Draw                                           8  my free mp3                                         APP                                                               Size Kbps            320K                                             ENTER                          1                                                                                   2                                                                       Linux                                                                                              3  Kubernetes Action             Kubernetes                               non deterministic           scheduler   controller                    high availability       cluster               4     Linux           Unix                           Linux     Go                       Linux                      5  Go            CGO Go      RPC    Web                    Go              Go                     Go             Go             Go          6  Envoy      Ngnix             Service Mesh          Envoy                             Envoy                Envoy            Envoy                             1  programmer job blacklist                                                                       2                2017                                             3  Wallhalla                                                          Wallhalla                                                                           4  Mojo Weixin   Perl            weixin wechat       GUI           HTTP   api                                                                        1                                          1821                                                                                                                                                                                     2                       11               79                                            4                                                33km                            3           6                                                                                                                                                 500                                        300                                      1599                                  1738                 1748                                           3                                                                                                                                                                                                                                                              1670",
        "objectID": "posts/weekly-4",
        "date": "2018-08-11T10:17:12.000Z",
        "draft": false,
        "categories": "分享",
        "tags": [
            "share"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "干货与湿货分享第5期",
        "uri": "posts/weekly-5",
        "content": "1                8   16                                                                                               49 1 2623 213   Chrome         16                                  Chrome              Chrome                                                                                                                                                              2                     NYT                                                                                       1400                                                                                                                                                                     8                          3                                                                                 SNS                                                                                                                                                     4                           Jay Hyun Kim                     Cosmos                                                         5  Google    Pixel 3                             iPhone                                                  Pixel 3 Pixel 3 XL      OnLeaks      Pixel 3                  Pixel 3   Pixel 3 XL                  6  Apple Store                      Apple Store        8   25     10        Apple Store             Kyoto Zero Gate               9        7  AI     Dota 2               OpenAI   DOTA   1v1            Dendi         OpenAI Five                           2 1                     GG                8  Google One    OneDrive   Dropbox                 Google                   Google One                           Google                                       Google One      Google Drive            1                                                                                                 KB s                                                                     SpeedPan                                  2                                      iOS                    Safari                                      app                                                                               app                 3  OSX KVM       Linux       KVM         MacOS      4  Chrono             Chrome                                                                                                                                     chrono                   chrono  chrome   5  Medis Medis    Mac    Redis                                             TTL          redis cli                             6  Prometheus Formatter    Prometheus   CNCF                   Chrome                Prometheus     7  PromAuthProxy      Prometheus                 Prometheus                      1  KubeBuilder     Kubernetes                           Kubernetes              Kubebuilder        Go          Kubernetes API   SDK            Kubernetes API                              Ruby Rails   SpringBoot   Web      Kubebuilder                           Kubebuilder               Kubernetes API                       Kubebuilder                         2  Site Reliability Workbook   7   24    Google Next  18     Google     SRE      The Site Reliability Workbook   Practical Ways Implement SRE         Google SRE              Site Reliability Engineering How Google Runs Production Systems   2016   4   16           SRE Google        2016   10   1           SRE Google                        Google           PDF        8   23     3  Prometheus  Running      Prometheus                                          386                        4  Vue js              Vue js                                             Vue js                  Vue js  5  Don t Know JS          JavaScript                                          JavaScript                                                                                             JavaScript  6  Interview_Notes Chinese 2018 2019                 NLP       Deep Learning       Machine Learning  C C   Python      7  build your own x                                            1  Google   Gplayspace           Google Play                                                                                Gplayspace                              bilibili                                             2  paascloud master spring cloud   vue                                             3  react tetris                                  4  chinese programmer wrong pronunciation                      App           p       eipi pi     1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                2       1915                                                                  1965                                                                    ",
        "objectID": "posts/weekly-5",
        "date": "2018-08-18T11:09:02.000Z",
        "draft": false,
        "categories": "分享",
        "tags": [
            "share"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "干货与湿货分享第6期",
        "uri": "posts/weekly-6",
        "content": "YouTube Google   Facebook                                                                                          100000   Facebook              20000                                                                                                                                                                                25000                                                                                                                                                                                                                                          1                                                                                                       connectome                                                                         2                                                                                                                                                                                                                                                                                                                 3                                                                                                                                                                                                                        27       4                                                                                                       5        AI                                                AI                    NHK           2 5               500          AI                                                        6  Google           AI        Google                                                   Google            AI                                Google                AI                          AI                       7  NASA                                                                                                          Chandrayaan 1        NASA M3                                                                                                                                                         1        GitHub                  GitHub                                                                          GitHub Trending                            GitHub                      GitHub                                                                     2  PicGo PicGo                                            GitHub SM MS                           electron vue       macOS                              3  WeChatPlugin MacOS WeChatPlugin           macOS                                       macOS               4  Flow Mac                                                                Flow Mac    MacOS                                Flow Mac                                Mac         5  Bash Snippets                   BASH            Bash Snippets                                                                                       YouTube                               GUI       6  kcs           Kubernetes          7  Picular                                 Picular                                                    1  Gitlab Team Handbook Gitlab       Gitlab                     1000             2  Write Own CNI Plug in Bash           Bash   Kubernetes       CNI     3  HTTPS                                HTTPS                          HTTPS                  4                             Linux                      5  PromQL Humans PromQL    Prometheus              Timber       PromQL            1  Fembed    QQ                          115                           Fembed Fembed                                             Fembed               115             Fembed                           Fembed          http ftp YouTube                     http ftp YouTube                   Fembed                                                     IDM              Fembed      Aria2                         Aria2                  2  Rapidvideo                               480P 720P 1080P                         3           kindle                                           Kindle     4  Resume Maker Online                            PDF        5                                  ing         4                  2000                                      HR                                                        6  chinese xinhua            API       14032      16142     264434     31648      7      CS229           Github   afshinea                 CS229                                                          Openshift Origin   3 10           OKD Google One                                    Markdown                Markdown     Aqua    Kube hunber               Kubernetes             AppOrbit   Google      AppPorter 2 0 AppPorter 2 0                           Kubernetes                           1                15                                                                                                                                                                                                                                                                                                        ",
        "objectID": "posts/weekly-6",
        "date": "2018-08-25T06:33:39.000Z",
        "draft": false,
        "categories": "分享",
        "tags": [
            "share"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "干货与湿货分享第7期",
        "uri": "posts/weekly-7",
        "content": "7                                                                                                                                                                                                                                  AI                                     AI                                           AI                     API                                       AI         AI                                           AI                                                                                                                1  MIT                                                                                             0   1                                            2                                                                                       Puy du Fou          6                Boubou Bamboo Bill Black Bricole Baco                                         3                            Gin no Sara        ZMP                            CarriRo                                                       3                           8            60                  4                                                                                                                       SPF                                        SPF                                     5  1973   MIT              2040       20    70                                                                                                                          World3               Forrester     World1                                                                                                                            youtube            1973                          6                                                                                                                                                                                                                     1  Videofk Videofk                                      B  YouTube Instagram Vimeo              2  Easy RSS Easy to RSS       RSSHub            RSS   chrome     3  Winds   Getstream io       RSS   Podcast   APP    Windows MacOS   Linux     4  FinalShell     Xshell   SSH       Linux Windows Mac               ssh     tcp         5  Monlor Tools       Shell        Shadowsocks Aria2 KoolProxy      6  GSIL GitHub                GitHub                 7  shyaml     YAML              jq    jq       json        8  gatsby                                       9  Mortar Mortar              Kubernetes                            kubectl apply  f some_folder              CI CD pipeline                  Helm                         Mortar  1   Docusaurus               Facebook     1   boss    Containerd          1   ebpf_exporter   Cloudflare         ePBF       Prometheus exporter  1   ModSecurity envoy ModSecurity Envoy       ModSecurity V3   HTTP        Envoy     1   Shuttle Shuttle       Go        ss local                HTTP HTTPS       DNS                     1      istio                              istio        service mesh                                 istio             istio istio             istio             2  Ethereum Development Go             Go               3  OpenShift   Kubernetes       10    OpenShift         Red Hat        Kubernetes        OpenShift   Kubernetes          4  Go              Go                                       Go runtime                                                                  5                       Python            6                    Go   WebAssembly               1                                                           ACG         GitHub                 2               WiFi                                                                                                        3  YouTube      YouTube                                   Google     Facebook                   YouTube              MTV                                                                                                                     4         V2                                     3   5  awesome chinese podcasts                6                             7  ML From Scratch                 Python     8  Telegram                https   t me lovesource         https   t me SSKMJBTS sync      https   t me shenkey         https   t me voidrss         https   t me CNHDTV CosPlay R18       https   t me CosR18 9  Powerlevel9k Powerlevel9k     Powerline     Zsh          Zsh    Zsh      Oh My Zsh Prezto  Antigen       1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ",
        "objectID": "posts/weekly-7",
        "date": "2018-09-01T09:49:18.000Z",
        "draft": false,
        "categories": "分享",
        "tags": [
            "share"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "干货与湿货分享第8期",
        "uri": "posts/weekly-8",
        "content": "8                                                                                                                                                                                                                                                                                       0     1                                        0   1              0 1                             N          2   N            N                               2   N                        2   N                                                300                             15                                                                                                                                                                                                                                                            1  Google   Chrome          UI 2018   9   5             10    Chrome                               Google        Chrome                                                              Chrome                   Chrome                                        2  Facebook                               Facebook         Menlo Park                  MPK 21                 Frank Gehry         3 6           200                                                                           3                     50                                                                                            The Neighborhoods Methods                                                                                                                     50                                                 4                                           19              Konstantin Tsiolkovsky                            Tsiolkovsky                                                                       2018   9   11                                     10 10 10                  10                                                                                     5                                                                                                                                                                                                    6                                                                                                                                     7       20              20                            20                            1100                                                 20                             20                 AI    20                       AI                      AI                                1  Cowtransfer      Cowtransfer                                   Cowtransfer                  Wetransfer                                                   6                 2G       7    2  TrafficMonitor              CPU                                 3  HTTPie HTTPie   aych tee tee pie     HTTP               CLI   web                           http                  HTTP               HTTPie      HTTP                 4  noti                              noti                                                               5  Redis Desktop Manager Redis Desktop Manager       Qt5     Redis           SSH     6                                                                            7  Neofetch Neofetch    BASH      CLI        Neofetch                 Logo          ASCII       Neofetch                                     Linux MacOS iOS BSD Solaris Android Haiku GNU Hurd MINIX AIX IRIX   Windows Cygwin   MSYS2   MinGW   Windows 10 Linux       8  Vegeta Vegeta    Go       http                           json             html               1  Spring Boot Examples Spring Boot                      2  Nginx           Nginx                                     3  60DaysRL_Challenge                 4  Open Guide Amazon Web Services     Web Services       5  JavaScript            JavaScript                                                                                   JavaScript                         6  MacOS                                 macOS 10 12   Sierra            OS X        Mac                                                                  Mac                    7  Markdown                     Markdown                            Markdown                                       8     LXCFS           Linuxs    Cgroup                                procfs    proc         meminfo  cpuinfo stat  uptime               free top                                                                        Docker   Kubernetes                            1                                                                      alias      2  Hackintosh       Clover            Clover         3  asd price V2EX                                                                             4  Awesome Bookmarks Awesome Bookmarks   Github Awesome                                Google Chrome   Mozilla Firefox   Microsoft Edge                                             5    Firefox      Chrome   Material Design         Chrome        UI                Firefox               Material Design                    Firefox        Firefox          Material Design",
        "objectID": "posts/weekly-8",
        "date": "2018-09-08T04:32:27.000Z",
        "draft": false,
        "mathjax": true,
        "categories": "分享",
        "tags": [
            "share"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "kubectl run 背后到底发生了什么？",
        "uri": "posts/what-happens-when-k8s",
        "content": "nginx     Kubernetes                         kubectl run   image nginx   replicas 3                   nginx pod                                               Kubernetes                    API           deployments                                                             client   Kubelet                                                                        1  kubectl                 kubectl                                                                kube apiserver                            kubectl        kube apiserver   HTTP        kube apiserver   etcd                Kubernetes             kube apiserver    kubectl      kubectl       generators     HTTP                           kubectl run        deployment             generator                      generator      kubectl                        restart policy Always          Deployment         restart policy Never          Pod    kubectl                                     kubectl          Deployment        DeploymentV1Beta1                        API       API                        Kubernetes      API              API         api v1     apis extensions v1beta1     API                            Kubernetes API     API                   Kubernetes API       API      REST            apiVersion          Deployment   API     apps     API     v1beta2           Deployment manifests      apiVersion  apps v1beta2  kubectl                     API    API                              REST               kubectl     remote API     apis            API      kube apiserver    apis        OpenAPI                        API         kubectl   OpenAPI           kube cache           API                    kubectl       v                           API    HTTP       kubectl                  HTTP                    kubectl               success message              HTTP                                              kubectl                   kubeconfig     kubectl           kubeconfig             kubeconfig     kubectl       kubeconfig       kubeconfig              kubeconfig              KUBECONFIG             kubeconfig          kubeconfig          KUBECONFIG       kubectl        kubeconfig     HOME  kube config      kubeconfig     kubectl                                                        username              kubeconfig                   kubectl                 HTTP       x509      tls TLSConfig       CA      bearer tokens   HTTP     Authorization               HTTP         OpenID                       bearer token        token  2  kube apiserver                                   kube apiserver       kube apiserver                                     kube apiserver                             apiserver              kube apiserver                    CLI                                client ca file        x509                         token auth file        breaer token                   apiserver                          x509         HTTP        CA        TLS          bearer token           token auth file       token                    HTTP                                                         Authorization                                                         OK             kube apiserver                                                                                kube apiserver            kube apiserver                        kube apiserver         authorization_mode                                                                                            kube apiserver               webhook         HTTP S        ABAC                 RBAC      rbac authorization k8s io API Group               Kubernetes API         Node      kubelet                                                      API Server                   kube apiserver                                       Kubernetes                                         Admission Controller                                                                                                            etcd                                                                                                         Note                                                                                                                                plugin pkg admission                        kube apiserver                                 SecurityContextDeny ResourceQuota   LimitRanger           SecurityContextDeny             Security Context   Pod  ResourceQuota         Namespace                  Namespace    Pod                      ResourceQuota              LimitRanger          ResourceQuota        Namespace         Pod   Container                  LimitRange             3  etcd       Kubernetes                                                kube apiserver    HTTP                               kubectl               etcd                         kube apiserver                                                    kube apiserver                     kube apiserver                 apiserver              Kubernetes API                  generic apiserver       apiserver       OpenAPI          kube apiserver              API         API               ",
        "objectID": "posts/what-happens-when-k8s",
        "subtitle": "探寻 Kubectl 创建 Pod 背后的原理",
        "date": "2018-06-01T11:36:45.000Z",
        "draft": false,
        "toc": true,
        "categories": "kubernetes",
        "tags": [
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "http://ycs.ylck.me/kubernetes4.png"
            }
        ]
    },
    {
        "title": "请求都去哪了？",
        "uri": "posts/where-is-the-request-1",
        "content": "Gateway VirtualService   Destinationrule                                                        Envoy                                                         pilot  1  pilot              pilot             pilot         oldpilotrepo                         pilot        pilot agent   pilot discovery     agent    pilot agent     proxy    Envoy                 discovery service    pilot discovery                      Deployment    discovery service     Kubernetes apiserver list watch service endpoint pod node          istio           VirtualService DestinationRule        Envoy              proxy       Envoy      discovery service      Kubernetes                       agent      Envoy         Envoy       service A B       Istio       Service A B           proxy          Istio                                          xDS             Envoy    xDS                      2  pilot discovery   Envoy     xds       xds pilot discovery          sidecar    Envoy   proxy                    discovery service    xds        x               XaaS      IaaS PaaS SaaS     Istio   xds    cds cluster discovery service  lds listener discovery service  rds route discovery service  eds endpoint discovery service    ads aggregated discovery service                    cluster endpoint route                   Envoy        data plane api github com envoyproxy data plane api            endpoint                  ip         Kubernetes      Pod  cluster      cluster                           endpoint cluster    Kubernetes   Service         Kubernetes Service                        Pod  route                                           cluster        route                     cluster                 Envoy   proxy            cluster discovery service route discovery service   xxx discovery service    Envoy    pilot discovery      endpoint cluster                                 istioctl             service mesh        istioctl     xds                     ads          xds           gRPC         xds           ads                cds rds                                           Envoy         xds pilot discovery          init          discovery service    xDS      envoy API reference      v1   v2       API    envoy control plane    v2 grpc                      xds         v2   grpc        pilot     InitDebug      debug         routes              eds      Service istio pilot   Cluster IP    export PILOTSVCIP   kubectl  n istio system svc istio pilot  o go template     spec clusterIP          eds    curl http    PILOTSVCIP 8080 debug edsz     clusterName    outbound 9080  reviews nino svc cluster local    endpoints       lbEndpoints       endpoint      address      socketAddress      address    10 244 0 56    portValue   9080             endpoint      address      socketAddress      address    10 244 0 58    portValue   9080             endpoint      address      socketAddress      address    10 244 2 25    portValue   9080                   clusterName    outbound 9080 v3 reviews nino svc cluster local    endpoints       lbEndpoints       endpoint      address      socketAddress      address    10 244 0 58    portValue   9080                   cds   curl http    PILOTSVCIP 8080 debug cdsz    node    sidecar 172 30 104 45 fortio deploy 56dcc85457 b2pkc default default svc cluster local 10    addr    172 30 104 45 43876    connect    2018 08 07 06 31 08 161483005  0000 UTC m  54 337448884   Clusters      name    outbound 9080  details default svc cluster local    type    EDS    edsClusterConfig      edsConfig      ads           serviceName    outbound 9080  details default svc cluster local      connectTimeout    1 000s    circuitBreakers      thresholds                       name    outbound 9090  prometheus k8s monitoring svc cluster local    type    EDS    edsClusterConfig      edsConfig      ads           serviceName    outbound 9090  prometheus k8s monitoring svc cluster local      connectTimeout    1 000s    circuitBreakers      thresholds                   name    BlackHoleCluster    connectTimeout    5 000s           ads   curl http    PILOTSVCIP 8080 debug adsz 3  Envoy                                 Envoy        Listener       listener                                               unix       Envoy                               Envoy                          Listener            TCP                 L3 L4       Listenter       Listener Discovery Service LDS       Listener filter   Listener    listener filter                            Envoy                    Listener filter   API                                                        Envoy                Http Route Table   HTTP               Path              Cluster  Cluster      cluster   Envoy                  Envoy                Envoy                          Envoy                                   Envoy                 Listener Route   Cluster                                    Listener      Http Route Table       Cluster        Cluster          4  Gateway   VirtualService            Istio                           Gateway         apiVersion  networking istio io v1alpha3 kind  Gateway metadata  name  bookin",
        "objectID": "posts/where-is-the-request-1",
        "subtitle": "Istio 网关中的 Gateway 和 VirtualService 配置深度解析",
        "date": "2018-08-08T08:56:31.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh",
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "请求都去哪了？（续）",
        "uri": "posts/where-is-the-request-2",
        "content": "ingressgateway             Istio                 bookinfo                ingressgateway    GateWay   VirtualService                   productpage                            1  Pod                      Istio        Kubernetes      Pod       ClusterIP             Istio   Pod       Sidecar                    ClusterIP                                ingressgateway   productpage             ingressgateway     endpoint       endpoint     ClusterIP   Port    PodIP   Port      istioctl      eds            pilot   xds debug           istio pilot   ClusterIP   export PILOTSVCIP   kubectl  n istio system svc  l app istio pilot  o go template    range  items     spec clusterIP    end        eds   curl http    PILOTSVCIP 8080 debug edsz grep  outbound 9080  productpage default svc cluster local   A 27  B 1    clusterName    outbound 9080  productpage default svc cluster local    endpoints        lbEndpoints        endpoint      address      socketAddress      address    172 30 135 40    portValue   9080         metadata      filterMetadata      istio      uid    kubernetes   productpage v1 76474f6fb7 pmglr default                                        PodIP   Port      Service               Pod              Service  2     bookinfo                Istio     bookinfo       Istio           Pod     Envoy                  Envoy                      istioctl                      proxy config         Envoy                                     Pod     productpage        productpage   Pod Name    kubectl pod  l app productpage NAME READY STATUS RESTARTS AGE productpage v1 76474f6fb7 pmglr 2 2 Running 0 7h 1     productpage               istioctl proxy config listeners productpage v1 76474f6fb7 pmglr ADDRESS PORT TYPE 172 30 135 40 9080 HTTP      Receives inbound traffic 9080 listener 0 0 0 0_15001 10 254 223 255 15011 TCP 2                 Sidecar         0 0 0 0 15001      IP tables   pod                       useOriginalDst     true                                                    404   BlackHoleCluster    istioctl proxy config listeners productpage v1 76474f6fb7 pmglr   port 15001  o json      name    virtual    address      socketAddress      address    0 0 0 0    portValue   15001       filterChains        filters        name    envoy tcp_proxy    config      cluster    BlackHoleCluster    stat_prefix    BlackHoleCluster              useOriginalDst   true     3          9080     HTTP                0 0 0 0 9080                    RDS                      Pilot     RDS      9080    ADS     istioctl proxy config listeners productpage v1 76474f6fb7 pmglr   address 0 0 0 0   port 9080  o json      rds      config_source      ads          routeconfigname    9080        4  9080                            reviews       Envoy                           Envoy                                                        Envoy        outbound 9080  reviews default svc cluster local       istioctl proxy config routes productpage v1 76474f6fb7 pmglr   name 9080  o json      name    9080    virtualHosts        name    reviews default svc cluster local 9080    domains      reviews default svc cluster local    reviews default svc cluster local 9080    reviews    reviews 9080    reviews default svc cluster    reviews default svc cluster 9080    reviews default svc    reviews default svc 9080    reviews default    reviews default 9080    172 21 152 34    172 21 152 34 9080      routes        match      prefix           route      cluster    outbound 9080  reviews default svc cluster local    timeout    0 000s         5          Pilot    ADS            Envoy     serviceName                               istioctl proxy config clusters productpage v1 76474f6fb7 pmglr   fqdn reviews default svc cluster local  o json      name    outbound 9080  reviews default svc cluster local    type    EDS    edsClusterConfig      edsConfig      ads          serviceName    outbound 9080  reviews default svc cluster local      connectTimeout    1 000s    circuitBreakers      thresholds                                         productpage   reviews       reviews                                              3  VirtualService   DestinationRule      VirtualService        VirtualService    cat                              productpage              DestinationRule                       DestinationRule    cat 4        Envoy   Pilot",
        "objectID": "posts/where-is-the-request-2",
        "subtitle": "服务网格内部的 VirtualService 和 DestinationRule 配置深度解析",
        "date": "2018-08-13T08:30:30.000Z",
        "draft": false,
        "toc": true,
        "categories": "service mesh",
        "tags": [
            "istio",
            "service mesh",
            "kubernetes"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Zabbix Api 简介和使用",
        "uri": "posts/zabbix-api-introduce-and-use",
        "content": "1  API   Zabbix API                                                              Zabbix API                             Zabbix API   1 8                    Zabbix         API      WEB              Zabbix API                                  JSON RPC            Zabbix                             Zabbix API                Zabbix                  API   JSON RPC                   POST            JSON    2  Zabbix API         API         JSON                                   POST    http   example com zabbix api_jsonrpc php    JSON            HTTP Header Content Type     application jsonrequest application json rpc application json       http   example com zabbix   Zabbix     api_jsonrpc php    API PHP                       SESSIONID     SESSIONID             POST        JSON                      curl    API        SESSIONID   curl  s  X POST  H  Content Type application json   d          jsonrpc    2 0      method    host get      params        user    Admin      password    zabbix          id   1      http   172 16 241 130 zabbix api_jsonrpc php   python  m json tool    jsonrpc    2 0    result    581cc92624202bddaeff3a90cca181dc    id   1        SESSIONID     API   host get      hostid   curl  s  X POST  H  Content Type application json   d          jsonrpc    2 0      method    host get      params        output     hostid           auth    581cc92624202bddaeff3a90cca181dc      id   1      http   172 16 241 130 zabbix api_jsonrpc php   python  m json tool    jsonrpc    2 0    result        hostid    10084        id   1          jsonrpc    2 0        JSON RPC                         method    method name                    host create item update     params        JSON                         name     key_                    Zabbix API           id   1          JSON                   id                                auth    581cc92624202bddaeff3a90cca181dc           authentication token          API      API              ID     python    API           python 3             zabbix   API        pip    zabbix api       pip install zabbix api   pip list iniparse  0 3 1  ordereddict  1 2  pip  8 1 0  pycurl  7 19 0  pygpgme  0 1  setuptools  19 6 2  urlgrabber  3 9 1  yum metadata parser  1 1 2  zabbix api  0 4         hostid     python            vim get_hostid py    usr bin env python encoding  utf 8 zabbix_api import ZabbixAPI server    http   172 16 241 130 zabbix  username    Admin  password    zabbix  zapi   ZabbixAPI server server  path     log_level 0  zapi login username  password          hostid hostinfo zapi host get   output   extend   filter    host   Zabbix server     hostid_01 hostinfo0 print hostid_01           hostid hostinfo zapi host get   output   extend   filter    name   Zabbix server     hostid_02 hostinfo0 print hostid_02               python get_hostid py  10084   10084                           python            vim get_items py    usr bin env python encoding  utf 8 zabbix_api import ZabbixAPI import pprint server    http   172 16 241 130 zabbix  username    Admin  password    zabbix  zapi   ZabbixAPI server server  path     log_level 0  zapi login username  password  result   zapi item get   output     itemids    key_     host    Zabbix server    pprint pprint result               python get_items py    itemid    23327    key_    agent hostname      itemid    23287    key_    agent ping      itemid    23288    key_    agent version      itemid    23289    key_    kernel maxfiles      itemid    23290    key_    kernel maxproc      itemid    23683    key_    mysql ping      itemid    23684    key    mysql status Bytesreceived       itemid    23685    key    mysql status Bytessent       snip     itemid    23635    key_    zabbix vmware buffer pfree       itemid    23274    key_    zabbix wcache history pfree       itemid    23275    key_    zabbix wcache index pfree       itemid    23276    key_    zabbix wcache trend pfree       itemid    23277    key_    zabbix wcache values                      python            vim get_items py    usr bin env python encoding  utf 8 zabbix_api import ZabbixAPI import pprint server    http   172 16 241 130 zabbix  username    Admin  password    zabbix  zapi   ZabbixAPI server server  path     log_level 0  zapi login username  password  result   zapi history get   output    extend    history   0   itemids    23296    sortfield    clock    sortorder    DESC    limit   10   pprint pprint result               python get_items py    clock    1483637416    itemid    23296    ns    833400783    value    0 0100      clock    1483637356    itemid    23296    ns    102860881    value    0 0300      clock    1483637296    itemid    23296    ns    609325047    value    0 0800      clock    1483637236    itemid    23296    ns    31887252    value    0 1300      snip                               python            vim history_data py    usr bin env python encoding  utf 8     Retrieves history data given numeric  either int float  item_id     zabbix_api import ZabbixAPI import pprint datetime import datetime import time server    http   172 16 241 130 zabbix  username    Admin  password",
        "objectID": "posts/zabbix-api-introduce-and-use",
        "subtitle": "Python 调用 Zabbix 的 Api",
        "date": "2017-01-05T10:19:18.000Z",
        "draft": false,
        "toc": true,
        "categories": "python",
        "tags": [
            "python"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "十分钟告诉你什么是最小二乘法",
        "uri": "posts/十分钟告诉你什么是最小二乘法",
        "content": "emsp  emsp                                                                                                                                                                                         emsp  emsp                                                                                                                        t1   t2   t_3           1 1   2 2   3 2                         y   C   Dt tag 1                                                                                                 C D                                                        begin cases  C   D   1       C   2D  2       C   3D  2  end cases  tag 2                                               AX   B tag 3        A    begin bmatrix  1   1    1   2    1   3  end bmatrix    X    begin bmatrix  C   D  end bmatrix    B    begin bmatrix  1    2    3  end bmatrix     emsp  emsp A                                 B                      AX B              AX   B   E tag 4        E    begin bmatrix  e1    e2    e3  end bmatrix    e1   C   D   1   e2   C   2D   2   e3   C   3D   2  E                left AX   B right  2      left E right  2          left E right  2    left e1 right  2    left e2 right  2    left e_3 right  2 tag 5     emsp  emsp      t1   t2   t3   x          y C Dt       s1   s2   s3        begin cases   left e1 right     left t1 s_1 right         left e2 right     left t2 s_2 right         left e3 right     left t3 s_3 right   end cases  tag 6       s1   s2   s3         p1   p2   p3    p    begin bmatrix p1    p2   p_3 end bmatrix            AX   B           AX   p             AX   p                                X                 A hat X    p tag 7      p B p                 P     p   PB tag 8                                                          P        P   A A TA    1 A T tag 9       8       p   A A TA    1 A TB tag 10      10    7       A hat X    A A TA    1 A TB               A TAX   A TB tag 11          hat X     begin bmatrix   frac 2  3       frac 1  2   end bmatrix                         y    frac 2  3     frac 1  2 t tag 12",
        "objectID": "posts/十分钟告诉你什么是最小二乘法",
        "subtitle": "理解最小二乘法",
        "date": "2016-06-04T13:28:25.000Z",
        "draft": false,
        "mathjax": true,
        "categories": "math",
        "tags": [
            "math"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "向量的叉乘与行列式",
        "uri": "posts/向量的叉乘与行列式",
        "content": "1                                                                                                                                               S       S    frac 1  2  left  vec A  right  left  vec MN  right     frac 1  2  left  vec A  right  left  vec B  right  sin  theta   tag 1       sin  theta                          vec a  cdot vec b   left  vec a  right  left  vec b  right  cos  theta           sin  theta            cos  theta       cos  theta   frac  vec a  cdot vec b    left  vec a  right  left  vec b  right    tag 2               cos 2  theta   sin 2  theta  1  tag 3            sin  theta                                          sin  theta            cos  theta              sin  theta                        sin  theta          vec A     vec B         theta       vec A        90  circ     vec A  prime                             begin cases   beta  frac  pi  2   theta        cos  beta   sin  theta   end cases           vec A         vec B           sin  theta       vec A  prime         vec B           cos  beta         begin aligned     left  vec A  right  left  vec B  right  sin  theta             left  vec A  prime  right  left  vec B  right  cos  beta             vec A  prime  cdot vec B    end aligned         left  vec A  right  left  vec B  right  sin  theta   vec A  prime  cdot vec B   tag 4                                  vec A  prime         vec A        left langle a1 a2  right rangle                90  circ       A  prime  left langle  a2 a1  right rangle           vec B        left langle b1 b2  right rangle       vec A     vec B          4         begin aligned     vec A  prime  cdot vec B             left langle  a2 a1  right rangle  cdot  left langle b1 b2  right rangle           a1b2 a2b1   end aligned                  begin aligned    a1b2 a2b1            begin vmatrix  a1   a2     b1   b2  end vmatrix            det  vec A   vec B     end aligned                 S  frac 1  2 det  vec A   vec B    tag 5                     vec A       vec B             vec A     vec B                                                                                 vec A       vec B                 vec A     vec B                2                                                                                                                       vec A     vec B     vec C         begin aligned  det  vec A   vec B   vec C        begin vmatrix  a1   a2   a3     b1   b2   b3     c1   c2   c_3  end vmatrix            a1 begin vmatrix  b2   b3     c2   c3  end vmatrix    a2 begin vmatrix  b1   b3     c1   c3  end vmatrix    a3 begin vmatrix  b1   b2     c1   c_2  end vmatrix    end aligned                                                                            begin aligned   vec A  times vec B   begin vmatrix   hat i     hat j     hat k      a1   a2   a3     b1   b2   b3  end vmatrix    end aligned       hat i     hat j     hat k                             vec A  times vec B        vec A     vec B     color blue                                         vec A     vec B                                                                                                                                                 begin vmatrix   hat i     hat j     hat k      a1   a2   a3     b1   b2   b3  end vmatrix   begin vmatrix  a2   a3     b2   b3  end vmatrix  hat i   begin vmatrix  a1   a3     b1   b3  end vmatrix  hat j   begin vmatrix  a1   a2     b1   b2  end vmatrix  hat k   tag 6                                  color blue                                                                                                  6             begin aligned   vec A  times vec B   a2b3 a3b2  hat i   a1b3 a3b1  hat j   a1b2 a2b1  hat k    end aligned                   vec A  times vec B                 vec A  times vec B          begin aligned   left   vec A  times vec B   right  2      a2b3 a3b2  2  a1b3 a3b1  2  a1b2 a2b1  2            a1 2b2 2 a1 2b3 2   a2 2b1 2 a2 2b3 2   a3 2b1 2 a3 2b2 2             2 a1a2b1b2 a1a3b1b3 a2a3b2b3              underbrace a1 2b2 2 a1 2b3 2  a1 2b1 2    underbrace a2 2b1 2 a2 2b3 2  a2 2b2 2    underbrace a3 2b1 2 a3 2b2 2  a3 2b3 2   a1 2b1 2 a2 2b2 2 a3 2b3 2             2 a1a2b1b2 a1a3b1b3 a2a3b2b3                underbrace a1 2b1 2 a1 2b2 2 a1 2b3 2   a2 2b1 2 a2 2b2 2 a2 2b3 2   a3 2b1 2 a3 2b2 2 a3 2b3 2                   underbrace  a1 2b1 2 a2 2b2 2 a3 2b3 2  2 a1a2b1b2 a1a3b1b3 a2a3b2b3                a1 2 a2 2 a3 2  b1 2 b2 2 b3 2   a1b1 a2b2 a3b3  2            left  vec A  right  2 cdot left  vec B  right  2  left  vec A  cdot vec B  right  2            left  vec A  right  2 cdot left  vec B  right  2 cdot1  left  vec A  right  2 cdot left  vec B  right  2 cdot frac  left  vec A  cdot vec B  right  2   left  vec A  right  2 cdot left  vec B  right  2             left  vec A  right  2 cdot left  vec B  right  2 1  frac  left  vec A  cdot vec B  right  2   left  vec A  right  2 cdot left  vec B  right  2              left  vec A  right  2 cdot left  vec B  right  2 1 cos 2 left langle vec A   vec B  right rangle              left  vec A  right  cdot left  vec B  right  cdot sin left langle vec A",
        "objectID": "posts/向量的叉乘与行列式",
        "subtitle": "向量叉乘的几何意义解析",
        "date": "2016-12-03T23:59:48.000Z",
        "draft": false,
        "toc": true,
        "mathjax": true,
        "categories": "math",
        "tags": [
            "math"
        ],
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ]
    },
    {
        "title": "Prometheus 中文文档",
        "uri": "prometheus-handbook",
        "content": "Kubernetes                   Prometheus       Cloud Native Computing Foundation    CNCF                Kubernetes         Kubernetes               Prometheus                       Prometheus                                                   Gitbook   https   www yangcs net prometheus  Gitbook      https   ryanyang gitbook io prometheus               Github   https   github com yangchuansheng prometheus handbook                                                             CONTRIBUTING                 contributors",
        "objectID": "prometheus-handbook",
        "subtitle": "使用 Prometheus 监控云原生应用",
        "date": "2018-09-07T10:10:36.000Z",
        "draft": false,
        "bigimg": [
            {
                "src": "https://ws2.sinaimg.cn/large/006tNbRwgy1fwtkgo7kp3j31kw0d0750.jpg"
            }
        ],
        "postmeta": false,
        "nocomment": true,
        "noshare": true
    }
]